(this["webpackJsonpknkpt_bvnd2-app"]=this["webpackJsonpknkpt_bvnd2-app"]||[]).push([[0],{234:function(e,t,n){},295:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},329:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),r=n(66),a=n.n(r),s=(n(295),n(22)),c=n(50),l=(n(219),n(31)),d=n(342),h=n(448),p=n(442),u=n(123),x=n(0);var j=function(e){return Object(x.jsx)(d.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,backgroundColor:e.changeBackground?"rgba(0, 0, 0, 0.25)":"rgba(0, 0, 0, 0.6)"},open:e.openAlertProcessingBackdrop,children:Object(x.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(h.a,{color:"inherit"}),Object(x.jsx)(u.a,{sx:{mt:1.4},variant:"subtitle1",children:e.alertTitle})]})})},g=n(30),b=n.n(g);const m="https://api-khamnhi.somee.com",f=()=>{const e=localStorage.getItem("jwt");return{headers:{Authorization:"Bearer ".concat(e)}}},O=o.a.createContext(null),y=e=>{let{children:t}=e;const n={isAuthenticated:!1,isLogin:!1,token:""},[o,r]=Object(i.useState)(n),[a,s]=Object(i.useState)(!1),c=async()=>{s(!0);const e=await(async()=>{const e=f();return await b.a.get("".concat(m,"/api/UserAccount/GetUserLogin"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))})();r({isAuthenticated:!0,isLogin:!0,userId:e.userId,userFullName:e.userFullName,positionName:e.positionName}),s(!1)},l=()=>{let e=!1,t=localStorage.getItem("jwt");if(t){let n=(e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}})(t),i=new Date;return 1e3*n.exp<i.getTime()?(localStorage.removeItem("jwt"),e):(e=!0,e)}return e};return Object(i.useEffect)((()=>{l()?c():r(n)}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O.Provider,{value:{user:o,loginContext:e=>{r({...e})},logoutContext:()=>{r({...n})}},children:t}),Object(x.jsx)(j,{openAlertProcessingBackdrop:a,alertTitle:"\u0110ang t\u1ea3i th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"})]})};var v=e=>localStorage.getItem("jwt")?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(l.Route,{path:e.path,component:e.component})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(l.Redirect,{to:"/login"})}),C=n(243),I=n(415),k=n(420),w=n(464),T=n(449),M=n(43),N=n.n(M);var E=function(e){return Object(x.jsxs)(I.a,{fullWidth:!0,maxWidth:"sm",open:e.openModalUserManual,disableEscapeKeyDown:!0,children:[Object(x.jsx)(k.a,{sx:{fontWeight:"bolder",fontSize:"20px",textAlign:"center",color:"red",textTransform:"uppercase"},children:"H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng"}),Object(x.jsx)(T.a,{onClick:()=>e.setOpenModalUserManual(!1),sx:{position:"absolute",right:5,top:7},children:Object(x.jsx)(N.a,{fontSize:"medium"})}),Object(x.jsxs)(w.a,{dividers:!0,sx:{pl:"15px",pr:"15px"},children:[Object(x.jsx)(u.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"\u0110i\u1ec1u d\u01b0\u1ee1ng"}),Object(x.jsxs)(p.a,{sx:{pl:"5px",pr:"5px"},children:[Object(x.jsx)(u.a,{sx:{color:"green",fontWeight:"bolder"},children:"\u0110\u0103ng k\xfd kh\xe1m"}),Object(x.jsx)(u.a,{children:"Nh\u1ea5n ph\xedm F2 ho\u1eb7c n\xfat \u0110\u0103ng k\xfd tr\xean m\xe0n h\xecnh"}),Object(x.jsx)(u.a,{sx:{color:"green",fontWeight:"bolder"},children:"L\xe0m m\u1edbi form th\xf4ng tin \u0111\u0103ng k\xfd kh\xe1m"}),Object(x.jsx)(u.a,{children:"Nh\u1ea5n ph\xedm F4 ho\u1eb7c n\xfat L\xe0m m\u1edbi tr\xean m\xe0n h\xecnh"}),Object(x.jsx)(u.a,{sx:{color:"green",fontWeight:"bolder"},children:"T\xecm b\u1ec7nh c\u0169"}),Object(x.jsx)(u.a,{children:"Nh\u1ea5n ph\xedm F8 ho\u1eb7c n\xfat B\u1ec7nh c\u0169 tr\xean m\xe0n h\xecnh, sau khi nh\u1eadp th\xf4ng tin v\xe0 t\xecm \u0111\u01b0\u1ee3c b\u1ec7nh nh\xe2n, click \u0111\xfap th\xf4ng tin b\u1ec7nh nh\xe2n \u0111\u1ec3 form th\xf4ng tin \u0111\u0103ng k\xfd kh\xe1m nh\u1eadn d\u1eef li\u1ec7u"}),Object(x.jsx)(u.a,{sx:{color:"green",fontWeight:"bolder"},children:"S\u1eeda th\xf4ng tin b\u1ec7nh nh\xe2n"}),Object(x.jsx)(u.a,{children:"Trong b\u1ea3ng danh s\xe1ch \u0111\u0103ng k\xfd kh\xe1m trong ng\xe0y, nh\u1ea5n v\xe0o b\u1ec7nh nh\xe2n \u0111\u1ec3 m\u1edf form s\u1eeda th\xf4ng tin"})]}),Object(x.jsx)(u.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"B\xe1c s\u0129"}),Object(x.jsxs)(p.a,{sx:{pl:"5px",pr:"5px"},children:[Object(x.jsx)(u.a,{sx:{color:"green",fontWeight:"bolder"},children:"Kh\xe1m b\u1ec7nh"}),Object(x.jsx)(u.a,{children:"B\u01b0\u1edbc 1: Nh\u1ea5n ch\u1ecdn b\u1ec7nh nh\xe2n \u0111\u1ec3 kh\xe1m"}),Object(x.jsx)(u.a,{children:"B\u01b0\u1edbc 2: Nh\u1ea5n F2 \u0111\u1ec3 b\u1eaft \u0111\u1ea7u kh\xe1m"}),Object(x.jsx)(u.a,{children:"B\u01b0\u1edbc 3: Nh\u1ea5n F4 \u0111\u1ec3 k\u1ebft th\xfac kh\xe1m"}),Object(x.jsx)(u.a,{sx:{color:"green",fontWeight:"bolder"},children:"S\u1eeda th\xf4ng tin h\u1ecfi b\u1ec7nh khi \u0111\xe3 k\u1ebft th\xfac kh\xe1m"})]}),Object(x.jsx)(u.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"Admin"})]})]})},S=n(450),B=n(451),F=n(452),P=n(453),D=n(439),R=n.p+"static/media/logo.e5a4a234.png",z=n(244),W=n.n(z),A=n(246),L=n.n(A),Y=n(245),Q=n.n(Y),H=n(247),V=n.n(H),G=n(197),K=n.n(G),U=n(440),q=n(263),_=n(443);var X=Object(l.withRouter)((function(e){const{user:t,logoutContext:n}=Object(i.useContext)(O),o=Object(C.useLocation)(),r=Object(l.useHistory)(),[a,s]=Object(i.useState)(!1),[d,h]=Object(i.useState)(null),u=localStorage.getItem("jwt"),j=Boolean(d),g=e=>{h(e.currentTarget)},b=()=>{h(null)},m=[{key:"medicalRegister",maxWidth:"114px",label:"\u0110\u0103ng k\xfd kh\xe1m",icon:Object(x.jsx)(W.a,{sx:{fontSize:30}}),LinkComponent:c.c,to:"/medicalregister"},{key:"re-examining",maxWidth:"95px",label:"Nh\u1eafc kh\xe1m",icon:Object(x.jsx)(Q.a,{sx:{fontSize:30}}),LinkComponent:c.c,to:"/re-examination"}],f=[{key:"examining",maxWidth:"100px",label:"Kh\xe1m b\u1ec7nh",icon:Object(x.jsx)(L.a,{sx:{fontSize:30}}),LinkComponent:c.c,to:"/doctor-examining"}],y=[{key:"statistical",maxWidth:"83px",label:"Th\u1ed1ng k\xea",icon:Object(x.jsx)(V.a,{sx:{fontSize:30}}),LinkComponent:c.c,to:"/dashboard"}],[v,I]=Object(i.useState)([]),k=(w=e.location.pathname,v.findIndex((e=>e.to===w)));var w;const T=()=>{localStorage.removeItem("jwt"),n(),h(null),r.push("/login")};return Object(i.useEffect)((()=>{"Nursing"===t.positionName?I(m):"Doctor"===t.positionName?I(f):"Admin"===t.positionName&&I(y)}),[t]),"/login"!==o.pathname?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{sx:{width:"100%",position:"fixed",top:0},children:Object(x.jsx)(S.a,{children:Object(x.jsxs)(B.a,{sx:{backgroundColor:"#cfe8fc",height:"78px"},children:[Object(x.jsx)(c.b,{to:"/",children:Object(x.jsx)(D.a,{src:R,sx:{width:62,height:62,mt:"auto",mb:"auto",mr:4}})}),!0===t.isAuthenticated||u?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(F.a,{showLabels:!0,value:k,sx:{display:"flex",justifyContent:"flex-start",backgroundColor:"#cfe8fc",flexGrow:1},children:v.map((e=>Object(x.jsx)(P.a,{label:e.label,icon:e.icon,LinkComponent:e.LinkComponent,to:e.to,sx:{color:"#000",maxWidth:e.maxWidth}},e.key)))}),Object(x.jsx)(U.a,{onClick:g,sx:{color:"#000",textTransform:"none"},children:t.userFullName}),Object(x.jsxs)(q.a,{anchorEl:d,open:j,onClose:b,children:[Object(x.jsx)(_.a,{children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),Object(x.jsx)(_.a,{onClick:T,children:"\u0110\u0103ng xu\u1ea5t"})]}),Object(x.jsx)(K.a,{titleAccess:"H\u01b0\u1edbng d\u1eabn",sx:{color:"black",fontSize:"30px",cursor:"pointer"},onClick:()=>s(!0)})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{sx:{position:"absolute",right:22},children:[Object(x.jsx)(c.c,{exact:!0,to:"/login",children:Object(x.jsx)(U.a,{sx:{textTransform:"none",color:"#000"},children:"\u0110\u0103ng nh\u1eadp"})}),Object(x.jsx)(K.a,{titleAccess:"H\u01b0\u1edbng d\u1eabn",sx:{color:"black",fontSize:"30px",cursor:"pointer"},onClick:()=>s(!0)})]})})]})})}),Object(x.jsx)(E,{openModalUserManual:a,setOpenModalUserManual:s})]}):Object(x.jsx)(x.Fragment,{})}));n(325);var J=()=>{let e=Object(l.useHistory)();return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"section",children:[Object(x.jsx)("h1",{className:"error",children:"404"}),Object(x.jsx)("div",{className:"page",children:"Oh snap!!! The page you are looking for is not found."}),Object(x.jsx)("div",{children:Object(x.jsx)("a",{className:"back-home",onClick:()=>{e.push("/")},children:"Back to home"})})]})})},Z=n(456),$=n(432),ee=n(455),te=n(268),ne=n(436),ie=n(160),oe=n.n(ie),re=n(161),ae=n.n(re);var se=e=>{const[t,n]=Object(i.useState)(!1),o=(t,n)=>{n&&"backdropClick"===n||e.setOpenModalRegister(!1)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(I.a,{maxWidth:"xs",fullWidth:!0,open:e.openModalRegister,onClose:(e,t)=>o(0,t),disableEscapeKeyDown:!0,children:[Object(x.jsx)(k.a,{sx:{m:0,p:1.4,fontWeight:"bolder",fontSize:"22px"},children:"T\u1ea1o t\xe0i kho\u1ea3n"}),Object(x.jsx)(T.a,{onClick:()=>o(),sx:{position:"absolute",right:5,top:7},children:Object(x.jsx)(N.a,{fontSize:"medium"})}),Object(x.jsxs)(w.a,{dividers:!0,children:[Object(x.jsx)($.a,{label:"H\u1ecd t\xean",variant:"outlined",sx:{width:"46ch",mb:2.5}}),Object(x.jsx)($.a,{label:"T\xe0i kho\u1ea3n",variant:"outlined",sx:{width:"46ch",mb:2.5}}),Object(x.jsx)($.a,{label:"M\u1eadt kh\u1ea9u",variant:"outlined",type:t?"text":"password",sx:{width:"46ch",mb:2.5},InputProps:{endAdornment:Object(x.jsx)(ee.a,{position:"end",children:Object(x.jsxs)(T.a,{onClick:()=>n(!t),sx:{padding:"1px"},children:[" ",t?Object(x.jsx)(oe.a,{}):Object(x.jsx)(ae.a,{})]})})}}),Object(x.jsx)(ne.a,{options:[{id:"1",positionName:"\u0110i\u1ec1u d\u01b0\u1ee1ng"},{id:"2",positionName:"B\xe1c s\u0129"}].map((e=>e.positionName)),renderInput:e=>Object(x.jsx)($.a,{...e,label:"V\u1ecb tr\xed"}),sx:{width:"45.95ch",mb:2.5}}),Object(x.jsx)(te.a,{spacing:2,direction:"column",children:Object(x.jsx)(U.a,{sx:{height:"6vh",width:"20ch"},variant:"contained",color:"success",style:{margin:"auto"},onClick:()=>o(),children:"T\u1ea1o t\xe0i kho\u1ea3n"})})]})]})})};var ce=()=>{const{user:e,loginContext:t}=Object(i.useContext)(O),n=Object(l.useHistory)(),[o,r]=Object(i.useState)(!1),[a,c]=Object(i.useState)({userId:"",password:""}),[d,h]=Object(i.useState)(!1),[g,f]=Object(i.useState)(!1),y=async()=>{if(""===a.userName)s.b.error("B\u1ea1n ch\u01b0a nh\u1eadp t\xe0i kho\u1ea3n!");else if(""===a.password)s.b.error("B\u1ea1n ch\u01b0a nh\u1eadp m\u1eadt kh\u1ea9u!");else{r(!0);const e=await(async(e,t)=>await b.a.post("".concat(m,"/api/UserAccount/Login"),{userId:e,password:t}).then((function(e){return e})).catch((function(e){return e.response})))(a.userId,a.password);r(!1),200!==e.status?s.b.error(e.data):(t({isAuthenticated:!0,isLogin:!0,userId:e.data.userId,userFullName:e.data.userFullName,positionName:e.data.positionName}),localStorage.setItem("jwt",e.data.tokenDTO.token),"Nursing"===e.data.positionName?n.push("/medicalregister"):"Doctor"===e.data.positionName?n.push("/doctor-examining"):n.push("/"))}};return Object(i.useEffect)((()=>{e&&!0===e.isAuthenticated&&n.push("/");localStorage.getItem("jwt")&&n.push("/")}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Z.a,{maxWidth:"sm",children:Object(x.jsx)(p.a,{sx:{mt:3,borderRadius:"25px"},children:Object(x.jsxs)(p.a,{sx:{p:7.6},children:[Object(x.jsx)(D.a,{src:R,sx:{width:120,height:120,ml:"auto",mr:"auto",mb:2}}),Object(x.jsx)(u.a,{sx:{textAlign:"center",textTransform:"uppercase",fontWeight:"bolder",fontSize:"1.15rem",mb:2,color:"#4caf50"},variant:"h5",children:"Ch\u01b0\u01a1ng tr\xecnh kh\xe1m nhi khoa ph\xe1t tri\u1ec3n"}),Object(x.jsxs)(p.a,{component:"form",autoComplete:"off",style:{textAlign:"center"},children:[Object(x.jsx)($.a,{label:"T\xe0i kho\u1ea3n",variant:"outlined",sx:{width:"40ch",mb:2.5},onChange:e=>{return t=e.target.value,void c((e=>({...e,userId:t})));var t}}),Object(x.jsx)($.a,{label:"M\u1eadt kh\u1ea9u",variant:"outlined",type:g?"text":"password",sx:{width:"40ch",mb:3},onChange:e=>{return t=e.target.value,void c((e=>({...e,password:t})));var t},onKeyDown:e=>(e=>{13===e.which&&"Enter"===e.code&&y()})(e),InputProps:{endAdornment:Object(x.jsx)(ee.a,{position:"end",children:Object(x.jsxs)(T.a,{onClick:()=>f(!g),sx:{padding:"1px"},children:[" ",g?Object(x.jsx)(oe.a,{}):Object(x.jsx)(ae.a,{})]})})}}),Object(x.jsxs)(te.a,{spacing:2,direction:"column",children:[Object(x.jsx)(U.a,{sx:{height:"6.5vh",width:"28ch"},variant:"contained",style:{margin:"auto"},onClick:e=>y(),children:"\u0110\u0103ng nh\u1eadp"}),Object(x.jsxs)(u.a,{sx:{textAlign:"center"},variant:"subtitle1",children:["Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",Object(x.jsx)("strong",{style:{cursor:"pointer"},onClick:()=>h(!0),children:"\u0110\u0103ng k\xfd"})]})]})]})]})})}),Object(x.jsx)(se,{openModalRegister:d,setOpenModalRegister:h}),Object(x.jsx)(j,{openAlertProcessingBackdrop:o,setOpenAlertProcessingBackdrop:r,alertTitle:"\u0110ang \u0111\u0103ng nh\u1eadp"})]})},le=n(447),de=n(445),he=n(82),pe=n.n(he),ue=n(430);const xe="https://api-khamnhi.somee.com",je=()=>{const e=localStorage.getItem("jwt");return{headers:{Authorization:"Bearer ".concat(e)}}},ge=async()=>{const e=je();return await b.a.get("".concat(xe,"/api/Medical/GetRegistersByDateNow"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))},be=async e=>{const t=je();return await b.a.get("".concat(xe,"/api/Medical/GetExaminationsGiveRegister?dayOfBirth=").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))},me=async e=>{const t=je();return await b.a.get("".concat(xe,"/api/Medical/GetMediacalBook?medicalBookId=").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response}))},fe=async(e,t)=>{const n=localStorage.getItem("jwt");return await b.a.put("".concat(xe,"/api/Medical/UpdateState?id=").concat(e,"&state=").concat(t),{},{headers:{"content-type":"text/plain; charset=utf-8",Authorization:"Bearer ".concat(n)}}).then((function(e){return e})).catch((function(e){return e.response}))};var Oe=function(e){const[t,n]=Object(i.useState)(!1),[o,r]=Object(i.useState)([]),[a,c]=Object(i.useState)(null),l=async()=>{if(null===a)s.b.error("B\u1ea1n ch\u01b0a ch\u1ecdn b\xe1c s\u0129 kh\xe1m!",{toastId:"error1"});else if(pe.a.isEqual(e.currentDoctorExamining,a))s.b.warning("Hi\u1ec7n kh\xf4ng c\xf3 g\xec \u0111\u1ec3 l\u01b0u",{toastId:"warning1"});else{const t=await(async e=>{const t=localStorage.getItem("jwt");return await b.a.post("".concat(xe,"/api/Medical/SetDoctorExaming/").concat(e),{},{headers:{"content-type":"text/plain; charset=utf-8",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(a.userIdDoctor);s.b.success(t.data,{toastId:"success1"}),e.setCurrentDoctorExamining(a),e.setOpenSelectedDoctorExaminingModal(!1)}},d=async()=>{const t=await(async()=>{const e=f();return await b.a.get("".concat(m,"/api/UserAccount/GetDoctors"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))})();if(r(t),""!==e.currentDoctorExamining.userIdDoctor){const n=t.findIndex((t=>t.userId===e.currentDoctorExamining.userIdDoctor));c(t[n])}};return Object(i.useEffect)((()=>{if(n(!0),e.openSelectedDoctorExaminingModal)if(0===o.length)d();else{const t=o.findIndex((t=>t.userId===e.currentDoctorExamining.userIdDoctor));c(o[t])}n(!1)}),[e.currentDoctorExamining,e.openSelectedDoctorExaminingModal]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(I.a,{fullWidth:!0,maxWidth:"xs",open:e.openSelectedDoctorExaminingModal,onClose:(t,n)=>((t,n)=>{n&&"backdropClick"===n||(e.setOpenSelectedDoctorExaminingModal(!1),c(null))})(0,n),disableEscapeKeyDown:!0,children:[Object(x.jsx)(k.a,{sx:{m:0,p:1.4,fontWeight:"bolder",fontSize:"22px"},children:e.currentDoctorExamining?"Thay \u0111\u1ed5i b\xe1c s\u0129 kh\xe1m":"Ch\u1ecdn b\xe1c s\u0129 kh\xe1m"}),Object(x.jsx)(T.a,{onClick:()=>e.setOpenSelectedDoctorExaminingModal(!1),sx:{position:"absolute",right:5,top:7},children:Object(x.jsx)(N.a,{fontSize:"medium"})}),Object(x.jsx)(w.a,{dividers:!0,children:t?Object(x.jsx)(h.a,{}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{sx:{height:"auto"},children:[Object(x.jsx)(ne.a,{value:a,sx:{marginBottom:"10px"},options:o,PopperComponent:e=>Object(x.jsx)(ue.a,{...e,style:{width:e.anchorEl?e.anchorEl.clientWidth:void 0},placement:"bottom-start"}),getOptionLabel:e=>e.userFullName,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.userFullName}),onChange:(e,t)=>((e,t)=>{c({userFullName:t.userFullName,userIdDoctor:t.userId})})(0,t),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Ch\u1ecdn m\u1ed9t b\xe1c s\u0129"}),disableClearable:!0,popupIcon:null}),Object(x.jsx)(te.a,{spacing:2,direction:"column",children:Object(x.jsx)(U.a,{sx:{width:"12ch"},variant:"contained",color:"success",style:{margin:"auto"},onClick:()=>l(),children:"L\u01b0u"})})]})})})]})})};var ye=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(I.a,{fullWidth:!0,maxWidth:"sm",open:e.openAlertProcessing,disableEscapeKeyDown:!0,children:Object(x.jsx)(w.a,{children:Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang x\u1eed l\xfd..."})]})})})})},ve=n(466),Ce=n(438),Ie=n(467),ke=n(465),we=n(262),Te=n(434),Me=n(424),Ne=n(423),Ee=n(250),Se=n(429),Be=n(24),Fe=n.n(Be);const Pe="https://api-khamnhi.somee.com",De=()=>{const e=localStorage.getItem("jwt");return{headers:{Authorization:"Bearer ".concat(e)}}},Re=async()=>{const e=De();return await b.a.get("".concat(Pe,"/api/Administrative/ListProvince"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))},ze=async e=>{const t=De();return await b.a.get("".concat(Pe,"/api/Administrative/GetListDistrictByIdProvince/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))},We=async e=>{const t=De();return await b.a.get("".concat(Pe,"/api/Administrative/GetListWardByIdDistrict/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))},Ae=async e=>{const t=De();return await b.a.get("".concat(Pe,"/api/Administrative/GetFullAddressByIdWard/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))};var Le=function(e){const t={examinationId:"",height:"",weight:"",headCircumference:"",reason:"",vaccination:!1,id:"",patient:{identifier:"",address:"",fullName:"",dayOfBirth:null,codeWard:"",gender:!0,fullNameMother:"",phoneMother:"",fullNameFather:"",phoneFather:"",patientId:""}},n={identifier:{title:"",isError:!1,openTooltip:!1,focus:!1},fullName:{title:"",isError:!1,openTooltip:!1,focus:!1},gender:{title:"",isError:!1,openTooltip:!1,focus:!1},dayOfBirth:{title:"",isError:!1,openTooltip:!1,focus:!1},examiningSession:{title:"",isError:!1,openTooltip:!1,focus:!1},province:{title:"",isError:!1,openTooltip:!1,focus:!1},district:{title:"",isError:!1,openTooltip:!1,focus:!1},ward:{title:"",isError:!1,openTooltip:!1,focus:!1},address:{title:"",isError:!1,openTooltip:!1,focus:!1},fullNameMother:{title:"",isError:!1,openTooltip:!1,focus:!1},phoneMother:{title:"",isError:!1,openTooltip:!1,focus:!1},phoneFather:{title:"",isError:!1,openTooltip:!1,focus:!1},height:{title:"",isError:!1,openTooltip:!1,focus:!1},weight:{title:"",isError:!1,openTooltip:!1,focus:!1},headCircumference:{title:"",isError:!1,openTooltip:!1,focus:!1}},o=[{genderOrder:1,genderName:"Nam",genderValue:!0},{genderOrder:2,genderName:"N\u1eef",genderValue:!1}],r={gender:{value:null,openOption:!1},examiningSession:{value:null,openOption:!1,loading:!1},province:{value:null,openOption:!1},district:{value:null,openOption:!1},ward:{value:null,openOption:!1}},a=Object(i.useRef)(null),c=Object(i.useRef)(null),[l,d]=Object(i.useState)(),[u,j]=Object(i.useState)(),[g,m]=Object(i.useState)(t),[f,O]=Object(i.useState)(n),[y,v]=Object(i.useState)(r),[C,M]=Object(i.useState)([]),[E,S]=Object(i.useState)([]),[B,F]=Object(i.useState)({list:[],loading:!1}),[P,D]=Object(i.useState)({list:[],loading:!1}),[R,z]=Object(i.useState)(null),[W,A]=Object(i.useState)(!1),L=Object(we.a)({components:{MuiTooltip:{defaultProps:{placement:"bottom",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:"#d32f2f"}},arrow:{sx:{color:"#d32f2f"}}},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-8]}}]}}}}}}),Y=e=>{v("Gender"===e?e=>(e.gender.openOption=!0,{...e}):"ExaminingSession"===e?e=>(e.examiningSession.openOption=!0,{...e}):"Province"===e?e=>(e.province.openOption=!0,{...e}):"District"===e?e=>(e.district.openOption=!0,{...e}):e=>(e.ward.openOption=!0,{...e}))},Q=(e,t)=>{""===e||"DD/MM/YYYY"===e||""!==e&&("Gender"===t?v((e=>(e.gender.openOption=!1,{...e}))):"ExaminingSession"===t?v((e=>(e.examiningSession.openOption=!1,{...e}))):"Province"===t?v((e=>(e.province.openOption=!1,{...e}))):"District"===t?v((e=>(e.district.openOption=!1,{...e}))):"Ward"===t&&v((e=>(e.ward.openOption=!1,{...e}))))},H=e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||e.preventDefault()},V=(e,t)=>{let{inputValue:n}=t;const i=n.toLowerCase();return e.filter((e=>{const t=e.fullName.toLowerCase(),n=e.fullName.split(" ").map((e=>e[0])).join("").toLowerCase();return t.includes(i)||n.includes(i)}))},G=async e=>{v((e=>(e.examiningSession.value=null,{...e}))),v((e=>(e.examiningSession.loading=!0,{...e})));const t=await be(e);M(t.exams),v((e=>(e.examiningSession.loading=!1,{...e})))},K=(i,o)=>{o&&"backdropClick"===o||(F((e=>(e.loading=!1,e.list=[],{...e}))),D((e=>(e.loading=!1,e.list=[],{...e}))),M([]),v(r),m(t),j(""),O(n),d(!0),e.setSelectedPantientInfo(),e.setOpenModalInfoPantients(!1))},q=async()=>{if((()=>{const e={...f};let t=!0;return""!==f.identifier.title&&(Object.values(e).every((e=>!1===e.focus))&&(e.identifier.focus=!0,z("identifier")),t=!1),""===g.patient.fullName&&(e.fullName.title="B\u1ea1n ch\u01b0a nh\u1eadp h\u1ecd t\xean",e.fullName.openTooltip=!0,e.fullName.isError=!0,Object.values(e).every((e=>!1===e.focus))&&(e.fullName.focus=!0,z("fullName")),t=!1),""===g.patient.gender&&(e.gender.title="B\u1ea1n ch\u01b0a ch\u1ecdn gi\u1edbi t\xednh",e.gender.isError=!0,e.gender.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.gender.focus=!0,z("gender")),t=!1),""===g.patient.dayOfBirth&&(e.dayOfBirth.title="B\u1ea1n ch\u01b0a nh\u1eadp ng\xe0y sinh",e.dayOfBirth.isError=!0,e.dayOfBirth.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.dayOfBirth.focus=!0,c.current&&c.current.focus()),t=!1),""!==f.dayOfBirth.title&&(e.dayOfBirth.isError=!0,Object.values(e).every((e=>!1===e.focus))&&(e.dayOfBirth.focus=!0,c.current&&c.current.focus()),t=!1),null===y.examiningSession.value&&(e.examiningSession.title="B\u1ea1n ch\u01b0a ch\u1ecdn l\u1ea1i k\u1ef3 kh\xe1m",e.examiningSession.isError=!0,e.examiningSession.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.examiningSession.focus=!0,z("examiningSession")),t=!1),null===y.province.value&&(e.province.title="B\u1ea1n ch\u01b0a ch\u1ecdn t\u1ec9nh th\xe0nh",e.province.isError=!0,e.province.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.province.focus=!0,z("province")),t=!1),null===y.district.value&&(e.district.title="B\u1ea1n ch\u01b0a ch\u1ecdn qu\u1eadn huy\u1ec7n",e.district.isError=!0,e.district.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.district.focus=!0,z("district")),t=!1),null===y.ward.value&&(e.ward.title="B\u1ea1n ch\u01b0a ch\u1ecdn ph\u01b0\u1eddng x\xe3",e.ward.isError=!0,e.ward.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.ward.focus=!0,z("ward")),t=!1),""===g.patient.address&&(e.address.title="B\u1ea1n ch\u01b0a nh\u1eadp \u0111\u1ecba ch\u1ec9",e.address.isError=!0,e.address.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.address.focus=!0,z("address")),t=!1),""===g.patient.fullNameMother&&""===g.patient.fullNameFather&&(e.fullNameMother.title="B\u1ea1n ch\u01b0a nh\u1eadp t\xean ph\u1ee5 huynh",e.fullNameMother.isError=!0,e.fullNameMother.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.fullNameMother.focus=!0,z("fullNameMother")),t=!1),""===g.patient.phoneMother&&""===g.patient.phoneFather&&(e.phoneMother.title="B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",e.phoneMother.isError=!0,e.phoneMother.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.phoneMother.focus=!0,z("phoneMother")),t=!1),""!==e.phoneMother.title&&(e.phoneMother.isError=!0,Object.values(e).every((e=>!1===e.focus))&&(e.phoneMother.focus=!0,z("phoneMother")),t=!1),""!==e.phoneFather.title&&(e.phoneFather.isError=!0,Object.values(e).every((e=>!1===e.focus))&&(e.phoneFather.focus=!0,z("phoneFather")),t=!1),""===g.height&&(e.height.title="B\u1ea1n ch\u01b0a nh\u1eadp chi\u1ec1u cao",e.height.isError=!0,e.height.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.height.focus=!0,z("height")),t=!1),""===g.weight&&(e.weight.title="B\u1ea1n ch\u01b0a nh\u1eadp c\xe2n n\u1eb7ng",e.weight.isError=!0,e.weight.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.weight.focus=!0,z("weight")),t=!1),""===g.headCircumference&&(e.headCircumference.title="B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 v\xf2ng \u0111\u1ea7u",e.headCircumference.isError=!0,e.headCircumference.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.headCircumference.focus=!0,z("headCircumference")),t=!1),!0===pe.a.isEqual(g,u)&&(s.b.warning("Hi\u1ec7n kh\xf4ng c\xf3 g\xec \u0111\u1ec3 c\u1eadp nh\u1eadt",{toastId:"warning1"}),t=!1),O(e),t})()){A(!0);const t=await(async e=>{const t=localStorage.getItem("jwt");return await b.a.put("".concat(xe,"/api/Medical/EditRegister"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(g);200===t.status?(s.b.success(t.data,{toastId:"success1"}),e.setCompleteMedicalRegister(!0),K()):(s.b.error(t.data,{toastId:"error1"}),e.setCompleteMedicalRegister(!0),K()),A(!1)}};return Object(i.useEffect)((()=>{0===E.length&&(async()=>{const e=await Re();S(e)})()}),[]),Object(i.useEffect)((()=>{e.selectedPantientInfo&&(e.setIsContinueUpdateMedicalRegister(!1),(async()=>{A(!0);const t={...g};t.examinationId=e.selectedPantientInfo.examinationId,t.height=e.selectedPantientInfo.height,t.weight=e.selectedPantientInfo.weight,t.headCircumference=e.selectedPantientInfo.headCircumference,t.reason=e.selectedPantientInfo.reason,t.vaccination=e.selectedPantientInfo.vaccination,t.id=e.selectedPantientInfo.id,t.patient.identifier=e.selectedPantientInfo.patient.identifier,t.patient.address=e.selectedPantientInfo.patient.address,t.patient.fullName=e.selectedPantientInfo.patient.fullName,t.patient.dayOfBirth=e.selectedPantientInfo.patient.dayOfBirth,t.patient.codeWard=e.selectedPantientInfo.patient.codeWard,t.patient.gender=e.selectedPantientInfo.patient.gender,t.patient.fullNameMother=e.selectedPantientInfo.patient.fullNameMother,t.patient.phoneMother=e.selectedPantientInfo.patient.phoneMother,t.patient.fullNameFather=e.selectedPantientInfo.patient.fullNameFather,t.patient.phoneFather=e.selectedPantientInfo.patient.phoneFather,t.patient.patientId=e.selectedPantientInfo.patient.patientId,m(pe.a.cloneDeep(t)),j(pe.a.cloneDeep(t));const n=await Ae(e.selectedPantientInfo.patient.codeWard),i=await ze(n.provinceCode);F((e=>(e.list=i,{...e})));const r=await We(n.districtCode);D((e=>(e.list=r,{...e})));const a=await be(e.selectedPantientInfo.patient.dayOfBirth);M(a.exams);const s=o.find((t=>t.genderValue===e.selectedPantientInfo.patient.gender)),c=a.exams.findIndex((t=>t.id===e.selectedPantientInfo.examinationId)),l=E.findIndex((e=>e.code===n.provinceCode)),h=i.findIndex((e=>e.code===n.districtCode)),p=r.findIndex((e=>e.code===n.wardCode));v((e=>(e.gender.value=s,e.examiningSession.value=a.exams[c],e.province.value=E[l],e.district.value=i[h],e.ward.value=r[p],e))),d(!1),A(!1)})())}),[e.selectedPantientInfo]),Object(i.useEffect)((()=>{e.openModalInfoPantients&&e.isContinueUpdateMedicalRegister&&!1===l&&(q(),e.setIsContinueUpdateMedicalRegister(!1))}),[e.isContinueUpdateMedicalRegister,l]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(I.a,{fullWidth:!0,maxWidth:"md",open:e.openModalInfoPantients,onClose:(e,t)=>K(0,t),children:[Object(x.jsx)(k.a,{sx:{p:1,fontWeight:"bolder",fontSize:"22px",textAlign:"center",color:"blue"},children:"Th\xf4ng tin b\u1ec7nh nh\xe2n"}),Object(x.jsx)(T.a,{onClick:()=>K(),sx:{position:"absolute",right:5,top:7},children:Object(x.jsx)(N.a,{fontSize:"medium"})}),Object(x.jsx)(w.a,{dividers:!0,sx:{pt:1.5,pb:1.5},children:Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",pl:4.2,pr:4.2,mb:.8},children:[Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.identifier.title}),open:f.identifier.openTooltip,placement:"left",children:Object(x.jsx)($.a,{error:!0===f.identifier.isError,label:"M\xe3 \u0111\u1ecbnh danh",variant:"outlined",sx:{width:"18%","&.MuiTextField-root":{marginTop:"7.5px"}},inputProps:{maxLength:12},inputRef:e=>e&&"identifier"===R&&e.focus(),defaultValue:g.patient.identifier,onChange:e=>(e=>{if(""!==e){"identifier"===R&&z(null);const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{const e={...f};t.length<12?(e.identifier.title="M\xe3 \u0111\u1ecbnh danh ch\u01b0a \u0111\u1ee7 12 s\u1ed1",e.identifier.openTooltip=!0,e.identifier.isError=!0,e.identifier.focus=!1,O(e)):(m((e=>(e.patient.identifier=t,{...e}))),e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,O(e))}),100)}else{"identifier"===R&&z(null);const e={...f};e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,O(e)}})(e.target.value)})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.fullName.title}),open:f.fullName.openTooltip,placement:"top",slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[-10,-6]}}]}},children:Object(x.jsx)($.a,{error:!0===f.fullName.isError,label:"H\u1ecd t\xean",variant:"outlined",sx:{width:"32%","&.MuiTextField-root":{marginTop:"7.5px"}},inputRef:e=>e&&"fullName"===R&&e.focus(),defaultValue:g.patient.fullName,onChange:e=>(e=>{const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{if(m((e=>(e.patient.fullName=t,{...e}))),"fullName"===R&&z(null),f.fullName.isError){const e={...f};e.fullName.title="",e.fullName.openTooltip=!1,e.fullName.isError=!1,e.fullName.focus=!1,O(e)}}),100)})(e.target.value)})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.gender.title}),open:f.gender.openTooltip,placement:"top",children:Object(x.jsx)(ne.a,{sx:{width:"12%",marginTop:"7.5px"},options:o,getOptionLabel:e=>e.genderName,value:y.gender.value,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.genderName}),onChange:(e,t)=>((e,t)=>{if("gender"===R&&z(null),m((e=>(e.patient.gender=t.genderValue,{...e}))),v((e=>(e.gender.value=t,{...e}))),f.gender.isError){const e={...f};e.gender.isError=!1,e.gender.title="",e.gender.openTooltip=!1,e.gender.focus=!1,O(e)}})(0,t),open:y.gender.openOption,onFocus:()=>Y("Gender"),onBlur:e=>Q(e.target.value,"Gender"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Gi\u1edbi t\xednh",inputRef:e=>e&&"gender"===R&&e.focus(),error:!0===f.gender.isError}),disableClearable:!0,popupIcon:null})})}),Object(x.jsx)(Ee.a,{dateAdapter:Ne.a,adapterLocale:"vi",children:Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(Me.a,{components:["DatePicker"],children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.dayOfBirth.title}),open:f.dayOfBirth.openTooltip,children:Object(x.jsx)(p.a,{sx:{width:110},children:Object(x.jsx)(Se.a,{label:"Ng\xe0y sinh",format:"DD/MM/YYYY",defaultValue:Fe()(g.patient.dayOfBirth),disableFuture:!0,disableOpenPicker:!0,slotProps:{textField:{inputRef:c,error:!0===f.dayOfBirth.isError,onBlur:e=>Q(e.target.value,"dayOfBirth")}},onChange:e=>(async e=>{if(e){const t=e._d;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{const e=new Date,n=e.getFullYear()-t.getFullYear(),i=e.getMonth()-t.getMonth(),o=e.getDate()-t.getDate(),r=e.getFullYear()-t.getFullYear();let a=12*n+i,s=o;o<0&&(a-=1,s+=30);const c={...f};if(e<t||isNaN(r)||a>24||24===a&&s>29)c.dayOfBirth.title="B\u1ec7nh nh\xe2n l\u1edbn h\u01a1n 24 th\xe1ng tu\u1ed5i kh\xf4ng th\u1ec3 kh\xe1m",c.dayOfBirth.openTooltip=!0,c.dayOfBirth.isError=!0,c.dayOfBirth.focus=!1,O(c);else{const e=Fe()(t).format("YYYY-MM-DD");m((t=>(t.patient.dayOfBirth=e,{...t}))),c.dayOfBirth.title="",c.dayOfBirth.openTooltip=!1,c.dayOfBirth.isError=!1,c.dayOfBirth.focus=!1,O(c),G(e)}}),100)}})(e)})})})})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.examiningSession.title}),open:f.examiningSession.openTooltip,placement:"right",children:Object(x.jsx)(ne.a,{sx:{width:"18%",mt:"7.5px"},options:C,noOptionsText:y.examiningSession.loading?"\u0110ang t\u1ea3i...":"",getOptionLabel:e=>e.name,value:y.examiningSession.value,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.name}),onChange:(e,t)=>((e,t)=>{if("examiningSession"===R&&z(null),m((e=>(e.examinationId=t.id,{...e}))),v((e=>(e.examiningSession.value=t,{...e}))),f.examiningSession.isError){const e={...f};e.examiningSession.isError=!1,e.examiningSession.title="",e.examiningSession.openTooltip=!1,e.examiningSession.focus=!1,O(e)}})(0,t),open:y.examiningSession.openOption,onFocus:()=>Y("ExaminingSession"),onBlur:e=>Q(e.target.value,"ExaminingSession"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"K\u1ef3 kh\xe1m",inputRef:e=>e&&"examiningSession"===R&&e.focus(),error:!0===f.examiningSession.isError,sx:{"& .MuiInputBase-root.MuiOutlinedInput-root.MuiInputBase-colorPrimary.MuiInputBase-fullWidth.MuiInputBase-formControl.MuiInputBase-adornedEnd.MuiAutocomplete-inputRoot":{pl:"6px",pr:"6px"}},InputProps:{...e.InputProps,endAdornment:Object(x.jsxs)(x.Fragment,{children:[y.examiningSession.loading?Object(x.jsx)(h.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.province.title}),open:f.province.openTooltip,placement:"left",children:Object(x.jsx)(ne.a,{sx:{width:"20%",mt:2},options:E,filterOptions:V,getOptionLabel:e=>e.name,value:y.province.value,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.name}),onChange:(e,t)=>(async(e,t)=>{if("province"===R&&z(null),v((e=>(e.province.value=t,{...e}))),null!==y.district.value&&v((e=>(e.district.value=null,{...e}))),null!==y.ward.value&&v((e=>(e.ward.value=null,{...e}))),f.province.isError){const e={...f};e.province.isError=!1,e.province.title="",e.province.openTooltip=!1,e.province.focus=!1,O(e)}D((e=>(e.list=[],{...e}))),F((e=>(e.loading=!0,{...e})));const n=await ze(t.code);F((e=>(e.loading=!1,e.list=n,{...e})))})(0,t),open:y.province.openOption,onFocus:()=>Y("Province"),onBlur:e=>Q(e.target.value,"Province"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Th\xe0nh ph\u1ed1",inputRef:e=>e&&"province"===R&&e.focus(),error:!0===f.province.isError}),disableClearable:!0,popupIcon:null})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.district.title}),open:f.district.openTooltip,placement:"top",children:Object(x.jsx)(ne.a,{sx:{width:"20%",mt:2},options:B.list,noOptionsText:B.loading?"\u0110ang t\u1ea3i...":"",filterOptions:V,getOptionLabel:e=>e.name,value:y.district.value,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.fullName}),onChange:(e,t)=>(async(e,t)=>{if("district"===R&&z(null),v((e=>(e.district.value=t,{...e}))),null!==y.ward.value&&v((e=>(e.ward.value=null,{...e}))),f.district.isError){const e={...f};e.district.isError=!1,e.district.title="",e.district.openTooltip=!1,e.district.focus=!1,O(e)}D((e=>(e.loading=!0,{...e})));const n=await We(t.code);D((e=>(e.loading=!1,e.list=n,{...e})))})(0,t),open:y.district.openOption,onFocus:()=>Y("District"),onBlur:e=>Q(e.target.value,"District"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Qu\u1eadn/huy\u1ec7n",inputRef:e=>e&&"district"===R&&e.focus(),error:!0===f.district.isError,InputProps:{...e.InputProps,endAdornment:Object(x.jsxs)(x.Fragment,{children:[B.loading?Object(x.jsx)(h.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.ward.title}),open:f.ward.openTooltip,children:Object(x.jsx)(ne.a,{sx:{width:"20%",mt:2},options:P.list,noOptionsText:P.loading?"\u0110ang t\u1ea3i...":"",filterOptions:V,getOptionLabel:e=>e.name,value:y.ward.value,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.fullName}),onChange:(e,t)=>((e,t)=>{if("ward"===R&&z(null),m((e=>(e.patient.codeWard=t.code,{...e}))),v((e=>(e.ward.value=t,{...e}))),f.ward.isError){const e={...f};e.ward.isError=!1,e.ward.title="",e.ward.openTooltip=!1,e.ward.focus=!1,O(e)}})(0,t),open:y.ward.openOption,onFocus:()=>Y("Ward"),onBlur:e=>Q(e.target.value,"Ward"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Ph\u01b0\u1eddng/X\xe3",inputRef:e=>e&&"ward"===R&&e.focus(),error:!0===f.ward.isError,InputProps:{...e.InputProps,endAdornment:Object(x.jsxs)(x.Fragment,{children:[P.loading?Object(x.jsx)(h.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.address.title}),open:f.address.openTooltip,placement:"right",children:Object(x.jsx)($.a,{error:!0===f.address.isError,label:"\u0110\u1ecba ch\u1ec9",variant:"outlined",sx:{width:"36%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"address"===R&&e.focus(),defaultValue:g.patient.address,onChange:e=>(e=>{"address"===R&&z(null);const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{if(m((e=>(e.patient.address=t,{...e}))),f.address.isError){const e={...f};e.address.isError=!1,e.address.title="",e.address.openTooltip=!1,e.address.focus=!1,O(e)}}),100)})(e.target.value)})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.fullNameMother.title}),open:f.fullNameMother.openTooltip,placement:"left",children:Object(x.jsx)($.a,{error:!0===f.fullNameMother.isError,label:"H\u1ecd t\xean m\u1eb9",variant:"outlined",sx:{width:"32%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"fullNameMother"===R&&e.focus(),defaultValue:g.patient.fullNameMother,onChange:e=>(e=>{"fullNameMother"===R&&z(null);const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{if(m((e=>(e.patient.fullNameMother=t,{...e}))),f.fullNameMother.isError){const e={...f};e.fullNameMother.isError=!1,e.fullNameMother.title="",e.fullNameMother.openTooltip=!1,e.fullNameMother.focus=!1,O(e)}}),100)})(e.target.value)})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.phoneMother.title}),open:f.phoneMother.openTooltip,children:Object(x.jsx)($.a,{error:!0===f.phoneMother.isError,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",variant:"outlined",sx:{width:"16%","&.MuiTextField-root":{mt:2}},inputProps:{maxLength:10},inputRef:e=>e&&"phoneMother"===R&&e.focus(),defaultValue:g.patient.phoneMother,onChange:e=>(e=>{if("phoneMother"===R&&z(null),""!==e){const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{const e={...f};t.length<10?(e.phoneMother.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",e.phoneMother.openTooltip=!0,e.phoneMother.isError=!0,e.phoneMother.focus=!1,O(e)):(m((e=>(e.patient.phoneMother=t,{...e}))),e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,O(e))}),10)}else{const e={...f};e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,O(e)}})(e.target.value),onKeyDown:H})})}),Object(x.jsx)($.a,{label:"H\u1ecd t\xean cha",variant:"outlined",sx:{width:"32%","&.MuiTextField-root":{mt:2}},defaultValue:g.patient.fullNameFather,onChange:e=>(e=>{const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{if(m((e=>(e.patient.fullNameFather=t,{...e}))),f.fullNameMother.isError){const e={...f};e.fullNameMother.isError=!1,e.fullNameMother.title="",e.fullNameMother.openTooltip=!1,e.fullNameMother.focus=!1,O(e)}}),100)})(e.target.value)}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.phoneFather.title}),open:f.phoneFather.openTooltip,placement:"right",children:Object(x.jsx)($.a,{error:!0===f.phoneFather.isError,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",variant:"outlined",sx:{width:"16%","&.MuiTextField-root":{mt:2}},inputProps:{maxLength:10},inputRef:e=>e&&"phoneFather"===R&&e.focus(),defaultValue:g.patient.phoneFather,onChange:e=>(e=>{if("phoneFather"===R&&z(null),""!==e){const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{const e={...f};t.length<10?(e.phoneFather.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",e.phoneFather.openTooltip=!0,e.phoneFather.isError=!0,e.phoneFather.focus=!1,O(e)):(m((e=>(e.patient.phoneFather=t,{...e}))),e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,O(e))}),100)}else{const e={...f};e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,O(e)}})(e.target.value),onKeyDown:H})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.height.title}),open:f.height.openTooltip,placement:"left",children:Object(x.jsx)($.a,{error:!0===f.height.isError,label:"Chi\u1ec1u cao",sx:{width:"20%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"height"===R&&e.focus(),InputProps:{endAdornment:Object(x.jsx)(ee.a,{position:"end",children:"(cm)"})},defaultValue:g.height,onChange:e=>(e=>{"height"===R&&z(null);const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{if(m((e=>(e.height=t,{...e}))),f.height.isError){const e={...f};e.height.title="",e.height.openTooltip=!1,e.height.isError=!1,e.height.focus=!1,O(e)}}),100)})(e.target.value)})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.weight.title}),open:f.weight.openTooltip,children:Object(x.jsx)($.a,{error:!0===f.weight.isError,label:"C\xe2n n\u1eb7ng",sx:{width:"20%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"weight"===R&&e.focus(),InputProps:{endAdornment:Object(x.jsx)(ee.a,{position:"end",children:"(kg)"})},defaultValue:g.weight,onChange:e=>(e=>{"weight"===R&&z(null);const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{if(m((e=>(e.weight=t,{...e}))),f.weight.isError){const e={...f};e.weight.title="",e.weight.openTooltip=!1,e.weight.isError=!1,e.weight.focus=!1,O(e)}}),100)})(e.target.value)})})}),Object(x.jsx)(Te.a,{theme:L,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:f.headCircumference.title}),open:f.headCircumference.openTooltip,placement:"right",children:Object(x.jsx)($.a,{error:!0===f.headCircumference.isError,label:"V\xf2ng \u0111\u1ea7u",sx:{width:"20%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"headCircumference"===R&&e.focus(),InputProps:{endAdornment:Object(x.jsx)(ee.a,{position:"end",children:"(cm)"})},defaultValue:g.headCircumference,onChange:e=>(e=>{"headCircumference"===R&&z(null);const t=e;a.current&&clearInterval(a.current),a.current=setTimeout((()=>{if(m((e=>(e.headCircumference=t,{...e}))),f.headCircumference.isError){const e={...f};e.headCircumference.title="",e.headCircumference.openTooltip=!1,e.headCircumference.isError=!1,e.headCircumference.focus=!1,O(e)}}),100)})(e.target.value)})})}),Object(x.jsx)(Ie.a,{sx:{width:"30%",mt:2},control:Object(x.jsx)(Ce.a,{checked:g.vaccination}),label:"C\xf3 tham gia ti\xeam ng\u1eeba",onChange:e=>{return t=e.target.checked,void m((e=>(e.vaccination=t,{...e})));var t}})]})}),Object(x.jsxs)(ve.a,{sx:{justifyContent:"center"},children:[Object(x.jsx)(U.a,{variant:"contained",onClick:()=>q(),children:"S\u1eeda (F1)"}),Object(x.jsx)(U.a,{variant:"contained",color:"secondary",onClick:(e,t)=>K(0,t),children:"\u0110\xf3ng (ESC)"})]})]}),Object(x.jsx)(ye,{openAlertProcessing:W,setOpenAlertProcessing:A})]})},Ye=n(458),Qe=n(462),He=n(461),Ve=n(457),Ge=n(459),Ke=n(460),Ue=n(267),qe=n(444),_e=n(446),Xe=n(164),Je=n.n(Xe),Ze=n(198),$e=n.n(Ze);n(234);var et=function(e){const[t,n]=Object(i.useState)(!1),[o,r]=Object(i.useState)({chipOrder:0,chipLabel:"BN ch\u1edd kh\xe1m"}),[a,s]=Object(i.useState)([{chipLabel:"BN ch\u1edd kh\xe1m",chipContent:0},{chipLabel:"BN h\u1eb9n kh\xe1m",chipContent:0},{chipLabel:"BN \u0111\xe3 kh\xe1m",chipContent:0}]),[c,l]=Object(i.useState)([]),[d,j]=Object(i.useState)(""),[g,b]=Object(i.useState)([]),[m,f]=Object(i.useState)([]),[O,y]=Object(i.useState)(),[v,C]=Object(i.useState)(!1),[I,k]=Object(i.useState)(),w=(e,t)=>{const n=t.toLowerCase();return e.filter((e=>{const{patientId:t,fullName:i,phoneMother:o,phoneFather:r}=e.patient;return t.toLowerCase().includes(n)||i.toLowerCase().includes(n)||o.toLowerCase().includes(n)||r.toLowerCase().includes(n)}))},M=async()=>{n(!0);const t=await ge();if(400!==t&&0!==t.list.length)if(l(t.list),0===o.chipOrder){const e=t.list.filter((e=>0===e.state||1===e.state));f(e),b(e);const n=a.map(((e,n)=>({...e,chipContent:t.listCountState[n]})));s(n)}else if(1===o.chipOrder){const e=c.filter((e=>3===e.state));f(e),b(e);const n=a.map(((e,n)=>({...e,chipContent:t.listCountState[n]})));s(n)}else{const e=c.filter((e=>2===e.state));f(e),b(e);const n=a.map(((e,n)=>({...e,chipContent:t.listCountState[n]})));s(n)}e.setComponent1Loading(!1),n(!1)};return Object(i.useEffect)((()=>{M()}),[]),Object(i.useEffect)((()=>{if(v){const e=e=>{112===e.keyCode&&(e.preventDefault(),k(!0))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}}),[v,I]),Object(i.useEffect)((()=>{!0===e.completeMedicalRegister&&(M(),e.setCompleteMedicalRegister(!1))}),[e.completeMedicalRegister]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(p.a,{sx:{p:0},children:[Object(x.jsx)(u.a,{variant:"h6",sx:{color:"red",mb:0,fontWeight:"bolder",fontSize:"1.16rem"},children:t?Object(x.jsx)(de.a,{}):""!==e.currentDoctorExamining.userIdDoctor?Object(x.jsxs)(x.Fragment,{children:["B\xe1c s\u0129 kh\xe1m h\xf4m nay: ".concat(e.currentDoctorExamining.userFullName)," ",Object(x.jsxs)(T.a,{onClick:()=>e.setOpenSelectedDoctorExaminingModal(!0),children:[" ",Object(x.jsx)($e.a,{sx:{color:"#2e7d32",fontSize:"30px"}})]})]}):Object(x.jsxs)(x.Fragment,{children:["Ch\u01b0a ch\u1ecdn b\xe1c s\u0129 kh\xe1m h\xf4m nay "," ",Object(x.jsxs)(T.a,{onClick:()=>e.setOpenSelectedDoctorExaminingModal(!0),children:[" ",Object(x.jsx)($e.a,{sx:{color:"#2e7d32",fontSize:"30px"}})]})]})}),Object(x.jsx)(Ve.a,{component:Ue.a,sx:{height:"548px",borderRadius:"10px",boxShadow:5,overflowX:"scroll"},children:t?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#e0e0e0",height:"100%"},children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(te.a,{direction:"row",spacing:1,sx:{justifyContent:"center",mt:1.4},children:a.map(((e,t)=>Object(x.jsx)(_e.a,{badgeContent:e.chipContent,color:"error",children:Object(x.jsx)(qe.a,{label:e.chipLabel,color:t===o.chipOrder?"primary":"default",onClick:()=>((e,t)=>{if(r({chipOrder:e,chipLabel:t}),0===e){const e=c.filter((e=>0===e.state||1===e.state));f(e),b(e)}else if(1===e){const e=c.filter((e=>3===e.state));f(e),b(e)}else{const e=c.filter((e=>2===e.state));f(e),b(e)}})(t,e.chipLabel)})},"chipPantientState ".concat(t))))}),Object(x.jsxs)(u.a,{variant:"h6",sx:{mt:.2,textAlign:"center",fontSize:"1.12rem"},children:["Danh s\xe1ch ",o.chipLabel," ng\xe0y ",Fe()().format("DD/MM/YYYY")]}),Object(x.jsx)(p.a,{sx:{display:"flex",justifyContent:"center",position:"relative"},children:Object(x.jsx)($.a,{sx:{mt:.2,mb:1,width:360,"& .MuiInputBase-inputSizeSmall":{textAlign:"center"}},size:"small",variant:"outlined",placeholder:"T\xecm v\u1edbi M\xe3 BN ho\u1eb7c T\xean BN ho\u1eb7c S\u0110T",value:d,onChange:e=>(e=>{const t=e;j(t),f(""===e?g:w(g,t))})(e.target.value),InputProps:{startAdornment:Object(x.jsx)(ee.a,{position:"start",children:Object(x.jsx)(Je.a,{})}),endAdornment:Object(x.jsx)(ee.a,{position:"end",children:""!==d?Object(x.jsx)(N.a,{sx:{cursor:"pointer"},titleAccess:"X\xf3a",onClick:()=>[j(""),f(g)]}):null})}})}),Object(x.jsxs)(Ye.a,{stickyHeader:!0,sx:{minWidth:1200},children:[Object(x.jsx)(Ge.a,{children:Object(x.jsxs)(Ke.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem",p:"10px"},children:"Tr\u1ea1ng th\xe1i"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"STT"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"M\xe3 b\u1ec7nh nh\xe2n"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"H\u1ecd t\xean"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"Gi\u1edbi t\xednh"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"Ng\xe0y sinh"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"\u0110\u1ecba ch\u1ec9"})]})}),Object(x.jsx)(Qe.a,{children:0!==m.length?Object(x.jsx)(x.Fragment,{children:m.map(((e,t)=>{return Object(x.jsxs)(Ke.a,{hover:!0,role:"checkbox",sx:{cursor:"pointer"},onDoubleClick:()=>(e=>{y(e),k(!0),C(!0)})(e),children:[Object(x.jsx)(He.a,{align:"center",sx:{width:"90px"},children:(n=e.state,0===n||3===n?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("span",{className:"dotPantientRegisterWaiting"})}):1===n?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("span",{className:"dotPantientRegisterExamining"})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("span",{className:"dotPantientRegisterDone"})}))}),Object(x.jsx)(He.a,{align:"left",sx:{width:"20px"},children:e.order}),Object(x.jsx)(He.a,{align:"left",sx:{width:"150px"},children:e.patient.patientId}),Object(x.jsx)(He.a,{align:"left",sx:{width:"200px"},children:e.patient.fullName}),Object(x.jsx)(He.a,{align:"left",sx:{width:"110px"},children:!0===e.patient.gender?"Nam":"N\u1eef"}),Object(x.jsx)(He.a,{align:"left",sx:{width:"110px"},children:Fe()(e.patient.dayOfBirth).format("DD/MM/YYYY")}),Object(x.jsx)(He.a,{align:"left",sx:{width:"140px"},children:""!==e.patient.phoneMother?e.patient.phoneMother:e.patient.phoneFather}),Object(x.jsx)(He.a,{align:"left",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:120},children:Object(x.jsx)(ke.a,{title:Object(x.jsx)(u.a,{variant:"subtitle2",children:e.patient.fullAddress}),children:Object(x.jsx)("span",{children:e.patient.fullAddress})})})]},t);var n}))}):null})]})]})})]}),Object(x.jsx)(Le,{openModalInfoPantients:v,setOpenModalInfoPantients:C,selectedPantientInfo:O,setSelectedPantientInfo:y,isContinueUpdateMedicalRegister:I,setIsContinueUpdateMedicalRegister:k,setCompleteMedicalRegister:e.setCompleteMedicalRegister})]})},tt=n(441),nt=n(437);var it=function(e){const[t,n]=Object(i.useState)(!1),[o,r]=Object(i.useState)(!1),[a,c]=Object(i.useState)(null),l=async()=>{if(!0===e.dataPatientsRegister.oldDisease){n(!1),r(!0);const t=await(async e=>{const t=localStorage.getItem("jwt");return await b.a.post("".concat(xe,"/api/Medical/BackRegister"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(e.dataPatientsRegister);r(!1),200===t.status?(s.b.success(t.data),e.setIsContinueSelectedExaminingSession(!1),e.setCompleteMedicalRegister(!0),e.setOpenModalExaminingSession(!1),e.handleResetField()):s.b.error(t.data,{toastId:"error1"})}else{n(!1),r(!0);const t=await(async e=>{const t=localStorage.getItem("jwt");return await b.a.post("".concat(xe,"/api/Medical/Register"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(e.dataPatientsRegister);r(!1),200===t.status?(s.b.success(t.data),e.handleResetField(),e.setIsContinueSelectedExaminingSession(!1),e.setCompleteMedicalRegister(!0),e.setOpenModalExaminingSession(!1)):s.b.error(t.data,{toastId:"error1"})}},d=()=>{""===e.dataPatientsRegister.examinationId?s.b.error("B\u1ea1n ch\u01b0a ch\u1ecdn k\u1ef3 kh\xe1m",{toastId:"error1"}):l()};return Object(i.useEffect)((()=>{""!==e.dataPatientsRegister.patient.dayOfBirth&&!0===e.openModalExaminingSession&&(async()=>{r(!0);const t=await be(e.dataPatientsRegister.patient.dayOfBirth);r(!1),c(t)})()}),[e.openModalExaminingSession]),Object(i.useEffect)((()=>{!0===e.isContinueSelectedExaminingSession&&(d(),e.setIsContinueSelectedExaminingSession(!1))}),[e.isContinueSelectedExaminingSession]),Object(x.jsxs)(x.Fragment,{children:[a?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(I.a,{fullWidth:!0,maxWidth:"sm",open:e.openModalExaminingSession,disableEscapeKeyDown:!0,children:[Object(x.jsx)(k.a,{sx:{fontWeight:"bolder",fontSize:"20px",textAlign:"center",color:"green",textTransform:"uppercase"},children:"".concat(e.dataPatientsRegister.patient.fullName,", \n                            ").concat(!0===e.dataPatientsRegister.patient.gender?"Nam":"N\u1eef",", \n                            ").concat(a.monthsOfAge)}),Object(x.jsx)(T.a,{onClick:()=>[e.setOpenModalExaminingSession(!1),e.dataPatientsRegister.examinationId=""],sx:{position:"absolute",right:5,top:7},children:Object(x.jsx)(N.a,{fontSize:"medium"})}),Object(x.jsx)(w.a,{dividers:!0,sx:{pl:"0px",pr:"0px"},children:Object(x.jsxs)(le.a,{container:!0,rowSpacing:0,children:[Object(x.jsx)(le.a,{item:!0,xs:.5}),Object(x.jsx)(le.a,{item:!0,xs:5.5,children:Object(x.jsxs)(p.a,{sx:{border:"2px solid black",p:1,height:"50vh",overflow:"auto"},children:[Object(x.jsx)(u.a,{variant:"h6",sx:{fontWeight:"bolder"},children:"L\u1ecbch s\u1eed kh\xe1m"}),a.oldExams?a.oldExams.map(((e,t)=>Object(x.jsx)(u.a,{variant:"subtitle1",children:e},t))):null]})}),Object(x.jsx)(le.a,{item:!0,xs:5.5,children:Object(x.jsx)(p.a,{sx:{border:"2px solid red",p:1,height:"50vh"},children:Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[Object(x.jsx)(u.a,{variant:"h6",sx:{fontWeight:"bolder",color:"red"},children:"Ch\u1ecdn k\u1ef3 kh\xe1m"}),a.exams?Object(x.jsx)(tt.a,{onChange:t=>{return n=t.target.value,void(e.dataPatientsRegister.examinationId=n);var n},children:a.exams.map(((e,t)=>Object(x.jsx)(Ie.a,{value:e.id,control:Object(x.jsx)(nt.a,{}),label:e.name},t)))}):null,Object(x.jsx)(U.a,{variant:"contained",sx:{mt:.5},onClick:()=>d(),children:"Ti\u1ebfp t\u1ee5c (F2)"})]})})})]})})]})}):null,Object(x.jsx)(ye,{openAlertProcessing:o,setOpenAlertProcessing:r})]})};var ot=function(e){const t={patientId:"",phone:"",fullName:"",dayOfBirth:""},n={patientId:{title:"",isError:!1,openTooltip:!1,focus:!1},phone:{title:"",isError:!1,openTooltip:!1,focus:!1},fullName:{title:"",isError:!1,openTooltip:!1,focus:!1},dayOfBirth:{title:"",isError:!1,openTooltip:!1,focus:!1}},[o,r]=Object(i.useState)(null),[a,s]=Object(i.useState)(t),[c,l]=Object(i.useState)(n),[d,h]=Object(i.useState)(null),[j,g]=Object(i.useState)(!1),[m,f]=Object(i.useState)(0),O=Object(i.useRef)(null),y=Object(i.useRef)(null),v=Object(i.useRef)(null),C=Object(we.a)({components:{MuiTooltip:{defaultProps:{placement:"bottom",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:"#d32f2f"}},arrow:{sx:{color:"#d32f2f"}}}}}}}),M=e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||"Enter"===e.key?"Enter"===e.key&&F(e):e.preventDefault()},E=(e,t)=>{if(""===e||"DD/MM/YYYY"===e){const e={...c};"patientId"===t?(e.patientId.title="",e.patientId.openTooltip=!1,l(e),"patientId"===d&&h(null)):"dayOfBirth"===t?(e.dayOfBirth.title="",e.dayOfBirth.openTooltip=!1,l(e),"dayOfBirth"===d&&h(null)):"phone"===t&&(e.phone.title="",e.phone.openTooltip=!1,l(e),"phone"===d&&h(null))}},S=(i,o)=>{o&&"backdropClick"===o||(s(t),l(n),r(null),f(0),e.setOpenModalOldDisease(!1))},B=async()=>{if((()=>{const e={...c};let t=!0;return""===a.patientId&&""===a.fullName&&""===a.dayOfBirth&&""===a.phone&&(e.patientId.isError=!0,e.fullName.isError=!0,e.dayOfBirth.isError=!0,e.phone.isError=!0,t=!1),""!==c.patientId.title&&(Object.values(c).every((e=>!1===e.focus))&&(e.patientId.isError=!0,e.patientId.focus=!0,h("patientId")),t=!1),""!==c.dayOfBirth.title&&(Object.values(c).every((e=>!1===e.focus))&&(e.dayOfBirth.isError=!0,O.current&&O.current.focus()),t=!1),""!==c.phone.title&&(Object.values(c).every((e=>!1===e.focus))&&(e.phone.isError=!0,e.phone.focus=!0,h("phone")),t=!1),l(e),t})()){g(!0);const e=await(async(e,t,n,i,o)=>{const r=je();return await b.a.get("".concat(xe,"/api/Medical/SearchPatients?patientId=").concat(e,"&phone=").concat(t,"&fullName=").concat(n,"&dayOfBirth=").concat(i,"&gender=").concat(o),r).then((function(e){return e.data})).catch((function(e){return e.response.status}))})(a.patientId,a.phone,a.fullName,a.dayOfBirth,"");g(!1),r(e),s(t),l(n),y.current.reset(),y.current.querySelectorAll("input, textarea").forEach((e=>e.dispatchEvent(new Event("input",{bubbles:!0})))),h(null),e.length>0&&v.current.focus()}},F=e=>{13===e.which&&"Enter"===e.code&&B()},P=async t=>{g(!0);const n=await(async e=>{const t=je();return await b.a.get("".concat(xe,"/api/Medical/GetVaccinationByPatientId/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))})(t.patientId),i={examinationId:"",oldDisease:!0,height:"",weight:"",headCircumference:"",reason:"",vaccination:n.vaccination,medicalTypeId:n.medicalTypeId,userIdDoctor:"",patient:{patientId:t.patientId,identifier:t.identifier,address:t.address,fullName:t.fullName,dayOfBirth:t.dayOfBirth,codeWard:t.codeWard,gender:t.gender,fullNameMother:t.fullNameMother,phoneMother:t.phoneMother,fullNameFather:t.fullNameFather,phoneFather:t.phoneFather}};e.setDataPatientsRegister(i),g(!1),S()};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(I.a,{fullWidth:!0,maxWidth:"md",open:e.openModalOldDisease,onClose:(e,t)=>S(0,t),disableEscapeKeyDown:!0,sx:{".MuiDialog-paperWidthMd":{maxWidth:"970px"}},children:[Object(x.jsx)(k.a,{sx:{m:0,p:1.4,fontWeight:"bolder",fontSize:"22px",textAlign:"center"},children:"T\xecm b\u1ec7nh c\u0169"}),Object(x.jsx)(T.a,{onClick:()=>S(),sx:{position:"absolute",right:5,top:7},children:Object(x.jsx)(N.a,{fontSize:"medium"})}),Object(x.jsxs)(w.a,{dividers:!0,sx:{p:"10px 24px"},children:[Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"space-around"},component:"form",ref:y,children:[Object(x.jsx)(Te.a,{theme:C,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:c.patientId.title}),open:c.patientId.openTooltip,children:Object(x.jsx)($.a,{sx:{"&.MuiTextField-root":{marginTop:"7.5px"}},error:!0===c.patientId.isError,label:"M\xe3 BN",variant:"outlined",size:"small",autoFocus:!0,inputRef:e=>e&&"patientId"===d&&e.focus(),inputProps:{maxLength:12},onChange:e=>(e=>{if(""!==e){const t={...c};e.length<8?(t.patientId.title="M\xe3 b\u1ec7nh nh\xe2n ph\u1ea3i t\u1eeb 8 \u0111\u1ebfn 12 s\u1ed1",t.patientId.isError=!0,t.patientId.openTooltip=!0,l(t),s((t=>(t.patientId=e,{...t})))):("patientId"===d&&h(null),t.patientId.title="",t.patientId.isError=!1,t.patientId.openTooltip=!1,t.patientId.isError=!1,t.fullName.isError=!1,t.dayOfBirth.isError=!1,t.phone.isError=!1,l(t))}else{const e={...c};e.patientId.title="",e.patientId.openTooltip=!1,e.patientId.isError=!1,l(e)}})(e.target.value),onBlur:e=>E(e.target.value,"patientId"),onKeyDown:M})})}),Object(x.jsx)(Te.a,{theme:C,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:c.fullName.title}),open:c.fullName.openTooltip,children:Object(x.jsx)($.a,{sx:{"&.MuiTextField-root":{marginTop:"7.5px"}},inputRef:e=>e&&"fullName"===d&&e.focus(),error:!0===c.fullName.isError,label:"H\u1ecd t\xean",variant:"outlined",size:"small",onChange:e=>(e=>{"fullName"===d&&h(null),s((t=>(t.fullName=e,{...t})));const t={...c};t.patientId.isError=!1,t.fullName.isError=!1,t.dayOfBirth.isError=!1,t.phone.isError=!1,l(t)})(e.target.value),onKeyDown:e=>F(e)})})}),Object(x.jsx)(Ee.a,{dateAdapter:Ne.a,adapterLocale:"vi",children:Object(x.jsx)(Te.a,{theme:C,children:Object(x.jsx)(Me.a,{components:["DatePicker"],children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:c.dayOfBirth.title}),open:c.dayOfBirth.openTooltip,children:Object(x.jsx)(p.a,{sx:{width:222},children:Object(x.jsx)(Se.a,{label:"Ng\xe0y sinh",format:"DD/MM/YYYY",disableFuture:!0,disableOpenPicker:!0,renderInput:e=>Object(x.jsx)($.a,{...e,size:"small"}),slotProps:{textField:{inputRef:O,error:!0===c.dayOfBirth.isError,size:"small",onBlur:e=>E(e.target.value,"dayOfBirth"),onKeyDown:e=>F(e)}},onChange:e=>(e=>{if(e){const t=e._d,n=new Date,i=n.getFullYear()-t.getFullYear(),o=n.getMonth()-t.getMonth(),r=n.getDate()-t.getDate(),a=n.getFullYear()-t.getFullYear();let d=12*i+o,h=r;r<0&&(d-=1,h+=30);const p={...c};if(n<t||isNaN(a)||d>24||24===d&&h>29)p.dayOfBirth.title="B\u1ec7nh nh\xe2n l\u1edbn h\u01a1n 24 th\xe1ng tu\u1ed5i kh\xf4ng th\u1ec3 kh\xe1m",p.dayOfBirth.openTooltip=!0,p.dayOfBirth.isError=!0,l(p);else{const e=Fe()(t).format("YYYY-MM-DD");s((t=>(t.dayOfBirth=e,{...t}))),p.dayOfBirth.title="",p.dayOfBirth.openTooltip=!1,p.patientId.isError=!1,p.fullName.isError=!1,p.dayOfBirth.isError=!1,p.phone.isError=!1,l(p)}}})(e)})})})})})}),Object(x.jsx)(Te.a,{theme:C,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:c.phone.title}),open:c.phone.openTooltip,children:Object(x.jsx)($.a,{sx:{"&.MuiTextField-root":{marginTop:"7.5px"}},inputRef:e=>e&&"phone"===d&&e.focus(),error:!0===c.phone.isError,label:"\u0110i\u1ec7n tho\u1ea1i cha/m\u1eb9",variant:"outlined",size:"small",inputProps:{maxLength:10},onChange:e=>(e=>{if(""!==e){const t={...c};e.length<10?(t.phone.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",t.phone.openTooltip=!0,l(t),s((t=>(t.phone=e,{...t})))):("phone"===d&&h(null),t.phone.title="",t.phone.openTooltip=!1,t.phone.isError=!1,t.patientId.isError=!1,t.fullName.isError=!1,t.dayOfBirth.isError=!1,l(t))}else{const e={...c};e.phone.title="",e.phone.openTooltip=!1,e.phone.isError=!1,l(e)}})(e.target.value),onKeyDown:M,onBlur:e=>E(e.target.value,"phone")})})})]}),Object(x.jsx)(p.a,{sx:{display:"flex",justifyContent:"center",mt:1.6},children:Object(x.jsx)(U.a,{variant:"contained",color:"primary",onClick:()=>B(),children:"T\xecm (Enter)"})}),Object(x.jsx)(p.a,{children:o?0!==o.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Ve.a,{component:Ue.a,sx:{boxShadow:4,mt:1.4},tabIndex:0,onKeyDown:e=>(e=>{"ArrowDown"===e.key?f((e=>Math.min(e+1,o.length-1))):"ArrowUp"===e.key?f((e=>Math.max(e-1,0))):"Enter"===e.key&&null!==m&&P(o[m])})(e),ref:v,children:Object(x.jsxs)(Ye.a,{stickyHeader:!0,children:[Object(x.jsx)(Ge.a,{children:Object(x.jsxs)(Ke.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"1rem"},children:"M\xe3 BN"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"1rem"},children:"H\u1ecd t\xean"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"1rem"},children:"Ng\xe0y sinh"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"1rem"},children:"Gi\u1edbi t\xednh"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"1rem"},children:"\u0110\u1ecba ch\u1ec9"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"1rem"},children:"Cha/M\u1eb9"})]})}),Object(x.jsx)(Qe.a,{children:o?o.map(((e,t)=>Object(x.jsxs)(Ke.a,{hover:!0,role:"checkbox",sx:{cursor:"pointer"},selected:m===t,children:[Object(x.jsx)(He.a,{align:"left",children:e.patientId}),Object(x.jsx)(He.a,{align:"left",children:e.fullName}),Object(x.jsx)(He.a,{align:"left",children:Fe()(e.dayOfBirth).format("DD/MM/YYYY")}),Object(x.jsx)(He.a,{align:"left",children:!0===e.gender?"Nam":"N\u1eef"}),Object(x.jsx)(He.a,{align:"left",children:e.fullAddress}),Object(x.jsx)(He.a,{align:"left",children:e.fullNameMother||e.fullNameFather})]},t))):null})]})}),Object(x.jsxs)(u.a,{variant:"subtitle1",sx:{textAlign:"center",mt:1.5,fontWeight:"bolder",color:"green"},children:["T\xecm th\u1ea5y ",o.length," b\u1ec7nh nh\xe2n"]})]}):Object(x.jsx)(u.a,{variant:"subtitle1",sx:{textAlign:"center",mt:1.5,fontWeight:"bolder",color:"red"},children:"Kh\xf4ng t\xecm th\u1ea5y b\u1ec7nh nh\xe2n"}):null})]})]}),Object(x.jsx)(ye,{openAlertProcessing:j,setOpenAlertProcessing:g})]})},rt=n(435);var at=function(e){const t={examinationId:"",oldDisease:!1,height:"",weight:"",headCircumference:"",reason:"",vaccination:!1,medicalTypeId:"",userIdDoctor:"",patient:{patientId:"",identifier:"",address:"",fullName:"",dayOfBirth:"",codeWard:"",gender:"",fullNameMother:"",phoneMother:"",fullNameFather:"",phoneFather:""}},n={dayOfBirth:null,gender:{value:null,openOption:!1},province:{value:null,openOption:!1},district:{value:null,openOption:!1},ward:{value:null,openOption:!1},medicalType:{value:null,openOption:!1},vaccination:!1},o={identifier:{title:"",isError:!1,openTooltip:!1,focus:!1},patientId:{title:"",isError:!1,openTooltip:!1,focus:!1},fullName:{title:"",isError:!1,openTooltip:!1,focus:!1},dayOfBirth:{title:"",isError:!1,openTooltip:!1,focus:!1},gender:{title:"",isError:!1,openTooltip:!1,focus:!1},province:{title:"",isError:!1,openTooltip:!1,focus:!1},district:{title:"",isError:!1,openTooltip:!1,focus:!1},ward:{title:"",isError:!1,openTooltip:!1,focus:!1},address:{title:"",isError:!1,openTooltip:!1,focus:!1},fullNameMother:{title:"",isError:!1,openTooltip:!1,focus:!1},phoneMother:{title:"",isError:!1,openTooltip:!1,focus:!1},phoneFather:{title:"",isError:!1,openTooltip:!1,focus:!1},height:{title:"",isError:!1,openTooltip:!1,focus:!1},weight:{title:"",isError:!1,openTooltip:!1,focus:!1},headCircumference:{title:"",isError:!1,openTooltip:!1,focus:!1},medicalType:{title:"",isError:!1,openTooltip:!1,focus:!1},reason:{title:"",isError:!1,openTooltip:!1,focus:!1}},r=[{genderOrder:1,genderName:"Nam",genderValue:!0},{genderOrder:2,genderName:"N\u1eef",genderValue:!1}],a=[{medicalTypeOrder:1,medicalTypeName:"Kh\xe1m Nhi khoa ph\xe1t tri\u1ec3n",medicalTypeId:1},{medicalTypeOrder:2,medicalTypeName:"Kh\xe1m tr\u1ebb nguy c\u01a1 cao",medicalTypeId:2}],[c,l]=Object(i.useState)(!1),[d,j]=Object(i.useState)(!1),[g,b]=Object(i.useState)(!1),[m,f]=Object(i.useState)(!1),[O,y]=Object(i.useState)(t),[v,C]=Object(i.useState)(o),[I,k]=Object(i.useState)(null),[w,T]=Object(i.useState)(n),[M,N]=Object(i.useState)([]),[E,S]=Object(i.useState)({list:[],loading:!1}),[B,F]=Object(i.useState)({list:[],loading:!1}),P=Object(i.useRef)(null),D=Object(i.useRef)(null),R=Object(i.useRef)(null),z=Object(i.useRef)(null),W=Object(we.a)({components:{MuiTooltip:{defaultProps:{placement:"bottom",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:"#d32f2f"}},arrow:{sx:{color:"#d32f2f"}}},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-7]}}]}}}}}}),A=e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||e.preventDefault()},L=(e,t)=>{let{inputValue:n}=t;const i=n.toLowerCase();return e.filter((e=>{const t=e.fullName.toLowerCase(),n=e.fullName.split(" ").map((e=>e[0])).join("").toLowerCase();return t.includes(i)||n.includes(i)}))},Y=e=>{"Gender"===e?T((e=>(e.gender.openOption=!0,{...e}))):"Province"===e?T((e=>(e.province.openOption=!0,{...e}))):"District"===e?T((e=>(e.district.openOption=!0,{...e}))):"Ward"===e?T((e=>(e.ward.openOption=!0,{...e}))):"MedicalType"===e&&T((e=>(e.medicalType.openOption=!0,{...e})))},Q=(e,t)=>{if(""===e||"DD/MM/YYYY"===e){const e={...v};"Identifier"===t&&(z.current&&clearInterval(z.current),z.current=setTimeout((()=>{e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,C(e)}),10)),"PhoneFather"===t?(z.current&&clearInterval(z.current),z.current=setTimeout((()=>{e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.patientId.focus=!1,C(e)}),10)):"Gender"===t?T((e=>(e.gender.openOption=!1,{...e}))):"Province"===t?T((e=>(e.province.openOption=!1,{...e}))):"District"===t?T((e=>(e.district.openOption=!1,{...e}))):"Ward"===t?T((e=>(e.ward.openOption=!1,{...e}))):"MedicalType"===t&&T((e=>(e.medicalType.openOption=!1,{...e})))}else""!==e&&("Gender"===t?T((e=>(e.gender.openOption=!1,{...e}))):"Province"===t?T((e=>(e.province.openOption=!1,{...e}))):"District"===t?T((e=>(e.district.openOption=!1,{...e}))):"Ward"===t?T((e=>(e.ward.openOption=!1,{...e}))):"MedicalType"===t&&T((e=>(e.medicalType.openOption=!1,{...e}))))},H=()=>{setTimeout((()=>{(()=>{let t=!0;const n={...v};return""!==v.identifier.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.identifier.focus=!0,k("identifier")),t=!1),""===O.patient.patientId&&(n.patientId.title="B\u1ea1n ch\u01b0a nh\u1eadp m\xe3 b\u1ec7nh nh\xe2n",n.patientId.openTooltip=!0,n.patientId.isError=!0,Object.values(v).every((e=>!1===e.focus))&&(n.patientId.focus=!0,k("patientId")),t=!1),""!==v.patientId.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.patientId.focus=!0,k("patientId")),t=!1),""===O.patient.fullName&&(n.fullName.title="B\u1ea1n ch\u01b0a nh\u1eadp h\u1ecd t\xean",n.fullName.openTooltip=!0,n.fullName.isError=!0,Object.values(v).every((e=>!1===e.focus))&&(n.fullName.focus=!0,k("fullName")),t=!1),""===O.patient.dayOfBirth&&(n.dayOfBirth.title="B\u1ea1n ch\u01b0a nh\u1eadp ng\xe0y sinh",n.dayOfBirth.openTooltip=!0,n.dayOfBirth.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.dayOfBirth.focus=!0,R.current&&R.current.focus()),t=!1),""!==v.dayOfBirth.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.dayOfBirth.focus=!0,R.current&&R.current.focus()),t=!1),""===O.patient.gender&&(n.gender.title="B\u1ea1n ch\u01b0a ch\u1ecdn gi\u1edbi t\xednh",n.gender.openTooltip=!0,n.gender.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.gender.focus=!0,T((e=>(e.gender.openOption=!0,{...e}))),k("gender")),t=!1),null===w.province.value&&(n.province.title="B\u1ea1n ch\u01b0a ch\u1ecdn t\u1ec9nh th\xe0nh",n.province.openTooltip=!0,n.province.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.province.focus=!0,T((e=>(e.province.openOption=!0,{...e}))),k("province")),t=!1),null===w.district.value&&(n.district.title="B\u1ea1n ch\u01b0a ch\u1ecdn qu\u1eadn huy\u1ec7n",n.district.openTooltip=!0,n.district.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.district.focus=!0,T((e=>(e.district.openOption=!0,{...e}))),k("district")),t=!1),null===w.ward.value&&(n.ward.title="B\u1ea1n ch\u01b0a ch\u1ecdn ph\u01b0\u1eddng x\xe3",n.ward.openTooltip=!0,n.ward.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.ward.focus=!0,T((e=>(e.ward.openOption=!0,{...e}))),k("ward")),t=!1),""===O.patient.address&&(n.address.title="B\u1ea1n ch\u01b0a nh\u1eadp \u0111\u1ecba ch\u1ec9",n.address.openTooltip=!0,n.address.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.address.focus=!0,k("address")),t=!1),""===O.patient.fullNameMother&&""===O.patient.fullNameFather&&(n.fullNameMother.title="B\u1ea1n ch\u01b0a nh\u1eadp t\xean ph\u1ee5 huynh",n.fullNameMother.openTooltip=!0,n.fullNameMother.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.fullNameMother.focus=!0,k("fullNameMother")),t=!1),""===O.patient.phoneMother&&""===O.patient.phoneFather&&(n.phoneMother.title="B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",n.phoneMother.openTooltip=!0,n.phoneMother.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.phoneMother.focus=!0,k("phoneMother")),t=!1),""!==v.phoneMother.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.phoneMother.focus=!0,k("phoneMother")),t=!1),""!==v.phoneFather.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.phoneFather.focus=!0,k("phoneFather")),t=!1),""===O.height&&(n.height.title="B\u1ea1n ch\u01b0a nh\u1eadp chi\u1ec1u cao",n.height.openTooltip=!0,n.height.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.height.focus=!0,k("height")),t=!1),""===O.weight&&(n.weight.title="B\u1ea1n ch\u01b0a nh\u1eadp c\xe2n n\u1eb7ng",n.weight.openTooltip=!0,n.weight.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.weight.focus=!0,k("weight")),t=!1),""===O.headCircumference&&(n.headCircumference.title="B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 v\xf2ng \u0111\u1ea7u",n.headCircumference.openTooltip=!0,n.headCircumference.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.headCircumference.focus=!0,k("headCircumference")),t=!1),""===O.medicalTypeId&&(n.medicalType.title="B\u1ea1n ch\u01b0a ch\u1ecdn lo\u1ea1i h\xecnh kh\xe1m",n.medicalType.openTooltip=!0,n.medicalType.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.medicalType.focus=!0,T((e=>(e.medicalType.openOption=!0,{...e}))),k("medicalType")),t=!1),""===O.userIdDoctor&&(""===e.currentDoctorExamining.userIdDoctor?(s.b.error("B\u1ea1n ch\u01b0a ch\u1ecdn b\xe1c s\u0129 kh\xe1m cho ng\xe0y h\xf4m nay!",{toastId:"error1"}),t=!1):""!==e.currentDoctorExamining.userIdDoctor&&y((t=>(t.userIdDoctor=e.currentDoctorExamining.userIdDoctor,t)))),C(n),t})()&&l(!0)}),100)},V=()=>{P.current.reset();P.current.querySelectorAll("input, textarea").forEach((e=>e.dispatchEvent(new Event("input",{bubbles:!0})))),T(n),S((e=>(e.loading=!1,e.list=[],{...e}))),F((e=>(e.loading=!1,e.list=[],{...e}))),k(null),y(t),C(o),D.current.focus()},G=()=>{V(),y(t),T(n),C(o),b(!0)};return Object(i.useEffect)((()=>{(async()=>{const e=await Re();400!==e&&N(e)})(),D.current.focus()}),[]),Object(i.useEffect)((()=>{!0===e.completeMedicalRegister&&(D.current.focus(),console.log("vao day"))}),[e.completeMedicalRegister]),Object(i.useEffect)((()=>{!0===O.oldDisease&&(async()=>{f(!0),document.getElementById("patientIdentifier").value=O.patient.identifier,document.getElementById("patientId").value=O.patient.patientId,document.getElementById("patientFullName").value=O.patient.fullName;const e={...w};e.dayOfBirth=Fe()(O.patient.dayOfBirth);const t=await Ae(O.patient.codeWard),n=await ze(t.provinceCode),i=await We(t.districtCode),s=r.findIndex((e=>e.genderValue===O.patient.gender)),c=M.findIndex((e=>e.code===t.provinceCode)),l=n.findIndex((e=>e.code===t.districtCode)),d=i.findIndex((e=>e.code===t.wardCode)),h=a.findIndex((e=>e.medicalTypeId===O.medicalTypeId));e.gender.value=r[s],e.province.value=M[c],e.district.value=n[l],e.ward.value=i[d],e.medicalType.value=a[h],e.vaccination=O.vaccination,T(e),document.getElementById("patientAddress").value=O.patient.address,document.getElementById("patientFullNameMother").value=O.patient.fullNameMother,document.getElementById("patientPhoneMother").value=O.patient.phoneMother,document.getElementById("patientFullNameFather").value=O.patient.fullNameFather,document.getElementById("patientPhoneFather").value=O.patient.phoneFather,C(o),f(!1),k("height")})()}),[O.oldDisease]),Object(i.useEffect)((()=>{e.onF2Press&&(!0===c&&!1===g?(j(!0),e.setOnF2Press(!1)):(H(),e.setOnF2Press(!1))),e.onF4Press&&(!0===c||!0===g||V(),e.setOnF4Press(!1)),e.onF8Press&&(!0===c||!0===g||G(),e.setOnF8Press(!1))}),[e.onF2Press,e.onF4Press,e.onF8Press]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Z.a,{sx:{"&.MuiContainer-maxWidthLg":{pr:0}},children:Object(x.jsxs)(p.a,{sx:{minHeight:"36.4rem",borderRadius:"20px",boxShadow:5,pt:1.2,pb:1.2,pl:2.4,pr:2.4,mt:1.5},children:[Object(x.jsx)(u.a,{variant:"h6",sx:{textAlign:"center",fontWeight:"bolder",color:"blue"},children:"Th\xf4ng tin \u0111\u0103ng k\xfd kh\xe1m"}),Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},component:"form",ref:P,children:[Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.identifier.title}),open:v.identifier.openTooltip,placement:"left",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"18%",marginTop:"20px"},children:Object(x.jsx)($.a,{error:!0===v.identifier.isError,disabled:!0===O.oldDisease,label:"M\xe3 \u0111\u1ecbnh danh",variant:"outlined",id:"patientIdentifier",inputRef:"identifier"===I?e=>e&&"identifier"===I&&e.focus():D,onChange:e=>(e=>{if(""!==e){"identifier"===I&&k(null);const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{const e={...v};t.length<12?(e.identifier.title="M\xe3 \u0111\u1ecbnh danh ch\u01b0a \u0111\u1ee7 12 s\u1ed1",e.identifier.openTooltip=!0,e.identifier.isError=!0,e.identifier.focus=!1,C(e)):(y((e=>(e.patient.identifier=t,{...e}))),e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,C(e))}),100)}else{"identifier"===I&&k(null);const e={...v};e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,C(e)}})(e.target.value),onKeyDown:A,onBlur:e=>Q(e.target.value,"Identifier"),inputProps:{style:{WebkitTextFillColor:O.oldDisease?"#ff1744":"black"},maxLength:12},InputLabelProps:!0===O.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.patientId.title}),open:v.patientId.openTooltip,placement:"top",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"18%",marginTop:"20px"},children:Object(x.jsx)($.a,{error:!0===v.patientId.isError,disabled:!0===O.oldDisease,label:"M\xe3 BN",variant:"outlined",id:"patientId",inputRef:e=>e&&"patientId"===I&&e.focus(),onChange:e=>(e=>{if(""!==e){const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{const e={...v};t.length<8?(e.patientId.title="M\xe3 BN ph\u1ea3i t\u1eeb 8 \u0111\u1ebfn 12 s\u1ed1",e.patientId.openTooltip=!0,e.patientId.isError=!0,e.patientId.focus=!1,C(e)):("patientId"===I&&k(null),y((e=>(e.patient.patientId=t,{...e}))),e.patientId.title="",e.patientId.openTooltip=!1,e.patientId.isError=!1,e.patientId.focus=!1,C(e))}),100)}})(e.target.value),onKeyDown:A,onBlur:e=>Q(e.target.value,"PatientId"),inputProps:{style:{WebkitTextFillColor:O.oldDisease?"#ff1744":"black"},maxLength:12},InputLabelProps:!0===O.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.fullName.title}),open:v.fullName.openTooltip,placement:"top",PopperProps:{sx:{zIndex:2}},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[37,-7]}}]}},children:Object(x.jsx)("div",{style:{width:"30%",display:"inline-grid",marginTop:"20px"},children:Object(x.jsx)($.a,{error:!0===v.fullName.isError,disabled:!0===O.oldDisease,label:"H\u1ecd t\xean",variant:"outlined",id:"patientFullName",inputRef:e=>e&&"fullName"===I&&e.focus(),onChange:e=>(e=>{const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{if(y((e=>(e.patient.fullName=t,{...e}))),"fullName"===I&&k(null),v.fullName.isError){const e={...v};e.fullName.title="",e.fullName.openTooltip=!1,e.fullName.isError=!1,e.fullName.focus=!1,C(e)}}),100)})(e.target.value),inputProps:{style:{WebkitTextFillColor:O.oldDisease?"#ff1744":"black"}},InputLabelProps:!0===O.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(x.jsx)(Ee.a,{dateAdapter:Ne.a,adapterLocale:"vi",children:Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(Me.a,{components:["DatePicker"],children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.dayOfBirth.title}),open:v.dayOfBirth.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)(p.a,{sx:{width:142,mt:"12px !important"},children:Object(x.jsx)("div",{style:{width:"100%"},children:Object(x.jsx)(rt.a,{label:"Ng\xe0y sinh",format:"DD/MM/YYYY",value:w.dayOfBirth,disabled:!0===O.oldDisease,slotProps:{textField:{inputRef:R,error:!0===v.dayOfBirth.isError,onBlur:e=>Q(e.target.value,"dayOfBirth"),sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===O.oldDisease?"#ff1744":""}}}},onChange:e=>(e=>{if(e){const t=e._d;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{const n=new Date,i=n.getFullYear()-t.getFullYear(),o=n.getMonth()-t.getMonth(),r=n.getDate()-t.getDate(),a=n.getFullYear()-t.getFullYear();let s=12*i+o,c=r;r<0&&(s-=1,c+=30);const l={...v};if(n<t||a>2||isNaN(a)||s>24||24===s&&c>29)l.dayOfBirth.title="B\u1ec7nh nh\xe2n l\u1edbn h\u01a1n 24 th\xe1ng tu\u1ed5i kh\xf4ng th\u1ec3 kh\xe1m",l.dayOfBirth.openTooltip=!0,l.dayOfBirth.isError=!0,l.dayOfBirth.focus=!1,C(l),T((t=>(t.dayOfBirth=e,{...t})));else{"dayOfBirth"===I&&k(null);const n=Fe()(t).format("YYYY-MM-DD");y((e=>(e.patient.dayOfBirth=n,{...e}))),T((t=>(t.dayOfBirth=e,{...t}))),l.dayOfBirth.title="",l.dayOfBirth.openTooltip=!1,l.dayOfBirth.isError=!1,l.dayOfBirth.focus=!1,C(l)}}),100)}})(e)})})})})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.gender.title}),open:v.gender.openTooltip,placement:"top",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"12%",marginTop:"20px"},children:Object(x.jsx)(ne.a,{disablePortal:!0,id:"patientGender",disabled:!0===O.oldDisease,value:w.gender.value,options:r,getOptionLabel:e=>e.genderName,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.genderName}),onChange:(e,t)=>((e,t)=>{if("gender"===I&&k(null),y((e=>(e.patient.gender=t.genderValue,{...e}))),T((e=>(e.gender.value=t,{...e}))),v.gender.isError){const e={...v};e.gender.title="",e.gender.openTooltip=!1,e.gender.isError=!1,e.gender.focus=!1,C(e)}})(0,t),open:w.gender.openOption,onFocus:()=>Y("Gender"),onBlur:e=>Q(e.target.value,"Gender"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Gi\u1edbi t\xednh",inputRef:e=>e&&"gender"===I&&e.focus(),error:!0===v.gender.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===O.oldDisease?"#ff1744":""}}}),disableClearable:!0,popupIcon:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.province.title}),open:v.province.openTooltip,placement:"left",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"19.2%",marginTop:"20px"},children:Object(x.jsx)(ne.a,{disablePortal:!0,disabled:!0===O.oldDisease,value:w.province.value,options:M,noOptionsText:"\u0110ang t\u1ea3i...",filterOptions:L,getOptionLabel:e=>e.name,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.name}),onChange:(e,t)=>(async(e,t)=>{if("province"===I&&k(null),T((e=>(e.province.value=t,{...e}))),null!==w.district.value&&T((e=>(e.district.value=null,{...e}))),null!==w.ward.value&&T((e=>(e.ward.value=null,{...e}))),v.province.isError){const e={...v};e.province.title="",e.province.openTooltip=!1,e.province.isError=!1,e.province.focus=!1,C(e)}F((e=>(e.list=[],{...e}))),S((e=>(e.loading=!0,{...e})));const n=await ze(t.code);S((e=>(e.loading=!1,e.list=n,{...e})))})(0,t),open:w.province.openOption,onFocus:()=>Y("Province"),onBlur:e=>Q(e.target.value,"Province"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Th\xe0nh ph\u1ed1",inputRef:e=>e&&"province"===I&&e.focus(),error:!0===v.province.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===O.oldDisease?"#ff1744":""}}}),disableClearable:!0,popupIcon:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.district.title}),open:v.district.openTooltip,placement:"top",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"24%",marginTop:"20px"},children:Object(x.jsx)(ne.a,{disablePortal:!0,disabled:!0===O.oldDisease,value:w.district.value,options:E.list,noOptionsText:E.loading?"\u0110ang t\u1ea3i...":"",open:w.district.openOption,onFocus:()=>Y("District"),onBlur:e=>Q(e.target.value,"District"),filterOptions:L,getOptionLabel:e=>e.name,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.fullName}),onChange:(e,t)=>(async(e,t)=>{if("district"===I&&k(null),T((e=>(e.district.value=t,{...e}))),null!==w.ward.value&&T((e=>(e.ward.value=null,{...e}))),v.district.isError){const e={...v};e.district.title="",e.district.openTooltip=!1,e.district.isError=!1,e.district.focus=!1,C(e)}F((e=>(e.loading=!0,{...e})));const n=await We(t.code);F((e=>(e.loading=!1,e.list=n,{...e})))})(0,t),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Qu\u1eadn/Huy\u1ec7n",inputRef:e=>e&&"district"===I&&e.focus(),error:!0===v.district.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===O.oldDisease?"#ff1744":""}},InputProps:{...e.InputProps,endAdornment:Object(x.jsxs)(x.Fragment,{children:[E.loading?Object(x.jsx)(h.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.ward.title}),open:v.ward.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"23.5%",marginTop:"20px"},children:Object(x.jsx)(ne.a,{disablePortal:!0,disabled:!0===O.oldDisease,value:w.ward.value,options:B.list,noOptionsText:B.loading?"\u0110ang t\u1ea3i...":"",filterOptions:L,getOptionLabel:e=>e.name,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.fullName}),onChange:(e,t)=>((e,t)=>{if("ward"===I&&k(null),y((e=>(e.patient.codeWard=t.code,{...e}))),T((e=>(e.ward.value=t,{...e}))),v.ward.isError){const e={...v};e.ward.title="",e.ward.openTooltip=!1,e.ward.isError=!1,e.ward.focus=!1,C(e)}})(0,t),open:w.ward.openOption,onFocus:()=>Y("Ward"),onBlur:e=>Q(e.target.value,"Ward"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Ph\u01b0\u1eddng/X\xe3",inputRef:e=>e&&"ward"===I&&e.focus(),error:!0===v.ward.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===O.oldDisease?"#ff1744":""}},InputProps:{...e.InputProps,endAdornment:Object(x.jsxs)(x.Fragment,{children:[B.loading?Object(x.jsx)(h.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.address.title}),open:v.address.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"30%",display:"inline-grid",marginTop:"20px"},children:Object(x.jsx)($.a,{error:!0===v.address.isError,disabled:!0===O.oldDisease,label:"\u0110\u1ecba ch\u1ec9",variant:"outlined",id:"patientAddress",inputRef:e=>e&&"address"===I&&e.focus(),onChange:e=>(e=>{const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{if("address"===I&&k(null),y((e=>(e.patient.address=t,{...e}))),v.address.isError){const e={...v};e.address.title="",e.address.openTooltip=!1,e.address.isError=!1,e.address.focus=!1,C(e)}}),100)})(e.target.value),inputProps:{style:{WebkitTextFillColor:O.oldDisease?"#ff1744":"black"}},InputLabelProps:!0===O.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.fullNameMother.title}),open:v.fullNameMother.openTooltip,placement:"left",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"30%",display:"inline-grid",marginTop:"20px"},children:Object(x.jsx)($.a,{error:!0===v.fullNameMother.isError,disabled:!0===O.oldDisease,label:"H\u1ecd t\xean m\u1eb9",variant:"outlined",id:"patientFullNameMother",inputRef:e=>e&&"fullNameMother"===I&&e.focus(),autoFocus:v.fullNameMother.focus,onChange:e=>(e=>{const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{if("fullNameMother"===I&&k(null),y((e=>(e.patient.fullNameMother=t,{...e}))),v.fullNameMother.isError){const e={...v};e.fullNameMother.title="",e.fullNameMother.openTooltip=!1,e.fullNameMother.isError=!1,e.fullNameMother.focus=!1,C(e)}}),100)})(e.target.value),inputProps:{style:{WebkitTextFillColor:O.oldDisease?"#ff1744":"black"}},InputLabelProps:!0===O.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.phoneMother.title}),open:v.phoneMother.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"18%",marginTop:"20px"},children:Object(x.jsx)($.a,{error:!0===v.phoneMother.isError,disabled:!0===O.oldDisease,label:"\u0110i\u1ec7n tho\u1ea1i",variant:"outlined",id:"patientPhoneMother",inputRef:e=>e&&"phoneMother"===I&&e.focus(),onChange:e=>(e=>{if(""!==e){const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{"phoneMother"===I&&k(null);const e={...v};t.length<10?(e.phoneMother.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",e.phoneMother.openTooltip=!0,e.phoneMother.isError=!0,e.phoneMother.focus=!1,C(e)):(y((e=>(e.patient.phoneMother=t,{...e}))),e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,C(e))}),100)}else{const e={...v};e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,C(e)}})(e.target.value),onKeyDown:A,onBlur:e=>Q(e.target.value,"PhoneMother"),inputProps:{style:{WebkitTextFillColor:O.oldDisease?"#ff1744":"black"},maxLength:10},InputLabelProps:!0===O.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(x.jsx)($.a,{label:"H\u1ecd t\xean cha",disabled:!0===O.oldDisease,variant:"outlined",id:"patientFullNameFather",sx:{width:"30.4%","&.MuiTextField-root":{marginTop:"20px"}},onChange:e=>(e=>{"fullNameFather"===I&&k(null);const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{if(y((e=>(e.patient.fullNameFather=t,{...e}))),v.fullNameMother.isError){const e={...v};e.fullNameMother.title="",e.fullNameMother.openTooltip=!1,e.fullNameMother.isError=!1,e.fullNameMother.focus=!1,C(e)}}),100)})(e.target.value),inputProps:{style:{WebkitTextFillColor:O.oldDisease?"#ff1744":"black"}},InputLabelProps:!0===O.oldDisease?{shrink:Boolean(!0)}:null}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.phoneFather.title}),open:v.phoneFather.openTooltip,children:Object(x.jsx)("div",{style:{width:"18%",marginTop:"20px"},children:Object(x.jsx)($.a,{label:"\u0110i\u1ec7n tho\u1ea1i",disabled:!0===O.oldDisease,inputRef:e=>e&&"phoneFather"===I&&e.focus(),variant:"outlined",id:"patientPhoneFather",onChange:e=>((e,t)=>{if("phoneFather"===I&&k(null),""!==t){const e=t;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{const t={...v};e.length<10?(t.phoneFather.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",t.phoneFather.openTooltip=!0,t.phoneFather.isError=!0,t.phoneFather.focus=!1,C(t)):(y((t=>(t.patient.phoneFather=e,{...t}))),t.phoneFather.title="",t.phoneFather.openTooltip=!1,t.phoneFather.isError=!1,t.phoneFather.focus=!1,t.phoneMother.title="",t.phoneMother.openTooltip=!1,t.phoneMother.isError=!1,t.phoneMother.focus=!1,C(t))}),100)}else{"phoneFather"===I&&k(null);const e={...v};e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,C(e)}})(0,e.target.value),onKeyDown:A,onBlur:e=>Q(e.target.value,"PhoneFather"),inputProps:{style:{WebkitTextFillColor:O.oldDisease?"#ff1744":"black"},maxLength:10},InputLabelProps:!0===O.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.height.title}),open:v.height.openTooltip,placement:"left",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"22%",marginTop:"20px"},children:Object(x.jsx)($.a,{label:"Chi\u1ec1u cao b\xe9",variant:"outlined",id:"patientHeight",error:!0===v.height.isError,inputRef:e=>e&&"height"===I&&e.focus(),InputProps:{endAdornment:Object(x.jsx)(ee.a,{position:"end",children:"(cm)"})},onChange:e=>(e=>{const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{if("height"===I&&k(null),y((e=>(e.height=t,{...e}))),v.height.isError){const e={...v};e.height.title="",e.height.openTooltip=!1,e.height.isError=!1,e.height.focus=!1,C(e)}}),100)})(e.target.value)})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.weight.title}),open:v.weight.openTooltip,PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"22%",marginTop:"20px"},children:Object(x.jsx)($.a,{label:"C\xe2n n\u1eb7ng b\xe9",variant:"outlined",id:"patientWeight",error:!0===v.weight.isError,inputRef:e=>e&&"weight"===I&&e.focus(),InputProps:{endAdornment:Object(x.jsx)(ee.a,{position:"end",children:"(kg)"})},onChange:e=>(e=>{const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{if("weight"===I&&k(null),y((e=>(e.weight=t,{...e}))),v.weight.isError){const e={...v};e.weight.title="",e.weight.openTooltip=!1,e.weight.isError=!1,e.weight.focus=!1,C(e)}}),100)})(e.target.value)})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.headCircumference.title}),open:v.headCircumference.openTooltip,placement:"top-start",PopperProps:{sx:{zIndex:2}},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[70,-7]}}]}},children:Object(x.jsx)("div",{style:{width:"22%",marginTop:"20px"},children:Object(x.jsx)($.a,{label:"V\xf2ng \u0111\u1ea7u b\xe9",variant:"outlined",id:"patientHeadCircumference",error:!0===v.headCircumference.isError,inputRef:e=>e&&"headCircumference"===I&&e.focus(),InputProps:{endAdornment:Object(x.jsx)(ee.a,{position:"end",children:"(cm)"})},onChange:e=>(e=>{const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{if("headCircumference"===I&&k(null),y((e=>(e.headCircumference=t,{...e}))),v.headCircumference.isError){const e={...v};e.headCircumference.title="",e.headCircumference.openTooltip=!1,e.headCircumference.isError=!1,e.headCircumference.focus=!1,C(e)}}),100)})(e.target.value)})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.medicalType.title}),open:v.medicalType.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(x.jsx)("div",{style:{width:"30.5%",marginTop:"20px"},children:Object(x.jsx)(ne.a,{disablePortal:!0,id:"patientMedicalType",disabled:!0===O.oldDisease,value:w.medicalType.value,options:a,getOptionLabel:e=>e.medicalTypeName,renderOption:(e,t)=>Object(x.jsx)("li",{...e,children:t.medicalTypeName}),onChange:(e,t)=>((e,t)=>{if("medicalType"===I&&k(null),y((e=>(e.medicalTypeId=t.medicalTypeId,{...e}))),T((e=>(e.medicalType.value=t,{...e}))),v.medicalType.isError){const e={...v};e.medicalType.title="",e.medicalType.openTooltip=!1,e.medicalType.isError=!1,e.medicalType.focus=!1,C(e)}})(0,t),open:w.medicalType.openOption,onFocus:()=>Y("MedicalType"),onBlur:e=>Q(e.target.value,"MedicalType"),renderInput:e=>Object(x.jsx)($.a,{...e,label:"Lo\u1ea1i h\xecnh kh\xe1m",inputRef:e=>e&&"medicalType"===I&&e.focus(),error:!0===v.medicalType.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===O.oldDisease?"#ff1744":""},"& .MuiInputBase-root.MuiOutlinedInput-root.MuiInputBase-colorPrimary.Mui-disabled.MuiInputBase-fullWidth.MuiInputBase-formControl.MuiInputBase-adornedEnd.MuiAutocomplete-inputRoot.css-154xyx0-MuiInputBase-root-MuiOutlinedInput-root":{paddingLeft:"4px",paddingRight:"0px"},"& .MuiInputBase-root.MuiOutlinedInput-root.MuiInputBase-colorPrimary.MuiInputBase-fullWidth.MuiInputBase-formControl.MuiInputBase-adornedEnd.MuiAutocomplete-inputRoot.css-154xyx0-MuiInputBase-root-MuiOutlinedInput-root":{paddingLeft:"4px",paddingRight:"0px"}}}),disableClearable:!0,popupIcon:null})})})}),Object(x.jsx)(Te.a,{theme:W,children:Object(x.jsx)(ke.a,{title:Object(x.jsx)("h6",{style:{margin:"0px"},children:v.reason.title}),open:v.reason.openTooltip,children:Object(x.jsx)("div",{style:{width:"100%"},children:Object(x.jsx)($.a,{fullWidth:!0,label:"L\xfd do kh\xe1m",multiline:!0,rows:3,variant:"outlined",id:"patientReason",error:!0===v.reason.isError,sx:{"&.MuiTextField-root":{marginTop:"20px"}},onChange:e=>(e=>{const t=e;z.current&&clearInterval(z.current),z.current=setTimeout((()=>{y((e=>(e.reason=t,{...e})))}),100)})(e.target.value)})})})}),Object(x.jsx)(Ie.a,{control:Object(x.jsx)(Ce.a,{checked:w.vaccination}),sx:{width:"100%"},label:"B\u1ec7nh nh\xe2n c\xf3 tham gia ti\xeam ng\u1eeba",onChange:e=>{return t=e.target.checked,y((e=>(e.vaccination=t,{...e}))),void T((e=>(e.vaccination=t,{...e})));var t}}),Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",mt:1,width:"100%"},children:[Object(x.jsx)(U.a,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>H(),children:"\u0110\u0103ng k\xfd (f2)"}),Object(x.jsx)(U.a,{variant:"contained",color:"warning",onClick:()=>V(),children:"L\xe0m m\u1edbi (f4)"}),Object(x.jsx)(U.a,{variant:"contained",color:"error",sx:{ml:1},onClick:()=>G(),children:"B\u1ec7nh c\u0169 (f8)"})]})]})]})}),Object(x.jsx)(it,{openModalExaminingSession:c,setOpenModalExaminingSession:l,handleResetField:V,setCompleteMedicalRegister:e.setCompleteMedicalRegister,isContinueSelectedExaminingSession:d,setIsContinueSelectedExaminingSession:j,dataPatientsRegister:O}),Object(x.jsx)(ot,{openModalOldDisease:g,setOpenModalOldDisease:b,dataPatientsRegister:O,setDataPatientsRegister:y}),Object(x.jsx)(ye,{openAlertProcessing:m,setOpenAlertProcessing:f})]})};var st=function(){const[e,t]=Object(i.useState)(!0),n={userFullName:"",userIdDoctor:""},[o,r]=Object(i.useState)(!1),[a,s]=Object(i.useState)(!1),[c,l]=Object(i.useState)(!1),[d,h]=Object(i.useState)(!1),[u,j]=Object(i.useState)(),[g,m]=Object(i.useState)(!1),f=async()=>{const e=await(async()=>{const e=je();return await b.a.get("".concat(xe,"/api/Medical/GetDoctorExamining"),e).then((function(e){return e})).catch((function(e){return e.response.status}))})();200===e.status?j({userIdDoctor:e.data.userIdDoctor,userFullName:e.data.userFullName}):j(n)};return Object(i.useEffect)((()=>{f()}),[]),Object(i.useEffect)((()=>{const e=e=>{113===e.keyCode?(e.preventDefault(),l(!0)):115===e.keyCode?(e.preventDefault(),s(!0)):119===e.keyCode&&(e.preventDefault(),h(!0))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Z.a,{maxWidth:"xl",sx:{mt:11},children:Object(x.jsx)(p.a,{sx:{bgcolor:"#fff",height:"auto"},children:Object(x.jsx)(le.a,{container:!0,spacing:0,sx:{marginLeft:0},children:u?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:5,children:Object(x.jsx)(et,{completeMedicalRegister:o,setCompleteMedicalRegister:r,currentDoctorExamining:u,setOpenSelectedDoctorExaminingModal:m,component1Loading:e,setComponent1Loading:t})}),Object(x.jsx)(le.a,{item:!0,xs:7,children:e?Object(x.jsx)("div",{style:{marginTop:"20px",marginLeft:"18px"},children:Object(x.jsx)(de.a,{variant:"rectangular",width:"100%",height:576})}):Object(x.jsx)(at,{onF2Press:c,setOnF2Press:l,onF4Press:a,setOnF4Press:s,onF8Press:d,setOnF8Press:h,completeMedicalRegister:o,setCompleteMedicalRegister:r,currentDoctorExamining:u})})]}):null})})}),Object(x.jsx)(Oe,{openSelectedDoctorExaminingModal:g,setOpenSelectedDoctorExaminingModal:m,currentDoctorExamining:u,setCurrentDoctorExamining:j})]})},ct=n(454),lt=n(431),dt=n(98),ht=n.n(dt),pt=n(62);n(326);var ut=function(e){const[t,n]=Object(i.useState)(),[o,r]=Object(i.useState)(!1),a=Object(i.useRef)(null),c=Object(i.useRef)(null),l=Object(i.useRef)(null),d=Object(lt.a)({root:{"&.Mui-disabled":{color:"#d32f2f"},"&.Mui-checked.Mui-disabled":{color:"#d32f2f"}}})(),h=(t,n)=>{n&&"backdropClick"===n||e.setOpenModalCompleteExamining(!1)},j=async()=>{const t=pe.a.clone(e.dataExaminingForConclusion);if(t.categories=t.categories.map((e=>({...e,categoryContents:e.categoryContents.filter((e=>e.categoryContentQuestions.length>0))}))).filter((e=>e.categoryContents.length>0)),0!==t.categories.length){r(!0);const i=await(async e=>{const t=je();return await b.a.get("".concat(xe,"/api/Medical/GetAppointmentDate/").concat(e),t).then((function(e){return e})).catch((function(e){return e.response}))})(e.dataExaminingForConclusion.medicalRegisterId);200===i.status?(t.appointmentDate=i.data.appointmentDate,t.nextExamId=i.data.nextExamId,t.nextExamName=i.data.nextExamName):s.b.error(i.data,{toastId:"error1"}),n(t),r(!1),c.current.focus()}},g=async()=>{if(m()){if(r(!0),t.categories.some((e=>!0===e.isPredecessor))){const e=t.categories.filter((e=>!0===e.isPredecessor)),n={patientId:t.patientId,categoryPres:e};await(async e=>{const t=localStorage.getItem("jwt");return await b.a.post("".concat(xe,"/api/Medical/AddPredecessor"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(n)}const i=t.categories.filter((e=>!0===e.isHealthRecord));t.categories=i;const o=await(async e=>{const t=localStorage.getItem("jwt");return await b.a.post("".concat(xe,"/api/Medical/AddMedicalBook"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(t);200===o.status?(s.b.success(o.data,{toastId:"success3"}),e.handleCompleteExaminingForPantient(),n(),e.setOpenModalCompleteExamining(!1)):s.b.error(o.data,{toastId:"error1"}),r(!1)}},m=()=>{let e=!0;return null===t.conclusion&&(c.current.focus(),s.b.error("B\u1ea1n ch\u01b0a nh\u1eadp k\u1ebft lu\u1eadn kh\xe1m",{toastId:"error1"}),e=!1),"Invalid date"===t.appointmentDate&&(l.current.focus(),s.b.error("Ng\xe0y t\xe1i kh\xe1m kh\xf4ng h\u1ee3p l\u1ec7",{toastId:"error1"}),e=!1),""===t.appointmentDate&&(l.current.focus(),s.b.error("B\u1ea1n ch\u01b0a ch\u1ecdn ng\xe0y t\xe1i kh\xe1m",{toastId:"error1"}),e=!1),e};return Object(i.useEffect)((()=>{e.openModalCompleteExamining&&j()}),[e.openModalCompleteExamining]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(I.a,{fullWidth:!0,maxWidth:"md",open:e.openModalCompleteExamining,onClose:(e,t)=>h(0,t),children:[Object(x.jsx)(k.a,{sx:{fontWeight:"bolder",fontSize:"20px",textAlign:"center",color:"red",textTransform:"uppercase"},children:"T\xf3m t\u1eaft qu\xe1 tr\xecnh kh\xe1m"}),Object(x.jsx)(w.a,{dividers:!0,sx:{pl:"15px",pr:"15px"},children:Object(x.jsx)(p.a,{sx:{pl:6,pr:6},children:Object(x.jsx)(ct.a,{sx:{p:0},children:Object(x.jsx)(p.a,{children:t&&0!==t.categories.length?Object(x.jsx)("div",{className:"category-complete-examining",children:t.categories.map(((e,t)=>Object(x.jsxs)("div",{children:[Object(x.jsx)(u.a,{sx:{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"},children:e.categoryName}),e.categoryContents.map(((e,t)=>Object(x.jsxs)("div",{className:"table-category-complete-examining",style:{marginBottom:"10px"},children:[Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontWeight:"bolder",fontSize:"20px",textAlign:"center"},children:e.categoryContentTitle}),e.categoryContentQuestions.map(((t,n)=>Object(x.jsx)("div",{children:Object(x.jsxs)(le.a,{container:!0,rowSpacing:0,children:[0===n?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentName})}),"check"===t.categoryContentQuestionType?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(le.a,{item:!0,xs:2.5,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.5,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)(ht.a,{sx:{fontSize:"1.2rem",color:"gray",mr:.4}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",lineHeight:"1.6"},children:e.categoryContentCheck})]}),Object(x.jsx)(le.a,{item:!0,xs:5.5,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:e.categoryContentText})})]}):Object(x.jsx)(le.a,{item:!0,xs:8,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentText})})]}):null,Object(x.jsxs)(p.a,{style:{display:"flex",width:"100%"},children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:t.categoryContentQuestionName})}),"check"===t.categoryContentQuestionType?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:2.5,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(x.jsx)(Ce.a,{disabled:!0,checked:t.categoryContentAnswer,classes:{root:d.root},sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}},color:"error"})}),Object(x.jsx)(le.a,{item:!0,xs:5.5,children:Object(x.jsx)("div",{className:"note-for-answer",children:Object(x.jsx)("div",{className:"suggest-note",children:Object(x.jsx)(pt.a,{className:"textarea-autosize",rows:1,disabled:!0,defaultValue:t.categoryContentNote})})})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{item:!0,xs:8,children:Object(x.jsx)("div",{className:"note-for-answer",children:Object(x.jsx)("div",{className:"suggest-note",children:Object(x.jsx)(pt.a,{className:"textarea-autosize",rows:1,disabled:!0,defaultValue:t.categoryContentNote})})})})})]},"questionItem ".concat(n))]})},"questionItem ".concat(n))))]},"categoryContents ".concat(t))))]},"categoriesItem ".concat(t))))}):Object(x.jsx)(u.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder",textAlign:"center"},children:"Kh\xf4ng c\xf3 n\u1ed9i dung n\xe0o \u0111\u01b0\u1ee3c kh\xe1m."})})})})}),Object(x.jsx)(ve.a,{children:t&&0!==t.categories.length?Object(x.jsxs)("div",{style:{width:"100%",padding:"8px 50px 8px 50px"},children:[Object(x.jsx)(pt.a,{placeholder:"K\u1ebft lu\u1eadn c\u1ee7a b\xe1c s\u0129",style:{width:"100%",padding:"15px",fontSize:"17px"},onChange:e=>{return t=e.target.value,void(a.current=setTimeout((()=>{n((e=>(e.conclusion=t,{...e})))}),300));var t},ref:c}),t.appointmentDate?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",mb:2},children:[Object(x.jsxs)(u.a,{variant:"h6",sx:{mt:"auto",mb:"auto",mr:2},children:["K\u1ef3 kh\xe1m ti\u1ebfp theo: ",Object(x.jsx)("span",{style:{fontWeight:"bolder",color:"#ff1744"},children:t.nextExamName})]}),Object(x.jsx)(Ee.a,{dateAdapter:Ne.a,adapterLocale:"vi",children:Object(x.jsx)(Me.a,{components:["DatePicker"],children:Object(x.jsx)(Se.a,{label:"Ng\xe0y kh\xe1m d\u1ef1 ki\u1ebfn",format:"DD/MM/YYYY",defaultValue:Fe()(t.appointmentDate),onChange:e=>(e=>{e&&(a.current&&clearInterval(a.current),a.current=setTimeout((()=>{const t=e._d,i=Fe()(t).format("YYYY-MM-DD");"Invalid date"!==i&&n((e=>(e.appointmentDate=i,{...e})))}),200))})(e),slotProps:{textField:{inputRef:l}}})})})]})}):null,Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(x.jsxs)(te.a,{spacing:1,direction:"row",children:[Object(x.jsx)(U.a,{sx:{fontSize:"15px",textTransform:"none"},variant:"contained",onClick:()=>g(),children:"L\u01b0u (F4)"}),Object(x.jsx)(U.a,{sx:{fontSize:"15px",textTransform:"none"},variant:"contained",color:"error",onClick:()=>h(),children:"\u0110\xf3ng (ESC)"})]})})]}):null})]}),Object(x.jsx)(ye,{openAlertProcessing:o,setOpenAlertProcessing:r})]})},xt=n(426),jt=n(427),gt=n(428),bt=n(463),mt=n(433),ft=n(109),Ot=n.n(ft);n(327),n(328);Fe.a.locale("vi");var yt=function(e){const[t,n]=Object(i.useState)({categoryPres:[],healthRecords:{examinationName:"",timeUpdateState:"",conclusion:"",medicakBook:[]},nutritionals:[],vaccinationBook:[]}),[o,r]=Object(i.useState)(),[a,s]=Object(i.useState)(),[c,l]=Object(i.useState)(!1),[d,j]=Object(i.useState)([]),[g,b]=Object(i.useState)([]),m=Object(lt.a)({root:{"&.Mui-disabled":{color:"#d32f2f"},"&.Mui-checked.Mui-disabled":{color:"#d32f2f"}}})();return Object(i.useEffect)((()=>{e.prevDataExamining&&(async()=>{l(!0);const t=await me(e.prevDataExamining.healthRecords[0].medicalBookId),i=e.prevDataExamining.categoryPres.map((e=>({...e,categoryContents:e.categoryContents[0],contentLength:e.categoryContents.length,currentContent:1}))),o=t.medicakBook.categories.map((e=>({...e,categoryContents:e.categoryContents[0],contentLength:e.categoryContents.length,currentContent:1})));r(e.prevDataExamining.categoryPres.map((e=>({...e,contentLength:e.categoryContents.length,currentContent:1})))),s(t.medicakBook.categories.map((e=>({...e,contentLength:e.categoryContents.length,currentContent:1}))));const a={...e.prevDataExamining.healthRecords[0],newMedicalBook:t.medicakBook.newMedicalBook,appointmentDate:t.medicakBook.appointmentDate,nextExamName:t.medicakBook.nextExamName,medicakBook:o};n({categoryPres:i,healthRecords:a,medicalBookIdRecently:e.prevDataExamining.medicalBookIdRecently,nutritionals:e.prevDataExamining.nutritionals,vaccinationBook:e.prevDataExamining.vaccinationBook}),l(!1)})()}),[e.prevDataExamining]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(p.a,{sx:{height:"100%",position:"relative"},children:c?Object(x.jsxs)(p.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u s\u1ed5 kh\xe1m b\u1ec7nh g\u1ea7n nh\u1ea5t, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"preview-last-examining-contents",children:[Object(x.jsxs)(u.a,{variant:"h6",sx:{fontWeight:"bolder",textAlign:"center",fontSize:"1.2rem"},children:["Th\xf4ng tin t\xf3m t\u1eaft ",Object(x.jsx)("span",{style:{color:"red"},children:t.healthRecords.examinationName})]}),Object(x.jsxs)(ct.a,{sx:{p:0},children:[t.categoryPres.map(((e,i)=>Object(x.jsxs)("div",{children:[Object(x.jsx)(xt.a,{sx:{pt:"0px",pb:"0px",borderRadius:"8px",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},onClick:()=>(e=>{j((t=>{const n=[...t];return n[e]=!n[e],n}))})(i),children:Object(x.jsxs)(p.a,{sx:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(jt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1rem",color:"#2962ff"}},children:Object(x.jsx)(Ot.a,{})}),Object(x.jsx)(gt.a,{primary:e.categoryName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]})}),Object(x.jsx)(bt.a,{in:d[i],timeout:"auto",unmountOnExit:!0,children:Object(x.jsxs)("div",{className:"container-item-table-preview-examining",style:{paddingLeft:"18px",paddingRight:"18px",border:"2px solid #00bcd4",borderRadius:"20px"},children:[Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontWeight:"bolder",fontSize:"18px",textAlign:"center",mb:e.categoryContents.categoryContentTitle?0:2},children:e.categoryContents.categoryContentTitle}),Object(x.jsxs)(p.a,{sx:{mb:2},children:[e.categoryContents.categoryContentQuestions.map(((t,n)=>Object(x.jsx)(p.a,{children:Object(x.jsxs)(le.a,{container:!0,rowSpacing:0,children:[0===n?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContents.categoryContentName})}),"check"===t.categoryContentQuestionType?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(le.a,{item:!0,xs:1.5,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.5,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)(ht.a,{sx:{fontSize:"1.2rem",color:"gray",mr:.4}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",lineHeight:"1.6"},children:e.categoryContents.categoryContentCheck})]}),Object(x.jsx)(le.a,{item:!0,xs:6.5,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:e.categoryContents.categoryContentText})})]}):Object(x.jsx)(le.a,{item:!0,xs:8,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContents.categoryContentText})})]}):null,Object(x.jsxs)(p.a,{style:{display:"flex",width:"100%"},children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:t.categoryContentQuestionName})}),"check"===t.categoryContentQuestionType?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:1.5,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(x.jsx)(Ce.a,{disabled:!0,checked:t.categoryContentAnswer,classes:{root:m.root},sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}}})}),Object(x.jsx)(le.a,{item:!0,xs:6.5,children:Object(x.jsx)("div",{className:"note-for-answer",children:Object(x.jsx)("div",{className:"suggest-note",children:Object(x.jsx)(pt.a,{className:"textarea-autosize",rows:1,disabled:!0,defaultValue:t.categoryContentNote})})})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{item:!0,xs:8,children:Object(x.jsx)("div",{className:"note-for-answer",children:Object(x.jsx)("div",{className:"suggest-note",children:Object(x.jsx)(pt.a,{className:"textarea-autosize",rows:1,disabled:!0,defaultValue:t.categoryContentNote})})})})})]},"questionItem ".concat(n))]})},"questionItem ".concat(n)))),e.contentLength>1?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"pagination-table-preview-last-examining",children:Object(x.jsx)(mt.a,{count:e.contentLength,page:e.currentContent,color:"error",sx:{m:"auto"},onChange:(e,r)=>((e,i,r)=>{const a={...t};a.categoryPres[r].categoryContents=o[r].categoryContents[i-1],a.categoryPres[r].currentContent=i,n(a)})(0,r,i)})})}):null]})]})})]},"predecessorItem ".concat(i)))),t.healthRecords.medicakBook.map(((e,i)=>Object(x.jsxs)("div",{children:[Object(x.jsx)(xt.a,{sx:{pt:"0px",pb:"0px",borderRadius:"8px",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},onClick:()=>(e=>{b((t=>{const n=[...t];return n[e]=!n[e],n}))})(i),children:Object(x.jsxs)(p.a,{sx:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(jt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1rem",color:"#2962ff"}},children:Object(x.jsx)(Ot.a,{})}),Object(x.jsx)(gt.a,{primary:e.categoryName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]})}),Object(x.jsx)(bt.a,{in:g[i],timeout:"auto",unmountOnExit:!0,children:Object(x.jsxs)("div",{className:"container-item-table-preview-examining",style:{paddingLeft:"18px",paddingRight:"18px",border:"2px solid #00bcd4",borderRadius:"20px"},children:[Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontWeight:"bolder",fontSize:"18px",textAlign:"center",mb:e.categoryContents.categoryContentTitle?0:2},children:e.categoryContents.categoryContentTitle}),Object(x.jsxs)(p.a,{sx:{mb:2},children:[e.categoryContents.categoryContentQuestions.map(((t,n)=>Object(x.jsx)(p.a,{children:Object(x.jsxs)(le.a,{container:!0,rowSpacing:0,children:[0===n?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContents.categoryContentName})}),"check"===t.categoryContentQuestionType?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(le.a,{item:!0,xs:2.5,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.5,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)(ht.a,{sx:{fontSize:"1.2rem",color:"gray",mr:.4}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",lineHeight:"1.6"},children:e.categoryContents.categoryContentCheck})]}),Object(x.jsx)(le.a,{item:!0,xs:5.5,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:e.categoryContents.categoryContentText})})]}):Object(x.jsx)(le.a,{item:!0,xs:8,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContents.categoryContentText})})]}):null,Object(x.jsxs)(p.a,{style:{display:"flex",width:"100%"},children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:t.categoryContentQuestionName})}),"check"===t.categoryContentQuestionType?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:2.5,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(x.jsx)(Ce.a,{disabled:!0,checked:t.categoryContentAnswer,classes:{root:m.root},sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}}})}),Object(x.jsx)(le.a,{item:!0,xs:5.5,children:Object(x.jsx)("div",{className:"note-for-answer",children:Object(x.jsx)("div",{className:"suggest-note",children:Object(x.jsx)(pt.a,{className:"textarea-autosize",rows:1,disabled:!0,defaultValue:t.categoryContentNote})})})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{item:!0,xs:8,children:Object(x.jsx)("div",{className:"note-for-answer",children:Object(x.jsx)("div",{className:"suggest-note",children:Object(x.jsx)(pt.a,{className:"textarea-autosize",rows:1,disabled:!0,defaultValue:t.categoryContentNote})})})})})]},"questionItem ".concat(n))]})},"questionItem ".concat(n)))),e.contentLength>1?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"pagination-table-preview-last-examining",children:Object(x.jsx)(mt.a,{count:e.contentLength,page:e.currentContent,color:"error",sx:{m:"auto"},onChange:(e,o)=>((e,i,o)=>{const r={...t};r.healthRecords.medicakBook[o].categoryContents=a[o].categoryContents[i-1],r.healthRecords.medicakBook[o].currentContent=i,n(r)})(0,o,i)})})}):null]})]})})]},"medicakBookItems ".concat(i))))]}),Object(x.jsx)("div",{className:"conclusion",style:{marginLeft:"16px",marginTop:"4px"},children:Object(x.jsx)(u.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"K\u1ebft lu\u1eadn: ".concat(t.healthRecords.conclusion)})})]}),Object(x.jsx)("div",{className:"time-examining",style:{marginLeft:"16px",marginTop:"4px",width:"99%"},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"#009688",fontWeight:"bolder",fontSize:"1.08rem"},children:"".concat(t.healthRecords.doctorFullName,", ").concat(Fe()(t.healthRecords.timeUpdateState).format("LLLL"))})})]})})})},vt=n(253),Ct=n.n(vt),It=n(254),kt=n.n(It),wt=n(257),Tt=n.n(wt),Mt=n(255),Nt=n.n(Mt),Et=n(256),St=n.n(Et),Bt=n(259),Ft=n.n(Bt),Pt=n(258),Dt=n.n(Pt),Rt=n(251),zt=n.n(Rt),Wt=n(261),At=n.n(Wt),Lt=n(260),Yt=n.n(Lt),Qt=n(138),Ht=n(252),Vt=n.n(Ht);n.p,n(329);var Gt=function(){const e={stt:"",id:"",patientsId:"",patientsName:"",patientsDOB:"",patientsMonthsOld:"",patientsGender:"",patientsHeight:"",patientsWeight:"",patientsHeadCircumference:"",patientsPhone:"",patientsAddress:""},[t,n]=Object(i.useState)(e),[o,r]=Object(i.useState)([]),[a,c]=Object(i.useState)(),[l,d]=Object(i.useState)(!1),[g,m]=Object(i.useState)([]),[f,O]=Object(i.useState)({}),[y,v]=Object(i.useState)([]),[C,I]=Object(i.useState)([]),[k,w]=Object(i.useState)(),[M,E]=Object(i.useState)(1),[S,B]=Object(i.useState)({}),[F,P]=Object(i.useState)(!1),[D,R]=Object(i.useState)(!1),[z,W]=Object(i.useState)(!0),[A,L]=Object(i.useState)(!0),[Y,Q]=Object(i.useState)(!1),[H,V]=Object(i.useState)(!1),[G,K]=Object(i.useState)([]),[U,q]=Object(i.useState)(""),[_,X]=Object(i.useState)([]),[J,ne]=Object(i.useState)([]),[ie,oe]=Object(i.useState)({chipOrder:0,chipLabel:"BN ch\u1edd kh\xe1m"}),[re,ae]=Object(i.useState)([{chipLabel:"BN ch\u1edd kh\xe1m",chipContent:0},{chipLabel:"BN h\u1eb9n kh\xe1m",chipContent:0},{chipLabel:"BN \u0111\xe3 kh\xe1m",chipContent:0}]),[se,ce]=Object(i.useState)(!1),de=(e,t)=>{const n=t.toLowerCase();return e.filter((e=>{const{patientId:t,fullName:i,phoneMother:o,phoneFather:r}=e.patient;return t.toLowerCase().includes(n)||i.toLowerCase().includes(n)||o.toLowerCase().includes(n)||r.toLowerCase().includes(n)}))},he=async e=>{const t=await(async e=>{const t=je();return await b.a.get("".concat(xe,"/api/Medical/DetailPatient/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))})(e);c(t)},pe=async()=>{Q(!0),a.healthRecords.forEach((e=>{null===e.medicalBookId&&(e.state=1)}));const e=a.categoryPres.map((e=>{const t=e.categoryContents.map((e=>({categoryContentTitle:e.categoryContentTitle,categoryContentName:e.categoryContentName,categoryContentCheck:e.categoryContentCheck,categoryContentText:e.categoryContentText,categoryContentQuestions:[]})));return{categoryName:e.categoryName,isPredecessor:!0,categoryContents:t}})),n=a.healthRecords.find((e=>e.patientId===t.patientsId));B({patientId:t.patientsId,medicalRegisterId:n.medicalRegisterId,conclusion:n.conclusion,categories:e}),a.categoryPres.forEach(((e,t)=>(e.categoryContents=e.categoryContents.map((e=>({...e,categoryPresOrder:t}))),{...e}))),r(a),c(),Q(!1)},ue=async(e,t,n)=>{const i=await me(e||0);I({healthRecordsName:t,newMedicalBook:i.medicakBook.newMedicalBook,categoryPatients:i.medicakBook.categories}),w({healthRecordsName:t,newMedicalBook:i.medicakBook.newMedicalBook,categoryPatients:i.medicakBook.categories});const o=i.medicakBook.categories.map(((e,t)=>({categoryName:e.categoryName,categoryContents:e.categoryContents[0],currentHealthRecordsContent:1,contentQuantity:e.categoryContents.length}))),r={healthRecordsName:t,newMedicalBook:i.medicakBook.newMedicalBook,conclusion:i.medicakBook.conclusion,categoryPatients:o};if(v(r),1===n){const e=i.medicakBook.categories.map(((e,t)=>{const n=e.categoryContents.map((e=>({categoryContentTitle:e.categoryContentTitle,categoryContentName:e.categoryContentName,categoryContentCheck:e.categoryContentCheck,categoryContentText:e.categoryContentText,categoryContentQuestions:[]})));return{categoryName:e.categoryName,isHealthRecord:!0,categoryContents:n}})),t={...S};e.map((e=>t.categories.push(e))),B(t)}},be=Object(i.useRef)(null),Oe=(e,t,n,i,o)=>{if(!0===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType){const i={...S};i.categories.forEach(((i,o)=>{i.categoryName===e&&i.categoryContents[t].categoryContentQuestions.push(n)})),B(i)}else if(!1===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType){const n={...S};n.categories.forEach(((n,o)=>{if(n.categoryName===e){const e=n.categoryContents[t].categoryContentQuestions.filter((e=>e.categoryContentQuestionOrder!==i));n.categoryContents[t].categoryContentQuestions=e}})),B(n)}else if(""!==n.categoryContentNote&&"string"===n.categoryContentQuestionType){const t={...S};t.categories.forEach((t=>{t.categoryName===e&&t.categoryContents.forEach((e=>{if(e.categoryContentTitle===o)if(e.categoryContentQuestions.length>0){const t=e.categoryContentQuestions.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName));t?t.categoryContentNote=n.categoryContentNote:e.categoryContentQuestions.push(n)}else e.categoryContentQuestions.push(n)}))})),B(t)}else if(""===n.categoryContentNote&&"string"===n.categoryContentQuestionType){const t={...S};t.categories.forEach((t=>{t.categoryName===e&&t.categoryContents.forEach((e=>{e.categoryContentTitle===o&&(e.categoryContentQuestions=e.categoryContentQuestions.filter((e=>e.categoryContentQuestionName!==n.categoryContentQuestionName)))}))})),B(t)}},ye=Object(lt.a)({root:{"&.Mui-disabled":{color:"#d32f2f"},"&.Mui-checked.Mui-disabled":{color:"#d32f2f"}}})(),ve=async()=>{const e=await ge();if(400!==e&&0!==e.list.length)if(K(e.list),0===ie.chipOrder){const i=e.list.filter((e=>0===e.state||1===e.state));ne(i),X(i);const o=re.map(((t,n)=>({...t,chipContent:e.listCountState[n]})));ae(o);const r=e.list.find((e=>1===e.state));r&&(e=>{const i={...t};i.stt=e.order,i.id=e.id,i.status=1,i.patientsId=e.patient.patientId,i.patientsName=e.patient.fullName,i.patientsDOB=e.patient.dayOfBirth,i.patientsMonthsOld=e.patient.monthsOfAge,i.patientsGender=e.patient.gender,i.patientsHeight=e.height,i.patientsWeight=e.weight,i.patientsHeadCircumference=e.headCircumference,i.patientsHeadCircumference=e.headCircumference,i.patientsPhone=e.patient.phoneMother?e.patient.phoneMother:e.patient.phoneFather,i.patientsAddress=e.patient.fullAddress,n(i)})(r)}else if(1===ie.chipOrder){const t=G.filter((e=>3===e.state));ne(t),X(t);const n=re.map(((t,n)=>({...t,chipContent:e.listCountState[n]})));ae(n)}else{const t=G.filter((e=>2===e.state));ne(t),X(t);const n=re.map(((t,n)=>({...t,chipContent:e.listCountState[n]})));ae(n)}W(!1),L(!1)};return Object(i.useEffect)((()=>{ve()}),[]),Object(i.useEffect)((()=>{const i=i=>{""!==t.patientsId&&(112===i.keyCode&&1===t.status?(i.preventDefault(),(async()=>{W(!0),L(!0),Q(!0),V(!0);const i=await fe(t.id,0);200===i.status?(s.b.success("\u0110\xe3 h\u1ee7y kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(t.patientsName),{toastId:"success2"}),n(e),r([]),d(!1),m([]),O({}),v([]),I([]),w(),E(1),B({}),ve()):400===i.status&&s.b.error("B\u1ea1n kh\xf4ng ph\u1ea3i b\xe1c s\u0129 kh\xe1m h\xf4m nay n\xean kh\xf4ng th\u1ec3 d\xf9ng ch\u1ee9c n\u0103ng n\xe0y",{toastId:"error1"}),Q(!1),V(!1)})()):113===i.keyCode&&a?0===t.status?(async()=>{W(!0);const e=await fe(t.id,1);if(200===e.status){const e={...t};e.status=1,n(e),await ve(),await pe(),s.b.success("\u0110ang kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(t.patientsName),{toastId:"success1"})}else 400===e.status&&s.b.error("B\u1ea1n kh\xf4ng ph\u1ea3i b\xe1c s\u0129 kh\xe1m h\xf4m nay n\xean kh\xf4ng th\u1ec3 d\xf9ng ch\u1ee9c n\u0103ng n\xe0y",{toastId:"error1"});W(!1)})():1===t.status&&alert("B\u1ea1n \u0111ang trong qu\xe1 tr\xecnh kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(t.patientsName,", vui l\xf2ng k\u1ebft th\xfac \u0111\u1ee3t kh\xe1m hi\u1ec7n t\u1ea1i \u0111\u1ec3 b\u1eaft \u0111\u1ea7u \u0111\u1ee3t kh\xe1m m\u1edbi!")):115===i.keyCode&&1===t.status&&P(!0))};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}}),[t,F]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Z.a,{maxWidth:"xl",sx:{mt:10.6},children:Object(x.jsx)(p.a,{sx:{bgcolor:"#fff",height:"auto"},children:Object(x.jsxs)(le.a,{container:!0,spacing:2,sx:{pl:.6,pr:.6},children:[Object(x.jsxs)(le.a,{item:!0,xs:5,children:[Object(x.jsx)(Ve.a,{component:Ue.a,sx:{height:"332px",boxShadow:5,borderRadius:"10px"},children:z?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#e0e0e0",height:"100%"},children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(p.a,{children:[Object(x.jsx)(te.a,{direction:"row",spacing:1,sx:{justifyContent:"center",mt:1.4},children:re.map(((e,t)=>Object(x.jsx)(_e.a,{badgeContent:e.chipContent,color:"error",children:Object(x.jsx)(qe.a,{label:e.chipLabel,color:t===ie.chipOrder?"primary":"default",onClick:()=>((e,t)=>{if(oe({chipOrder:e,chipLabel:t}),0===e){const e=G.filter((e=>0===e.state||1===e.state));ne(e),X(e)}else if(1===e){const e=G.filter((e=>3===e.state));ne(e),X(e)}else{const e=G.filter((e=>2===e.state));ne(e),X(e)}})(t,e.chipLabel)})},"chipPantientState ".concat(t))))}),Object(x.jsxs)(u.a,{variant:"h6",sx:{mt:.2,textAlign:"center",fontSize:"1.12rem"},children:["Danh s\xe1ch ",ie.chipLabel," ng\xe0y ",Fe()().format("DD/MM/YYYY")]}),Object(x.jsx)(p.a,{sx:{display:"flex",justifyContent:"center",position:"relative"},children:Object(x.jsx)($.a,{sx:{mb:.6,width:360,"& .MuiInputBase-inputSizeSmall":{textAlign:"center"}},size:"small",variant:"outlined",placeholder:"T\xecm v\u1edbi M\xe3 BN ho\u1eb7c T\xean BN",value:U,onChange:e=>(e=>{const t=e;q(t),ne(""===e?_:de(_,t))})(e.target.value),InputProps:{startAdornment:Object(x.jsx)(ee.a,{position:"start",children:Object(x.jsx)(Je.a,{})}),endAdornment:Object(x.jsx)(ee.a,{position:"end",children:""!==U?Object(x.jsx)(N.a,{sx:{cursor:"pointer"},titleAccess:"X\xf3a",onClick:()=>[q(""),ne(_)]}):null})}})})]}),Object(x.jsxs)(Ye.a,{stickyHeader:!0,children:[Object(x.jsx)(Ge.a,{children:Object(x.jsxs)(Ke.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"STT"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"M\xe3 b\u1ec7nh nh\xe2n"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.95rem"},children:"H\u1ecd t\xean"})]})}),Object(x.jsx)(Qe.a,{children:J.map(((e,i)=>Object(x.jsxs)(Ke.a,{hover:!0,role:"checkbox",sx:{cursor:"pointer",backgroundColor:1===e.state?"#26c6da":"#fff",":hover":{backgroundColor:1===e.state?"#00bcd4 !important":"rgba(0, 0, 0, 0.1) !important"}},onClick:()=>(async e=>{if(""===t.patientsId||""!==t.patientsId&&0===t.status){ce(!0),L(!0),R(!0),await he(e.id);const i={...t};i.stt=e.order,i.id=e.id,i.status=0,i.patientsId=e.patient.patientId,i.patientsName=e.patient.fullName,i.patientsDOB=e.patient.dayOfBirth,i.patientsMonthsOld=e.patient.monthsOfAge,i.patientsGender=e.patient.gender,i.patientsHeight=e.height,i.patientsWeight=e.weight,i.patientsHeadCircumference=e.headCircumference,i.patientsHeadCircumference=e.headCircumference,i.patientsPhone=e.patient.phoneMother?e.patient.phoneMother:e.patient.phoneFather,i.patientsAddress=e.patient.fullAddress,n(i),L(!1),R(!1),ce(!1)}else alert("B\u1ea1n \u0111ang trong qu\xe1 tr\xecnh kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(t.patientsName,", vui l\xf2ng k\u1ebft th\xfac \u0111\u1ee3t kh\xe1m \u0111\u1ec3 b\u1eaft \u0111\u1ea7u \u0111\u1ee3t kh\xe1m m\u1edbi!"))})(e),children:[Object(x.jsx)(He.a,{align:"left",sx:{width:"20px"},children:e.order}),Object(x.jsx)(He.a,{align:"left",sx:{width:"150px"},children:e.patient.patientId}),Object(x.jsx)(He.a,{align:"left",sx:{width:"240px"},children:e.patient.fullName})]},e.order)))})]})]})}),Object(x.jsx)(p.a,{style:{width:"100%",marginTop:"8px",borderRadius:"10px",border:"2px solid red",height:"250px"},children:0===o.length&&!1===Y||!1===a?null:Object(x.jsx)(x.Fragment,{children:Y?Object(x.jsxs)(p.a,{sx:{backgroundColor:"#e0e0e0",borderRadius:"10px",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u c\xe2y th\u01b0 m\u1ee5c kh\xe1m, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"category-scrollbar",children:Object(x.jsxs)(ct.a,{sx:{p:0},children:[o.categoryPres.map(((e,t)=>Object(x.jsx)(xt.a,{sx:{pt:"4px",pb:"4px",borderRadius:"8px",":hover":{backgroundColor:f.categoryName===e.categoryName?"#ffc107":"rgba(0, 0, 0, 0.1)"},backgroundColor:f.categoryName===e.categoryName?"#ffd54f":""},onClick:()=>{return t=e,!0===l&&d(!l),0!==C.length&&I([]),O({...t,contentQuantity:t.categoryContents.length}),v(t.categoryContents[0]),void E(1);var t},children:Object(x.jsxs)(p.a,{sx:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(jt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem",color:"#2962ff"}},children:Object(x.jsx)(Ot.a,{})}),Object(x.jsx)(gt.a,{primary:e.categoryName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}}),!0===e.newCategoryPre?null:Object(x.jsx)(T.a,{edge:"end",children:Object(x.jsx)(zt.a,{sx:{color:"green",fontSize:"1.4rem"},titleAccess:"\u0111\xe3 theo d\xf5i"})})]})},"category ".concat(t)))),Object(x.jsxs)(xt.a,{sx:{pt:"4px",pb:"4px",borderRadius:"8px",backgroundColor:"S\u1ed5 s\u1ee9c kh\u1ecfe"===f.categoryName?"#ffd54f":"",":hover":{backgroundColor:"S\u1ed5 s\u1ee9c kh\u1ecfe"===f.categoryName?"#ffc107":"rgba(0, 0, 0, 0.1)"}},onClick:()=>{return e=o.healthRecords,!1===l&&d(!l),0!==C.length&&I([]),O({categoryName:"S\u1ed5 s\u1ee9c kh\u1ecfe",categoryContents:e}),void v({healthRecordsContentsType:"tree",categoryContents:e});var e},children:[Object(x.jsx)(jt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem",color:"#2962ff"}},children:Object(x.jsx)(Ot.a,{sx:{transform:"S\u1ed5 s\u1ee9c kh\u1ecfe"===f.categoryName?"rotate(90deg)":"rotate(0deg)"}})}),Object(x.jsx)(gt.a,{primary:"S\u1ed5 s\u1ee9c kh\u1ecfe",sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]}),Object(x.jsx)(bt.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(x.jsx)("div",{style:{paddingLeft:"24px"},children:o.healthRecords.map(((e,t)=>Object(x.jsxs)(xt.a,{sx:{pt:"0px",pb:"0px",width:"auto",borderRadius:"8px",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},onClick:()=>(async(e,t,n)=>{if(V(!0),k)if(2===n)await ue(e,t,n);else{I({healthRecordsName:t,newMedicalBook:k.newMedicalBook,categoryPatients:k.categoryPatients});const e=k.categoryPatients.map(((e,t)=>({categoryName:e.categoryName,categoryContents:e.categoryContents[0],currentHealthRecordsContent:1,contentQuantity:e.categoryContents.length}))),n={healthRecordsName:t,newMedicalBook:k.newMedicalBook,conclusion:S.conclusion,categoryPatients:e};v(n)}else await ue(e,t,n);V(!1)})(e.medicalBookId,e.examinationName,e.state),children:[Object(x.jsx)(jt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem",color:"#009688"}},children:Object(x.jsx)(Vt.a,{sx:{transform:"S\u1ed5 s\u1ee9c kh\u1ecfe"===f.categoryName?"rotate(90deg)":"rotate(0deg)"}})}),Object(x.jsx)(gt.a,{primary:e.examinationName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]},"healthRecords ".concat(t))))})})]})})})})}),Object(x.jsxs)("div",{className:"instruction",style:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsxs)(u.a,{variant:"h6",children:[Object(x.jsx)("span",{style:{fontWeight:"bolder",color:"red"},children:"F1"})," hu\u1ef7 kh\xe1m"]}),Object(x.jsxs)(u.a,{variant:"h6",children:[Object(x.jsx)("span",{style:{fontWeight:"bolder",color:"deeppink"},children:"F2"})," b\u1eaft \u0111\u1ea7u kh\xe1m"]}),Object(x.jsxs)(u.a,{variant:"h6",children:[Object(x.jsx)("span",{style:{fontWeight:"bolder",color:"blue"},children:"F4"})," k\u1ebft th\xfac kh\xe1m"]})]})]}),Object(x.jsxs)(le.a,{item:!0,xs:7,children:[Object(x.jsxs)(p.a,{sx:{boxShadow:4,borderRadius:"20px",border:"2px solid blue",height:"220px",mb:"4px",overflow:"auto"},children:[Object(x.jsx)(u.a,{variant:"h6",sx:{color:"blue",mt:.6,mb:.6,fontWeight:"bolder",fontSize:"1.2rem",textAlign:"center"},children:"Th\xf4ng tin b\u1ec7nh nh\xe2n"}),Object(x.jsx)(p.a,{sx:{pl:4,pr:4,mt:1},children:A?Object(x.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:4},children:[Object(x.jsx)(h.a,{color:"inherit"}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i th\xf4ng tin b\u1ec7nh nh\xe2n, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(le.a,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:4},children:[Object(x.jsxs)(le.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(x.jsx)(Ct.a,{sx:{color:"tomato"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:1},children:"M\xe3 BN: ".concat(t.patientsId||"")})]}),Object(x.jsxs)(le.a,{item:!0,xs:5,sx:{display:"inline-flex"},children:[Object(x.jsx)(kt.a,{sx:{color:"tomato"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:1},children:"H\u1ecd t\xean: ".concat(t.patientsName||"")})]}),Object(x.jsxs)(le.a,{item:!0,xs:3,sx:{display:"inline-flex"},children:[!0===t.patientsGender?Object(x.jsx)(Nt.a,{sx:{color:"coral",fontSize:"27px"}}):Object(x.jsx)(St.a,{sx:{color:"coral",fontSize:"27px"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:1},children:"Gi\u1edbi t\xednh: ".concat(""!==t.patientsGender?!0===t.patientsGender?"Nam":"N\u1eef":"")})]}),Object(x.jsxs)(le.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(x.jsx)(Tt.a,{sx:{color:"tomato"}}),Object(x.jsxs)(u.a,{variant:"subtitle1",sx:{ml:1},children:["Ng\xe0y sinh: ",t.patientsDOB?Fe()(t.patientsDOB).format("DD/MM/YYYY"):""]})]}),Object(x.jsxs)(le.a,{item:!0,xs:5,sx:{display:"inline-flex"},children:[Object(x.jsx)(Dt.a,{sx:{color:"tomato"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:1},children:"Th\xe1ng tu\u1ed5i: ".concat(t.patientsMonthsOld||"")})]}),Object(x.jsxs)(le.a,{item:!0,xs:3,sx:{display:"inline-flex"},children:[Object(x.jsx)(Ft.a,{sx:{color:"tomato"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:1},children:"Sdt: ".concat(t.patientsPhone||"")})]}),Object(x.jsxs)(le.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(x.jsx)(Qt.a,{style:{color:"tomato",fontSize:"1.42rem",marginLeft:"2px"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:.8},children:"Chi\u1ec1u cao: ".concat(t.patientsHeight?t.patientsHeight+" cm":"")})]}),Object(x.jsxs)(le.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(x.jsx)(Qt.b,{style:{color:"tomato",fontSize:"1.42rem"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:1},children:"C\xe2n n\u1eb7ng: ".concat(t.patientsWeight?t.patientsWeight+" kg":"")})]}),Object(x.jsxs)(le.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(x.jsx)(Qt.b,{style:{color:"tomato",fontSize:"1.42rem"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:1},children:"V\xf2ng \u0111\u1ea7u: ".concat(t.patientsHeadCircumference?t.patientsHeadCircumference+" cm":"")})]}),Object(x.jsxs)(le.a,{item:!0,xs:12,sx:{display:"inline-flex"},children:[Object(x.jsx)(Yt.a,{sx:{color:"tomato"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{ml:1},children:"\u0110\u1ecba ch\u1ec9: ".concat(t.patientsAddress||"")})]})]})})})]}),Object(x.jsxs)("div",{className:"container-content-examining",children:[D?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u k\u1ef3 kh\xe1m g\u1ea7n nh\u1ea5t, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):a?1===a.healthRecords.length&&null===a.healthRecords[0].medicalBookId?Object(x.jsx)(p.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:Object(x.jsx)(u.a,{variant:"h6",children:"B\u1ec7nh nh\xe2n kh\xf4ng c\xf3 k\u1ef3 kh\xe1m tr\u01b0\u1edbc"})}):Object(x.jsx)("div",{className:"content-examining",children:Object(x.jsx)(yt,{prevDataExamining:a})}):null,0!==y.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"content-examining",style:{height:0===C.length?"47.4vh":"50vh"},children:H?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u s\u1ed5 kh\xe1m b\u1ec7nh, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{sx:null===y.categoryContentTitle?{marginTop:"30px"}:{},children:[Object(x.jsx)(u.a,{variant:"h6",sx:{fontWeight:"bolder",textAlign:"center",fontSize:"1.2rem",mb:.2},children:y.categoryContentTitle||""}),y.categoryContentQuestions?y.categoryContentQuestions.map(((e,t)=>Object(x.jsx)(p.a,{children:Object(x.jsxs)(le.a,{container:!0,rowSpacing:0,children:[0===t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:y.categoryContentName})}),"check"===e.categoryContentQuestionType?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(le.a,{item:!0,xs:1,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)(ht.a,{sx:{fontSize:"1.22rem",color:"gray"}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",margin:"auto",lineHeight:"1.6"},children:y.categoryContentCheck})]}),Object(x.jsx)(le.a,{item:!0,xs:7,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:y.categoryContentText})})]}):Object(x.jsx)(le.a,{item:!0,xs:8,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:y.categoryContentText})})]}):null,Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:e.categoryContentQuestionName})}),"check"===e.categoryContentQuestionType?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{item:!0,xs:1,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(x.jsx)(Ce.a,{checked:!0===e.categoryContentAnswer,color:"error",sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}},onClick:n=>((e,t)=>{if(null===t){const t={...f};t.categoryContents[M-1].categoryContentQuestions[e].categoryContentAnswer=!0,O(t),Oe(t.categoryName,M-1,t.categoryContents[M-1].categoryContentQuestions[e],t.categoryContents[M-1].categoryContentQuestions[e].categoryContentQuestionOrder)}else if(!0===t){const t={...f};t.categoryContents[M-1].categoryContentQuestions[e].categoryContentAnswer=!1,O(t),Oe(t.categoryName,M-1,t.categoryContents[M-1].categoryContentQuestions[e],t.categoryContents[M-1].categoryContentQuestions[e].categoryContentQuestionOrder)}else{const t={...f};t.categoryContents[M-1].categoryContentQuestions[e].categoryContentAnswer=!0,O(t),Oe()}})(t,e.categoryContentAnswer)})}),Object(x.jsx)(le.a,{item:!0,xs:7,children:Object(x.jsx)("div",{className:"textfield-for-answer",children:Object(x.jsx)("div",{className:"suggest-note",children:Object(x.jsx)(pt.a,{className:"textarea-autosize",rows:1,onChange:e=>((e,t)=>{const n=t;be.current&&clearInterval(be.current),be.current=setTimeout((()=>{const t={...f};t.categoryContents[M-1].categoryContentQuestions[e].categoryContentNote=n,O(t)}),0)})(t,e.target.value),defaultValue:e.categoryContentNote})},"current ".concat(M," - question ").concat(t," - category ").concat(y.categoryContentOrder," - categoryPresOrder ").concat(y.categoryPresOrder))})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{item:!0,xs:8,children:Object(x.jsx)("div",{className:"textfield-for-answer",children:Object(x.jsx)("input",{type:"text",className:"value-for-answer",onChange:e=>((e,t)=>{const n=t;be.current&&clearInterval(be.current),be.current=setTimeout((()=>{const t={...f};t.categoryContents[M-1].categoryContentQuestions[e].categoryContentNote=n,O(t),Oe(t.categoryName,M-1,t.categoryContents[M-1].categoryContentQuestions[e],t.categoryContents[M-1].categoryContentQuestions[e].categoryContentQuestionOrder,t.categoryContents[M-1].categoryContentTitle)}),0)})(t,e.target.value),defaultValue:e.categoryContentNote})},"current ".concat(M," - question ").concat(t," - category ").concat(y.categoryContentOrder," - categoryPresOrder ").concat(y.categoryPresOrder))})})]})},"categoryContentQuestionName ".concat(t)))):"tree"===y.healthRecordsContentsType&&0===C.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(u.a,{variant:"h6",sx:{fontWeight:"bolder",textAlign:"center",fontSize:"1.2rem",mb:.2},children:"Kh\xe1m v\xe0 theo d\xf5i s\u1ee9c kh\u1ecfe \u0111\u1ecbnh k\u1ef3"}),Object(x.jsx)(Ve.a,{component:Ue.a,children:Object(x.jsxs)(Ye.a,{stickyHeader:!0,children:[Object(x.jsx)(Ge.a,{children:Object(x.jsxs)(Ke.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.9rem",color:"black"},children:"K\u1ef3 kh\xe1m"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.9rem"},children:"Tr\u1ea1ng th\xe1i"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.9rem"},children:"Ng\xe0y kh\xe1m"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.9rem"},children:"B\xe1c s\u0129 kh\xe1m"}),Object(x.jsx)(He.a,{align:"left",sx:{fontSize:"0.9rem"},children:"K\u1ebft lu\u1eadn"})]})}),Object(x.jsx)(Qe.a,{sx:{borderRadius:"0px"},children:y.categoryContents.map(((e,t)=>{return Object(x.jsxs)(Ke.a,{hover:!0,role:"checkbox",children:[Object(x.jsxs)(He.a,{align:"left",sx:{width:"158px"},children:[Object(x.jsx)(At.a,{sx:{mr:.5,mb:.4,color:"dodgerblue"}}),e.examinationName]}),Object(x.jsx)(He.a,{align:"left",sx:{width:"144px"},children:(n=e.state,0===n?Object(x.jsx)("div",{className:"chipUnDoneExamms",children:Object(x.jsx)("p",{className:"chipLabel",children:"Ch\u01b0a th\u1ef1c hi\u1ec7n"})}):1===n?Object(x.jsx)("div",{className:"chipDoingExamms",children:Object(x.jsx)("p",{className:"chipLabel",children:"\u0110ang th\u1ef1c hi\u1ec7n"})}):Object(x.jsx)("div",{className:"chipDoneExamms",children:Object(x.jsx)("p",{className:"chipLabel",children:"\u0110\xe3 th\u1ef1c hi\u1ec7n"})}))}),Object(x.jsx)(He.a,{align:"left",sx:{width:"108px"},children:Fe()(e.timeRegister).format("DD/MM/YYYY")}),Object(x.jsx)(He.a,{align:"left",sx:{width:"115px"},children:e.doctorFullName}),Object(x.jsx)(He.a,{align:"left",sx:{width:"auto"},children:e.conclusion})]},t);var n}))})]})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(u.a,{variant:"h6",sx:{fontWeight:"bolder",textAlign:"center",fontSize:"1.2rem",lineHeight:1,mt:1},children:y.healthRecordsName}),Object(x.jsx)("div",{className:"health-record-content",children:Object(x.jsxs)(ct.a,{sx:{p:0},children:[y.categoryPatients.map(((e,t)=>Object(x.jsxs)("div",{children:[Object(x.jsx)(xt.a,{sx:{pt:"0px",pb:"0px",borderRadius:"8px",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},onClick:()=>(e=>{m((t=>{const n=[...t];return n[e]=!n[e],n}))})(t),children:Object(x.jsxs)(p.a,{sx:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(jt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1rem",color:"#2962ff"}},children:Object(x.jsx)(Ot.a,{})}),Object(x.jsx)(gt.a,{primary:e.categoryName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]})}),Object(x.jsx)(bt.a,{in:g[t],timeout:"auto",unmountOnExit:!0,children:Object(x.jsxs)("div",{className:"header-health-record",style:{marginTop:"0.4x",marginBottom:"0.4px",border:"2px solid #00bcd4",borderRadius:"20px"},children:[Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontWeight:"bolder",textAlign:"center"},children:e.categoryContents.categoryContentTitle}),Object(x.jsx)("div",{className:"content-health-record",style:{padding:"10px"},children:Object(x.jsxs)(le.a,{container:!0,rowSpacing:0,children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContents.categoryContentName})}),Object(x.jsxs)(le.a,{item:!0,xs:3,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(x.jsx)(ht.a,{sx:{fontSize:"1.2rem",color:"gray",mr:.4}}),Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",lineHeight:"1.6"},children:e.categoryContents.categoryContentCheck})]}),Object(x.jsx)(le.a,{item:!0,xs:5,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:e.categoryContents.categoryContentText})}),e.categoryContents.categoryContentQuestions.map(((n,i)=>Object(x.jsxs)(p.a,{style:{display:"flex",width:"100%"},children:[Object(x.jsx)(le.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(x.jsx)(u.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:n.categoryContentQuestionName})}),Object(x.jsx)(le.a,{item:!0,xs:3,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(x.jsx)(Ce.a,{disabled:!0!==y.newMedicalBook,classes:{root:ye.root},checked:!0===n.categoryContentAnswer,sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}},color:"error",onClick:o=>((e,t,n,i)=>{if(null===i){const i={...C};i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n].categoryContentAnswer=!0,I(i),Oe(i.categoryPatients[e].categoryName,t-1,i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n],i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n].categoryContentQuestionOrder)}else if(!0===i){const i={...C};i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n].categoryContentAnswer=!1,I(i),Oe(i.categoryPatients[e].categoryName,t-1,i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n],i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n].categoryContentQuestionOrder)}else{const i={...C};i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n].categoryContentAnswer=!0,I(i),Oe(i.categoryPatients[e].categoryName,t-1,i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n],i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n].categoryContentQuestionOrder)}})(t,e.currentHealthRecordsContent,i,n.categoryContentAnswer)})}),Object(x.jsx)(le.a,{item:!0,xs:5,children:Object(x.jsx)("div",{className:"note-for-answer",children:Object(x.jsx)("div",{className:"suggest-note",children:Object(x.jsx)(pt.a,{className:"textarea-autosize",rows:1,disabled:!0!==y.newMedicalBook,onChange:n=>((e,t,n,i)=>{const o=i;be.current&&clearInterval(be.current),be.current=setTimeout((()=>{const i={...C};i.categoryPatients[e].categoryContents[t-1].categoryContentQuestions[n].categoryContentNote=o,I(i)}),0)})(t,e.currentHealthRecordsContent,i,n.target.value),defaultValue:n.categoryContentNote})},"current ".concat(e.currentHealthRecordsContent,"-").concat(i))})})]},"questionItem ".concat(i))))]})}),Object(x.jsx)("div",{className:"footer-content-examining",style:{backgroundColor:"#00bcd4"},children:Object(x.jsx)(mt.a,{count:e.contentQuantity,page:e.currentHealthRecordsContent,color:"error",sx:{m:"auto"},onChange:(e,n)=>((e,t,n)=>{const i={...y};i.categoryPatients[n].categoryContents=C.categoryPatients[n].categoryContents[t-1],i.categoryPatients[n].currentHealthRecordsContent=t,v(i)})(0,n,t)})})]})})]},"categoryPatients ".concat(t)))),!1===y.newMedicalBook?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"conclusion",style:{marginLeft:"16px",marginTop:"4px"},children:Object(x.jsx)(u.a,{variant:"h6",sx:{color:"blueviolet",fontWeight:"bolder"},children:"K\u1ebft lu\u1eadn c\u1ee7a b\xe1c s\u0129: ".concat(y.conclusion)})})}):null]})})]})]})})}),y.categoryContentQuestions?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"footer-content-examining",children:Object(x.jsx)(mt.a,{count:f.contentQuantity,page:M,color:"success",sx:{m:"auto"},onChange:(e,t)=>((e,t)=>{v(f.categoryContents[t-1]),E(t)})(0,t)})})}):Object(x.jsx)(x.Fragment,{})]}):null]})]})]})})}),Object(x.jsx)(ut,{openModalCompleteExamining:F,setOpenModalCompleteExamining:P,handleCompleteExaminingForPantient:()=>{s.b.success("\u0110\xe3 k\u1ebft th\xfac kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(t.patientsName),{toastId:"success1"}),n(e),r([]),d(!1),m([]),O({}),v([]),I([]),w(),E(1),B({}),ve()},dataExaminingForConclusion:S}),Object(x.jsx)(j,{openAlertProcessingBackdrop:se,changeBackground:!0})]})};var Kt=e=>Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(c.a,{children:[Object(x.jsx)(X,{})," ",Object(x.jsxs)(l.Switch,{children:[Object(x.jsxs)(l.Route,{exact:!0,path:"/",children:["home"," "]}),Object(x.jsx)(l.Route,{path:"/login",children:Object(x.jsx)(ce,{})}),Object(x.jsx)(v,{path:"/medicalregister",component:st}),Object(x.jsx)(v,{path:"/doctor-examining",component:Gt}),Object(x.jsxs)(l.Route,{path:"*",children:[Object(x.jsx)(J,{})," "]})]})]})});var Ut=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(c.a,{children:Object(x.jsx)("div",{className:"app-container",children:Object(x.jsx)(Kt,{})})}),Object(x.jsx)(s.a,{position:"bottom-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})};var qt=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,469)).then((t=>{let{getCLS:n,getFID:i,getFCP:o,getLCP:r,getTTFB:a}=t;n(e),i(e),o(e),r(e),a(e)}))};n(330),n(331);a.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(y,{children:Object(x.jsx)(Ut,{})})}),document.getElementById("root")),qt()}},[[332,1,2]]]);
//# sourceMappingURL=main.88fd1100.chunk.js.map