(this["webpackJsonpknkpt_bvnd2-app"]=this["webpackJsonpknkpt_bvnd2-app"]||[]).push([[0],{239:function(e,t,n){},300:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},334:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n.n(o),a=n(68),i=n.n(a),c=(n(300),n(19)),s=n(46),l=(n(224),n(247)),d=n(35),h=n(420),p=n(426),u=n(460),g=n(448),x=n(125),j=n(459),m=n(39),b=n.n(m),f=n(1);var O=function(e){return Object(f.jsxs)(h.a,{fullWidth:!0,maxWidth:"sm",open:e.openModalUserManual,disableEscapeKeyDown:!0,children:[Object(f.jsx)(p.a,{sx:{fontWeight:"bolder",fontSize:"20px",textAlign:"center",color:"red",textTransform:"uppercase"},children:"H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng"}),Object(f.jsx)(j.a,{onClick:()=>e.setOpenModalUserManual(!1),sx:{position:"absolute",right:5,top:7},children:Object(f.jsx)(b.a,{fontSize:"medium"})}),Object(f.jsxs)(u.a,{dividers:!0,sx:{pl:"15px",pr:"15px"},children:[Object(f.jsx)(x.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"\u0110i\u1ec1u d\u01b0\u1ee1ng"}),Object(f.jsxs)(g.a,{sx:{pl:"5px",pr:"5px"},children:[Object(f.jsx)(x.a,{sx:{color:"green",fontWeight:"bolder"},children:"\u0110\u0103ng k\xfd kh\xe1m"}),Object(f.jsx)(x.a,{children:"Nh\u1ea5n ph\xedm F2 ho\u1eb7c n\xfat \u0110\u0103ng k\xfd tr\xean m\xe0n h\xecnh"}),Object(f.jsx)(x.a,{sx:{color:"green",fontWeight:"bolder"},children:"L\xe0m m\u1edbi form th\xf4ng tin \u0111\u0103ng k\xfd kh\xe1m"}),Object(f.jsx)(x.a,{children:"Nh\u1ea5n ph\xedm F4 ho\u1eb7c n\xfat L\xe0m m\u1edbi tr\xean m\xe0n h\xecnh"}),Object(f.jsx)(x.a,{sx:{color:"green",fontWeight:"bolder"},children:"T\xecm b\u1ec7nh c\u0169"}),Object(f.jsx)(x.a,{children:"Nh\u1ea5n ph\xedm F8 ho\u1eb7c n\xfat B\u1ec7nh c\u0169 tr\xean m\xe0n h\xecnh, sau khi nh\u1eadp th\xf4ng tin v\xe0 t\xecm \u0111\u01b0\u1ee3c b\u1ec7nh nh\xe2n, click \u0111\xfap th\xf4ng tin b\u1ec7nh nh\xe2n \u0111\u1ec3 form th\xf4ng tin \u0111\u0103ng k\xfd kh\xe1m nh\u1eadn d\u1eef li\u1ec7u"}),Object(f.jsx)(x.a,{sx:{color:"green",fontWeight:"bolder"},children:"S\u1eeda th\xf4ng tin b\u1ec7nh nh\xe2n"}),Object(f.jsx)(x.a,{children:"Trong b\u1ea3ng danh s\xe1ch \u0111\u0103ng k\xfd kh\xe1m trong ng\xe0y, nh\u1ea5n v\xe0o b\u1ec7nh nh\xe2n \u0111\u1ec3 m\u1edf form s\u1eeda th\xf4ng tin"})]}),Object(f.jsx)(x.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"B\xe1c s\u0129"}),Object(f.jsxs)(g.a,{sx:{pl:"5px",pr:"5px"},children:[Object(f.jsx)(x.a,{sx:{color:"green",fontWeight:"bolder"},children:"Kh\xe1m b\u1ec7nh"}),Object(f.jsx)(x.a,{children:"B\u01b0\u1edbc 1: Nh\u1ea5n ch\u1ecdn b\u1ec7nh nh\xe2n \u0111\u1ec3 kh\xe1m"}),Object(f.jsx)(x.a,{children:"B\u01b0\u1edbc 2: Nh\u1ea5n F2 \u0111\u1ec3 b\u1eaft \u0111\u1ea7u kh\xe1m"}),Object(f.jsx)(x.a,{children:"B\u01b0\u1edbc 3: Nh\u1ea5n F4 \u0111\u1ec3 k\u1ebft th\xfac kh\xe1m"}),Object(f.jsx)(x.a,{sx:{color:"green",fontWeight:"bolder"},children:"S\u1eeda th\xf4ng tin h\u1ecfi b\u1ec7nh khi \u0111\xe3 k\u1ebft th\xfac kh\xe1m"})]}),Object(f.jsx)(x.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"Admin"})]})]})},y=n(455),C=n(456),v=n(457),N=n(458),I=n(445),k=n.p+"static/media/logo.e5a4a234.png",w=n(249),T=n.n(w),S=n(251),E=n.n(S),M=n(250),P=n.n(M),B=n(252),F=n.n(B),D=n(206),R=n.n(D),A=n(446),Q=n(270),L=n(449),z=n(347),W=n(454);var Y=function(e){return Object(f.jsx)(z.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,backgroundColor:e.changeBackground?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.6)"},open:e.openAlertProcessingBackdrop,children:Object(f.jsxs)(g.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(f.jsx)(W.a,{color:"inherit"}),Object(f.jsx)(x.a,{sx:{mt:1.4},variant:"subtitle1",children:e.alertTitle})]})})},H=n(27),V=n.n(H);const G="https://api-khamnhi.somee.com",K=()=>{const e=localStorage.getItem("jwt");return{headers:{Authorization:"Bearer ".concat(e)}}},J="https://api-khamnhi.somee.com",q=()=>{const e=localStorage.getItem("jwt");return{headers:{Authorization:"Bearer ".concat(e)}}},U=async e=>{const t=localStorage.getItem("jwt");return await V.a.post("".concat(J,"/api/Medical/BackRegister"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))},X=async e=>{const t=localStorage.getItem("jwt");return await V.a.post("".concat(J,"/api/Medical/AddPredecessor"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))},_=async()=>{const e=q();return await V.a.get("".concat(J,"/api/Medical/GetRegistersByDateNow"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))},Z=async e=>{const t=q();return await V.a.get("".concat(J,"/api/Medical/GetExaminationsGiveRegister?dayOfBirth=").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))},$=async e=>{const t=q();return await V.a.get("".concat(J,"/api/Medical/GetVaccinationByPatientId/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))},ee=async()=>{const e=q();return await V.a.get("".concat(J,"/api/Medical/GetDoctorExamining"),e).then((function(e){return e})).catch((function(e){return e.response.status}))},te=async e=>{const t=q();return await V.a.get("".concat(J,"/api/Medical/GetMediacalBook?medicalRegisterId=").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response}))},ne=async e=>{const t=q();return await V.a.get("".concat(J,"/api/Medical/GetUpdatePredecessor/").concat(e),t).then((function(e){return e})).catch((function(e){return e.response}))},oe=async()=>{const e=q();return await V.a.get("".concat(J,"/api/Medical/GetAppointmentsNextWeek"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))},re=async(e,t)=>{const n=localStorage.getItem("jwt");return await V.a.put("".concat(J,"/api/Medical/UpdateState?id=").concat(e,"&state=").concat(t),{},{headers:{"content-type":"text/plain; charset=utf-8",Authorization:"Bearer ".concat(n)}}).then((function(e){return e})).catch((function(e){return e.response}))},ae=async(e,t,n)=>{const o=localStorage.getItem("jwt");return await V.a.put("".concat(J,"/api/Medical/UpdateStateAppointment/").concat(e,"?appointmentDate=").concat(t,"&stateAppointment=").concat(n),{},{headers:{"content-type":"text/plain; charset=utf-8",Authorization:"Bearer ".concat(o)}}).then((function(e){return e})).catch((function(e){return e.response}))},ie=r.a.createContext(null),ce=e=>{let{children:t}=e;const n={isAuthenticated:!1,isLogin:!1,token:""},[r,a]=Object(o.useState)(n),[i,c]=Object(o.useState)(!0),[s,l]=Object(o.useState)(!1),[d,h]=Object(o.useState)(!1),[p,u]=Object(o.useState)(null),[g,x]=Object(o.useState)(!1),j=()=>{l(!1),h(!1),u(null)},m=()=>{let e=!1,t=localStorage.getItem("jwt");if(t){let n=(e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}})(t),o=new Date;return 1e3*n.exp<o.getTime()?(localStorage.removeItem("jwt"),localStorage.removeItem("userLogin"),e):(e=!0,e)}return localStorage.removeItem("userLogin"),e};return Object(o.useEffect)((()=>{c(!0);if(JSON.parse(localStorage.getItem("userLogin"))){if(m()){const e=JSON.parse(localStorage.getItem("userLogin"));a(e)}else a(n)}else localStorage.removeItem("jwt"),a(n);c(!1)}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ie.Provider,{value:{user:r,loading:i,loadingContext:e=>{c(...e)},loginContext:e=>{a({...e}),c(!1)},logoutContext:()=>{a({...n})},alertVisible:s,triggerAlert:e=>{l(!0),h(!0),u((()=>e))},confirmAlert:()=>{p&&p(),h(!1),j()},resetAlert:j,isLogOutClick:d},children:t}),Object(f.jsx)(Y,{openAlertProcessingBackdrop:g,alertTitle:"\u0110ang t\u1ea3i th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"})]})};var se=Object(d.withRouter)((function(e){const{user:t,logoutContext:n,triggerAlert:r}=Object(o.useContext)(ie),a=Object(l.useLocation)(),i=Object(d.useHistory)(),[c,h]=Object(o.useState)(!1),[p,u]=Object(o.useState)(null),x=localStorage.getItem("jwt"),j=Boolean(p),m=e=>{u(e.currentTarget)},b=()=>{u(null)},w=[{key:"medicalRegister",maxWidth:"114px",label:"\u0110\u0103ng k\xfd kh\xe1m",icon:Object(f.jsx)(T.a,{sx:{fontSize:30}}),LinkComponent:s.c,to:"/medicalregister"},{key:"remind-examining",maxWidth:"95px",label:"Nh\u1eafc kh\xe1m",icon:Object(f.jsx)(P.a,{sx:{fontSize:30}}),LinkComponent:s.c,to:"/remind-examining"}],S=[{key:"examining",maxWidth:"100px",label:"Kh\xe1m b\u1ec7nh",icon:Object(f.jsx)(E.a,{sx:{fontSize:30}}),LinkComponent:s.c,to:"/doctor-examining"}],M=[{key:"statistical",maxWidth:"83px",label:"Th\u1ed1ng k\xea",icon:Object(f.jsx)(F.a,{sx:{fontSize:30}}),LinkComponent:s.c,to:"/dashboard"}],[B,D]=Object(o.useState)([]),z=(W=e.location.pathname,B.findIndex((e=>e.to===W)));var W;const Y=()=>{"Doctor"===t.positionName?r((()=>{localStorage.removeItem("jwt"),localStorage.removeItem("userLogin"),n(),u(null),i.push("/login")})):(localStorage.removeItem("jwt"),localStorage.removeItem("userLogin"),n(),u(null),i.push("/login"))};return Object(o.useEffect)((()=>{"Nursing"===t.positionName?D(w):"Doctor"===t.positionName?D(S):"Admin"===t.positionName&&D(M)}),[t]),"/login"!==a.pathname?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g.a,{sx:{width:"100%",position:"fixed",top:0},children:Object(f.jsx)(y.a,{children:Object(f.jsxs)(C.a,{sx:{backgroundColor:"#cfe8fc",height:"78px"},children:[Object(f.jsx)(s.b,{to:"/",children:Object(f.jsx)(I.a,{src:k,sx:{width:62,height:62,mt:"auto",mb:"auto",mr:4}})}),!0===t.isAuthenticated||x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(v.a,{showLabels:!0,value:z,sx:{display:"flex",justifyContent:"flex-start",backgroundColor:"#cfe8fc",flexGrow:1},children:B.map((e=>Object(f.jsx)(N.a,{label:e.label,icon:e.icon,LinkComponent:e.LinkComponent,to:e.to,sx:{color:"#000",maxWidth:e.maxWidth}},e.key)))}),Object(f.jsx)(A.a,{onClick:m,sx:{color:"#000",textTransform:"none"},children:t.userFullName}),Object(f.jsxs)(Q.a,{anchorEl:p,open:j,onClose:b,children:[Object(f.jsx)(L.a,{children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),Object(f.jsx)(L.a,{onClick:Y,children:"\u0110\u0103ng xu\u1ea5t"})]}),Object(f.jsx)(R.a,{titleAccess:"H\u01b0\u1edbng d\u1eabn",sx:{color:"black",fontSize:"30px",cursor:"pointer"},onClick:()=>h(!0)})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{position:"absolute",right:22},children:[Object(f.jsx)(s.c,{exact:!0,to:"/login",children:Object(f.jsx)(A.a,{sx:{textTransform:"none",color:"#000"},children:"\u0110\u0103ng nh\u1eadp"})}),Object(f.jsx)(R.a,{titleAccess:"H\u01b0\u1edbng d\u1eabn",sx:{color:"black",fontSize:"30px",cursor:"pointer"},onClick:()=>h(!0)})]})})]})})}),Object(f.jsx)(O,{openModalUserManual:c,setOpenModalUserManual:h})]}):Object(f.jsx)(f.Fragment,{})}));var le=e=>{const t=localStorage.getItem("jwt"),n=JSON.parse(localStorage.getItem("userLogin"));return t&&n?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(d.Route,{path:e.path,component:e.component})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(d.Redirect,{to:"/login"})})};n(330);var de=()=>{Object(d.useHistory)();return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"section",children:[Object(f.jsx)("h1",{className:"error",children:"404"}),Object(f.jsx)("div",{className:"page",children:"Trang m\xe0 b\u1ea1n \u0111ang truy c\u1eadp kh\xf4ng t\u1ed3n t\u1ea1i."})]})})},he=n(463),pe=n(438),ue=n(462),ge=n(275),xe=n(442),je=n(167),me=n.n(je),be=n(168),fe=n.n(be);var Oe=e=>{const[t,n]=Object(o.useState)(!1),r=(t,n)=>{n&&"backdropClick"===n||e.setOpenModalRegister(!1)};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(h.a,{maxWidth:"xs",fullWidth:!0,open:e.openModalRegister,onClose:(e,t)=>r(0,t),disableEscapeKeyDown:!0,children:[Object(f.jsx)(p.a,{sx:{m:0,p:1.4,fontWeight:"bolder",fontSize:"22px"},children:"T\u1ea1o t\xe0i kho\u1ea3n"}),Object(f.jsx)(j.a,{onClick:()=>r(),sx:{position:"absolute",right:5,top:7},children:Object(f.jsx)(b.a,{fontSize:"medium"})}),Object(f.jsxs)(u.a,{dividers:!0,children:[Object(f.jsx)(pe.a,{label:"H\u1ecd t\xean",variant:"outlined",sx:{width:"46ch",mb:2.5}}),Object(f.jsx)(pe.a,{label:"T\xe0i kho\u1ea3n",variant:"outlined",sx:{width:"46ch",mb:2.5}}),Object(f.jsx)(pe.a,{label:"M\u1eadt kh\u1ea9u",variant:"outlined",type:t?"text":"password",sx:{width:"46ch",mb:2.5},InputProps:{endAdornment:Object(f.jsx)(ue.a,{position:"end",children:Object(f.jsxs)(j.a,{onClick:()=>n(!t),sx:{padding:"1px"},children:[" ",t?Object(f.jsx)(me.a,{}):Object(f.jsx)(fe.a,{})]})})}}),Object(f.jsx)(xe.a,{options:[{id:"1",positionName:"\u0110i\u1ec1u d\u01b0\u1ee1ng"},{id:"2",positionName:"B\xe1c s\u0129"}].map((e=>e.positionName)),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"V\u1ecb tr\xed"}),sx:{width:"45.95ch",mb:2.5}}),Object(f.jsx)(ge.a,{spacing:2,direction:"column",children:Object(f.jsx)(A.a,{sx:{height:"6vh",width:"20ch"},variant:"contained",color:"success",style:{margin:"auto"},onClick:()=>r(),children:"T\u1ea1o t\xe0i kho\u1ea3n"})})]})]})})};var ye=()=>{const{user:e,loadingContext:t,loginContext:n}=Object(o.useContext)(ie),r=Object(d.useHistory)(),[a,i]=Object(o.useState)(!1),[s,l]=Object(o.useState)({userId:"",password:""}),[h,p]=Object(o.useState)(!1),[u,m]=Object(o.useState)(!1),b=async()=>{if(""===s.userName)c.b.error("B\u1ea1n ch\u01b0a nh\u1eadp t\xe0i kho\u1ea3n!");else if(""===s.password)c.b.error("B\u1ea1n ch\u01b0a nh\u1eadp m\u1eadt kh\u1ea9u!");else{i(!0);const e=await(async(e,t)=>await V.a.post("".concat(G,"/api/UserAccount/Login"),{userId:e,password:t}).then((function(e){return e})).catch((function(e){return e.response})))(s.userId,s.password);if(i(!1),200!==e.status)c.b.error(e.data);else{if(localStorage.setItem("jwt",e.data.tokenDTO.token),"Doctor"===e.data.positionName){const t=await ee();if(200===t.status){const o={isAuthenticated:!0,isLogin:!0,userId:e.data.userId,userFullName:e.data.userFullName,positionName:e.data.positionName,isCurrentDoctorExamining:e.data.userId===t.data.userIdDoctor};localStorage.setItem("userLogin",JSON.stringify(o)),n(o)}else{const t={isAuthenticated:!0,isLogin:!0,userId:e.data.userId,userFullName:e.data.userFullName,positionName:e.data.positionName,isCurrentDoctorExamining:!1};localStorage.setItem("userLogin",JSON.stringify(t)),n(t)}}else{const t={isAuthenticated:!0,isLogin:!0,userId:e.data.userId,userFullName:e.data.userFullName,positionName:e.data.positionName};localStorage.setItem("userLogin",JSON.stringify(t)),n(t)}"Nursing"===e.data.positionName?r.push("/medicalregister"):"Doctor"===e.data.positionName?r.push("/doctor-examining"):r.push("/")}}};return Object(o.useEffect)((()=>{e&&!0===e.isAuthenticated&&r.push("/");const t=localStorage.getItem("jwt"),n=localStorage.getItem("userLogin");t&&n&&r.push("/")}),[]),Object(o.useEffect)((()=>{const e=e=>{a&&e.preventDefault()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[a]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(he.a,{maxWidth:"sm",children:Object(f.jsx)(g.a,{sx:{mt:3,borderRadius:"25px"},children:Object(f.jsxs)(g.a,{sx:{p:7.6},children:[Object(f.jsx)(I.a,{src:k,sx:{width:120,height:120,ml:"auto",mr:"auto",mb:2}}),Object(f.jsx)(x.a,{sx:{textAlign:"center",textTransform:"uppercase",fontWeight:"bolder",fontSize:"1.15rem",mb:2,color:"#4caf50"},variant:"h5",children:"Ch\u01b0\u01a1ng tr\xecnh kh\xe1m nhi khoa ph\xe1t tri\u1ec3n"}),Object(f.jsxs)(g.a,{component:"form",autoComplete:"off",style:{textAlign:"center"},children:[Object(f.jsx)(pe.a,{label:"T\xe0i kho\u1ea3n",variant:"outlined",sx:{width:"40ch",mb:2.5},onChange:e=>{return t=e.target.value,void l((e=>({...e,userId:t})));var t}}),Object(f.jsx)(pe.a,{label:"M\u1eadt kh\u1ea9u",variant:"outlined",type:u?"text":"password",sx:{width:"40ch",mb:3},onChange:e=>{return t=e.target.value,void l((e=>({...e,password:t})));var t},onKeyDown:e=>(e=>{13===e.which&&"Enter"===e.code&&b()})(e),InputProps:{endAdornment:Object(f.jsx)(ue.a,{position:"end",children:Object(f.jsxs)(j.a,{onClick:()=>m(!u),sx:{padding:"1px"},children:[" ",u?Object(f.jsx)(me.a,{}):Object(f.jsx)(fe.a,{})]})})}}),Object(f.jsxs)(ge.a,{spacing:2,direction:"column",children:[Object(f.jsx)(A.a,{sx:{height:"6.5vh",width:"28ch"},variant:"contained",style:{margin:"auto"},onClick:e=>b(),children:"\u0110\u0103ng nh\u1eadp"}),Object(f.jsxs)(x.a,{sx:{textAlign:"center"},variant:"subtitle1",children:["Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? ",Object(f.jsx)("strong",{style:{cursor:"pointer"},onClick:()=>p(!0),children:"\u0110\u0103ng k\xfd"})]})]})]})]})})}),Object(f.jsx)(Oe,{openModalRegister:h,setOpenModalRegister:p}),Object(f.jsx)(Y,{openAlertProcessingBackdrop:a,setOpenAlertProcessingBackdrop:i,alertTitle:"\u0110ang \u0111\u0103ng nh\u1eadp"})]})},Ce=n(453),ve=n(450),Ne=n(31),Ie=n.n(Ne),ke=n(436);var we=function(e){const[t,n]=Object(o.useState)(!1),[r,a]=Object(o.useState)([]),[i,s]=Object(o.useState)(null),l=async()=>{if(null===i)c.b.error("B\u1ea1n ch\u01b0a ch\u1ecdn b\xe1c s\u0129 kh\xe1m!",{toastId:"error1"});else if(e.currentDoctorExamining.userIdDoctor===i.userId)c.b.warning("B\xe1c s\u0129 n\xe0y \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ecdn kh\xe1m cho ng\xe0y h\xf4m nay",{toastId:"warning1"});else{const t=await(async e=>{const t=localStorage.getItem("jwt");return await V.a.post("".concat(J,"/api/Medical/SetDoctorExaming/").concat(e),{},{headers:{"content-type":"text/plain; charset=utf-8",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(i.userIdDoctor);c.b.success(t.data,{toastId:"success1"}),e.setCurrentDoctorExamining(i),e.setOpenSelectedDoctorExaminingModal(!1)}},d=async()=>{if(n(!0),0===r.length){const t=await(async()=>{const e=K();return await V.a.get("".concat(G,"/api/UserAccount/GetDoctors"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))})();if(a(t),""!==e.currentDoctorExamining.userIdDoctor){const n=t.findIndex((t=>t.userId===e.currentDoctorExamining.userIdDoctor));s(t[n])}}else{const t=r.findIndex((t=>t.userId===e.currentDoctorExamining.userIdDoctor));s(r[t])}setTimeout((()=>{n(!1)}),300)};return Object(o.useEffect)((()=>{e.openSelectedDoctorExaminingModal&&d()}),[e.currentDoctorExamining,e.openSelectedDoctorExaminingModal]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(h.a,{fullWidth:!0,maxWidth:"xs",open:e.openSelectedDoctorExaminingModal,onClose:(t,n)=>((t,n)=>{n&&"backdropClick"===n||(s(null),e.setOpenSelectedDoctorExaminingModal(!1))})(0,n),disableEscapeKeyDown:!0,children:[Object(f.jsx)(p.a,{sx:{m:0,p:1.4,fontWeight:"bolder",fontSize:"22px"},children:e.currentDoctorExamining?""!==e.currentDoctorExamining.userIdDoctor?"Thay \u0111\u1ed5i b\xe1c s\u0129 kh\xe1m":"Ch\u1ecdn b\xe1c s\u0129 kh\xe1m":null}),Object(f.jsx)(j.a,{onClick:()=>e.setOpenSelectedDoctorExaminingModal(!1),sx:{position:"absolute",right:5,top:7},children:Object(f.jsx)(b.a,{fontSize:"medium"})}),Object(f.jsx)(u.a,{dividers:!0,children:t?Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(f.jsx)(W.a,{})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{height:"auto"},children:[Object(f.jsx)(xe.a,{value:i,sx:{marginBottom:"10px"},options:r,PopperComponent:e=>Object(f.jsx)(ke.a,{...e,style:{width:e.anchorEl?e.anchorEl.clientWidth:void 0},placement:"bottom-start"}),getOptionLabel:e=>e.userFullName,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.userFullName}),onChange:(e,t)=>((e,t)=>{s({userFullName:t.userFullName,userIdDoctor:t.userId})})(0,t),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Ch\u1ecdn m\u1ed9t b\xe1c s\u0129"}),disableClearable:!0,popupIcon:null}),Object(f.jsx)(ge.a,{spacing:2,direction:"column",children:Object(f.jsx)(A.a,{sx:{width:"12ch"},variant:"contained",color:"success",style:{margin:"auto"},onClick:()=>l(),children:"L\u01b0u"})})]})})})]})})};var Te=function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(h.a,{fullWidth:!0,maxWidth:"sm",open:e.openAlertProcessing,disableEscapeKeyDown:!0,children:Object(f.jsx)(u.a,{children:Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[Object(f.jsx)(W.a,{}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang x\u1eed l\xfd..."})]})})})})},Se=n(472),Ee=n(444),Me=n(473),Pe=n(464),Be=n(269),Fe=n(440),De=n(430),Re=n(429),Ae=n(255),Qe=n(435),Le=n(23),ze=n.n(Le);const We="https://api-khamnhi.somee.com",Ye=()=>{const e=localStorage.getItem("jwt");return{headers:{Authorization:"Bearer ".concat(e)}}},He=async()=>{const e=Ye();return await V.a.get("".concat(We,"/api/Administrative/ListProvince"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))},Ve=async e=>{const t=Ye();return await V.a.get("".concat(We,"/api/Administrative/GetListDistrictByIdProvince/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))},Ge=async e=>{const t=Ye();return await V.a.get("".concat(We,"/api/Administrative/GetListWardByIdDistrict/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))},Ke=async e=>{const t=Ye();return await V.a.get("".concat(We,"/api/Administrative/GetFullAddressByIdWard/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))};var Je=function(e){const t={examinationId:"",height:"",weight:"",headCircumference:"",reason:"",vaccination:!1,id:"",patient:{identifier:"",address:"",fullName:"",dayOfBirth:null,codeWard:"",gender:!0,fullNameMother:"",phoneMother:"",fullNameFather:"",phoneFather:"",patientId:""}},n={identifier:{title:"",isError:!1,openTooltip:!1,focus:!1},fullName:{title:"",isError:!1,openTooltip:!1,focus:!1},gender:{title:"",isError:!1,openTooltip:!1,focus:!1},dayOfBirth:{title:"",isError:!1,openTooltip:!1,focus:!1},examiningSession:{title:"",isError:!1,openTooltip:!1,focus:!1},province:{title:"",isError:!1,openTooltip:!1,focus:!1},district:{title:"",isError:!1,openTooltip:!1,focus:!1},ward:{title:"",isError:!1,openTooltip:!1,focus:!1},address:{title:"",isError:!1,openTooltip:!1,focus:!1},fullNameMother:{title:"",isError:!1,openTooltip:!1,focus:!1},phoneMother:{title:"",isError:!1,openTooltip:!1,focus:!1},phoneFather:{title:"",isError:!1,openTooltip:!1,focus:!1},height:{title:"",isError:!1,openTooltip:!1,focus:!1},weight:{title:"",isError:!1,openTooltip:!1,focus:!1},headCircumference:{title:"",isError:!1,openTooltip:!1,focus:!1}},r=[{genderOrder:1,genderName:"Nam",genderValue:!0},{genderOrder:2,genderName:"N\u1eef",genderValue:!1}],a={gender:{value:null,openOption:!1},examiningSession:{value:null,openOption:!1,loading:!1},province:{value:null,openOption:!1},district:{value:null,openOption:!1},ward:{value:null,openOption:!1}},i=Object(o.useRef)(null),s=Object(o.useRef)(null),[l,d]=Object(o.useState)(),[x,m]=Object(o.useState)(),[O,y]=Object(o.useState)(t),[C,v]=Object(o.useState)(n),[N,I]=Object(o.useState)(a),[k,w]=Object(o.useState)([]),[T,S]=Object(o.useState)([]),[E,M]=Object(o.useState)({list:[],loading:!1}),[P,B]=Object(o.useState)({list:[],loading:!1}),[F,D]=Object(o.useState)(null),[R,Q]=Object(o.useState)(!1),L=Object(Be.a)({components:{MuiTooltip:{defaultProps:{placement:"bottom",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:"#d32f2f"}},arrow:{sx:{color:"#d32f2f"}}},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-8]}}]}}}}}}),z=e=>{I("Gender"===e?e=>(e.gender.openOption=!0,{...e}):"ExaminingSession"===e?e=>(e.examiningSession.openOption=!0,{...e}):"Province"===e?e=>(e.province.openOption=!0,{...e}):"District"===e?e=>(e.district.openOption=!0,{...e}):e=>(e.ward.openOption=!0,{...e}))},Y=(e,t)=>{""===e||"DD/MM/YYYY"===e||""!==e&&("Gender"===t?I((e=>(e.gender.openOption=!1,{...e}))):"ExaminingSession"===t?I((e=>(e.examiningSession.openOption=!1,{...e}))):"Province"===t?I((e=>(e.province.openOption=!1,{...e}))):"District"===t?I((e=>(e.district.openOption=!1,{...e}))):"Ward"===t&&I((e=>(e.ward.openOption=!1,{...e}))))},H=e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||e.preventDefault()},G=(e,t)=>{let{inputValue:n}=t;const o=n.toLowerCase();return e.filter((e=>{const t=e.fullName.toLowerCase(),n=e.fullName.split(" ").map((e=>e[0])).join("").toLowerCase();return t.includes(o)||n.includes(o)}))},K=async e=>{I((e=>(e.examiningSession.value=null,{...e}))),I((e=>(e.examiningSession.loading=!0,{...e})));const t=await Z(e);w(t.exams),I((e=>(e.examiningSession.loading=!1,{...e})))},q=(o,r)=>{r&&"backdropClick"===r||(M((e=>(e.loading=!1,e.list=[],{...e}))),B((e=>(e.loading=!1,e.list=[],{...e}))),w([]),I(a),y(t),m(""),v(n),d(!0),e.setSelectedPantientInfo(),e.setOpenModalInfoPantients(!1))},U=async()=>{if((()=>{const e={...C};let t=!0;return""!==C.identifier.title&&(Object.values(e).every((e=>!1===e.focus))&&(e.identifier.focus=!0,D("identifier")),t=!1),""===O.patient.fullName&&(e.fullName.title="B\u1ea1n ch\u01b0a nh\u1eadp h\u1ecd t\xean",e.fullName.openTooltip=!0,e.fullName.isError=!0,Object.values(e).every((e=>!1===e.focus))&&(e.fullName.focus=!0,D("fullName")),t=!1),""===O.patient.gender&&(e.gender.title="B\u1ea1n ch\u01b0a ch\u1ecdn gi\u1edbi t\xednh",e.gender.isError=!0,e.gender.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.gender.focus=!0,D("gender")),t=!1),""===O.patient.dayOfBirth&&(e.dayOfBirth.title="B\u1ea1n ch\u01b0a nh\u1eadp ng\xe0y sinh",e.dayOfBirth.isError=!0,e.dayOfBirth.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.dayOfBirth.focus=!0,s.current&&s.current.focus()),t=!1),""!==C.dayOfBirth.title&&(e.dayOfBirth.isError=!0,Object.values(e).every((e=>!1===e.focus))&&(e.dayOfBirth.focus=!0,s.current&&s.current.focus()),t=!1),null===N.examiningSession.value&&(e.examiningSession.title="B\u1ea1n ch\u01b0a ch\u1ecdn l\u1ea1i k\u1ef3 kh\xe1m",e.examiningSession.isError=!0,e.examiningSession.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.examiningSession.focus=!0,D("examiningSession")),t=!1),null===N.province.value&&(e.province.title="B\u1ea1n ch\u01b0a ch\u1ecdn t\u1ec9nh th\xe0nh",e.province.isError=!0,e.province.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.province.focus=!0,D("province")),t=!1),null===N.district.value&&(e.district.title="B\u1ea1n ch\u01b0a ch\u1ecdn qu\u1eadn huy\u1ec7n",e.district.isError=!0,e.district.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.district.focus=!0,D("district")),t=!1),null===N.ward.value&&(e.ward.title="B\u1ea1n ch\u01b0a ch\u1ecdn ph\u01b0\u1eddng x\xe3",e.ward.isError=!0,e.ward.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.ward.focus=!0,D("ward")),t=!1),""===O.patient.address&&(e.address.title="B\u1ea1n ch\u01b0a nh\u1eadp \u0111\u1ecba ch\u1ec9",e.address.isError=!0,e.address.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.address.focus=!0,D("address")),t=!1),""===O.patient.fullNameMother&&""===O.patient.fullNameFather&&(e.fullNameMother.title="B\u1ea1n ch\u01b0a nh\u1eadp t\xean ph\u1ee5 huynh",e.fullNameMother.isError=!0,e.fullNameMother.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.fullNameMother.focus=!0,D("fullNameMother")),t=!1),""===O.patient.phoneMother&&""===O.patient.phoneFather&&(e.phoneMother.title="B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",e.phoneMother.isError=!0,e.phoneMother.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.phoneMother.focus=!0,D("phoneMother")),t=!1),""!==e.phoneMother.title&&(e.phoneMother.isError=!0,Object.values(e).every((e=>!1===e.focus))&&(e.phoneMother.focus=!0,D("phoneMother")),t=!1),""!==e.phoneFather.title&&(e.phoneFather.isError=!0,Object.values(e).every((e=>!1===e.focus))&&(e.phoneFather.focus=!0,D("phoneFather")),t=!1),""===O.height&&(e.height.title="B\u1ea1n ch\u01b0a nh\u1eadp chi\u1ec1u cao",e.height.isError=!0,e.height.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.height.focus=!0,D("height")),t=!1),""===O.weight&&(e.weight.title="B\u1ea1n ch\u01b0a nh\u1eadp c\xe2n n\u1eb7ng",e.weight.isError=!0,e.weight.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.weight.focus=!0,D("weight")),t=!1),""===O.headCircumference&&(e.headCircumference.title="B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 v\xf2ng \u0111\u1ea7u",e.headCircumference.isError=!0,e.headCircumference.openTooltip=!0,Object.values(e).every((e=>!1===e.focus))&&(e.headCircumference.focus=!0,D("headCircumference")),t=!1),!0===Ie.a.isEqual(O,x)&&(c.b.warning("Hi\u1ec7n kh\xf4ng c\xf3 g\xec \u0111\u1ec3 c\u1eadp nh\u1eadt",{toastId:"warning1"}),t=!1),v(e),t})()){Q(!0);const t=await(async e=>{const t=localStorage.getItem("jwt");return await V.a.put("".concat(J,"/api/Medical/EditRegister"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(O);200===t.status?(c.b.success(t.data,{toastId:"success1"}),e.setCompleteMedicalRegister(!0),q()):(c.b.error(t.data,{toastId:"error1"}),e.setCompleteMedicalRegister(!0),q()),Q(!1)}};return Object(o.useEffect)((()=>{0===T.length&&(async()=>{const e=await He();S(e)})()}),[]),Object(o.useEffect)((()=>{e.selectedPantientInfo&&(e.setIsContinueUpdateMedicalRegister(!1),(async()=>{Q(!0);const t={...O};t.examinationId=e.selectedPantientInfo.examinationId,t.height=e.selectedPantientInfo.height,t.weight=e.selectedPantientInfo.weight,t.headCircumference=e.selectedPantientInfo.headCircumference,t.reason=e.selectedPantientInfo.reason,t.vaccination=e.selectedPantientInfo.vaccination,t.id=e.selectedPantientInfo.id,t.patient.identifier=e.selectedPantientInfo.patient.identifier,t.patient.address=e.selectedPantientInfo.patient.address,t.patient.fullName=e.selectedPantientInfo.patient.fullName,t.patient.dayOfBirth=e.selectedPantientInfo.patient.dayOfBirth,t.patient.codeWard=e.selectedPantientInfo.patient.codeWard,t.patient.gender=e.selectedPantientInfo.patient.gender,t.patient.fullNameMother=e.selectedPantientInfo.patient.fullNameMother,t.patient.phoneMother=e.selectedPantientInfo.patient.phoneMother,t.patient.fullNameFather=e.selectedPantientInfo.patient.fullNameFather,t.patient.phoneFather=e.selectedPantientInfo.patient.phoneFather,t.patient.patientId=e.selectedPantientInfo.patient.patientId,y(Ie.a.cloneDeep(t)),m(Ie.a.cloneDeep(t));const n=await Ke(e.selectedPantientInfo.patient.codeWard),o=await Ve(n.provinceCode);M((e=>(e.list=o,{...e})));const a=await Ge(n.districtCode);B((e=>(e.list=a,{...e})));const i=await Z(e.selectedPantientInfo.patient.dayOfBirth);w(i.exams);const c=r.find((t=>t.genderValue===e.selectedPantientInfo.patient.gender)),s=i.exams.findIndex((t=>t.id===e.selectedPantientInfo.examinationId)),l=T.findIndex((e=>e.code===n.provinceCode)),h=o.findIndex((e=>e.code===n.districtCode)),p=a.findIndex((e=>e.code===n.wardCode));I((e=>(e.gender.value=c,e.examiningSession.value=i.exams[s],e.province.value=T[l],e.district.value=o[h],e.ward.value=a[p],e))),d(!1),Q(!1)})())}),[e.selectedPantientInfo]),Object(o.useEffect)((()=>{e.openModalInfoPantients&&e.isContinueUpdateMedicalRegister&&!1===l&&(U(),e.setIsContinueUpdateMedicalRegister(!1))}),[e.isContinueUpdateMedicalRegister,l]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(h.a,{fullWidth:!0,maxWidth:"md",open:e.openModalInfoPantients,onClose:(e,t)=>q(0,t),children:[Object(f.jsx)(p.a,{sx:{p:1,fontWeight:"bolder",fontSize:"22px",textAlign:"center",color:"blue"},children:"Th\xf4ng tin b\u1ec7nh nh\xe2n"}),Object(f.jsx)(j.a,{onClick:()=>q(),sx:{position:"absolute",right:5,top:7},children:Object(f.jsx)(b.a,{fontSize:"medium"})}),Object(f.jsx)(u.a,{dividers:!0,sx:{pt:1.5,pb:1.5},children:Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",pl:4.2,pr:4.2,mb:.8},children:[Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.identifier.title}),open:C.identifier.openTooltip,placement:"left",children:Object(f.jsx)(pe.a,{error:!0===C.identifier.isError,label:"M\xe3 \u0111\u1ecbnh danh",variant:"outlined",sx:{width:"18%","&.MuiTextField-root":{marginTop:"7.5px"}},inputProps:{maxLength:12},inputRef:e=>e&&"identifier"===F&&e.focus(),defaultValue:O.patient.identifier,onChange:e=>(e=>{if(""!==e){"identifier"===F&&D(null);const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{const e={...C};t.length<12?(e.identifier.title="M\xe3 \u0111\u1ecbnh danh ch\u01b0a \u0111\u1ee7 12 s\u1ed1",e.identifier.openTooltip=!0,e.identifier.isError=!0,e.identifier.focus=!1,v(e)):(y((e=>(e.patient.identifier=t,{...e}))),e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,v(e))}),100)}else{"identifier"===F&&D(null);const e={...C};e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,v(e)}})(e.target.value)})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.fullName.title}),open:C.fullName.openTooltip,placement:"top",slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[-10,-6]}}]}},children:Object(f.jsx)(pe.a,{error:!0===C.fullName.isError,label:"H\u1ecd t\xean",variant:"outlined",sx:{width:"32%","&.MuiTextField-root":{marginTop:"7.5px"}},inputRef:e=>e&&"fullName"===F&&e.focus(),defaultValue:O.patient.fullName,onChange:e=>(e=>{const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{if(y((e=>(e.patient.fullName=t,{...e}))),"fullName"===F&&D(null),C.fullName.isError){const e={...C};e.fullName.title="",e.fullName.openTooltip=!1,e.fullName.isError=!1,e.fullName.focus=!1,v(e)}}),100)})(e.target.value)})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.gender.title}),open:C.gender.openTooltip,placement:"top",children:Object(f.jsx)(xe.a,{sx:{width:"12%",marginTop:"7.5px"},options:r,getOptionLabel:e=>e.genderName,value:N.gender.value,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.genderName}),onChange:(e,t)=>((e,t)=>{if("gender"===F&&D(null),y((e=>(e.patient.gender=t.genderValue,{...e}))),I((e=>(e.gender.value=t,{...e}))),C.gender.isError){const e={...C};e.gender.isError=!1,e.gender.title="",e.gender.openTooltip=!1,e.gender.focus=!1,v(e)}})(0,t),open:N.gender.openOption,onFocus:()=>z("Gender"),onBlur:e=>Y(e.target.value,"Gender"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Gi\u1edbi t\xednh",inputRef:e=>e&&"gender"===F&&e.focus(),error:!0===C.gender.isError}),disableClearable:!0,popupIcon:null})})}),Object(f.jsx)(Ae.a,{dateAdapter:Re.a,adapterLocale:"vi",children:Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(De.a,{components:["DatePicker"],children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.dayOfBirth.title}),open:C.dayOfBirth.openTooltip,children:Object(f.jsx)(g.a,{sx:{width:110},children:Object(f.jsx)(Qe.a,{label:"Ng\xe0y sinh",format:"DD/MM/YYYY",defaultValue:ze()(O.patient.dayOfBirth),disableFuture:!0,disableOpenPicker:!0,slotProps:{textField:{inputRef:s,error:!0===C.dayOfBirth.isError,onBlur:e=>Y(e.target.value,"dayOfBirth")}},onChange:e=>(async e=>{if(e){const t=e._d;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{const e=new Date,n=e.getFullYear()-t.getFullYear(),o=e.getMonth()-t.getMonth(),r=e.getDate()-t.getDate(),a=e.getFullYear()-t.getFullYear();let i=12*n+o,c=r;r<0&&(i-=1,c+=30);const s={...C};if(e<t||isNaN(a)||i>24||24===i&&c>29)s.dayOfBirth.title="B\u1ec7nh nh\xe2n l\u1edbn h\u01a1n 24 th\xe1ng tu\u1ed5i kh\xf4ng th\u1ec3 kh\xe1m",s.dayOfBirth.openTooltip=!0,s.dayOfBirth.isError=!0,s.dayOfBirth.focus=!1,v(s);else{const e=ze()(t).format("YYYY-MM-DD");y((t=>(t.patient.dayOfBirth=e,{...t}))),s.dayOfBirth.title="",s.dayOfBirth.openTooltip=!1,s.dayOfBirth.isError=!1,s.dayOfBirth.focus=!1,v(s),K(e)}}),100)}})(e)})})})})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.examiningSession.title}),open:C.examiningSession.openTooltip,placement:"right",children:Object(f.jsx)(xe.a,{sx:{width:"18%",mt:"7.5px"},options:k,noOptionsText:N.examiningSession.loading?"\u0110ang t\u1ea3i...":"",getOptionLabel:e=>e.name,value:N.examiningSession.value,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.name}),onChange:(e,t)=>((e,t)=>{if("examiningSession"===F&&D(null),y((e=>(e.examinationId=t.id,{...e}))),I((e=>(e.examiningSession.value=t,{...e}))),C.examiningSession.isError){const e={...C};e.examiningSession.isError=!1,e.examiningSession.title="",e.examiningSession.openTooltip=!1,e.examiningSession.focus=!1,v(e)}})(0,t),open:N.examiningSession.openOption,onFocus:()=>z("ExaminingSession"),onBlur:e=>Y(e.target.value,"ExaminingSession"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"K\u1ef3 kh\xe1m",inputRef:e=>e&&"examiningSession"===F&&e.focus(),error:!0===C.examiningSession.isError,sx:{"& .MuiInputBase-root.MuiOutlinedInput-root.MuiInputBase-colorPrimary.MuiInputBase-fullWidth.MuiInputBase-formControl.MuiInputBase-adornedEnd.MuiAutocomplete-inputRoot":{pl:"6px",pr:"6px"}},InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(f.Fragment,{children:[N.examiningSession.loading?Object(f.jsx)(W.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.province.title}),open:C.province.openTooltip,placement:"left",children:Object(f.jsx)(xe.a,{sx:{width:"20%",mt:2},options:T,filterOptions:G,getOptionLabel:e=>e.name,value:N.province.value,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.name}),onChange:(e,t)=>(async(e,t)=>{if("province"===F&&D(null),I((e=>(e.province.value=t,{...e}))),null!==N.district.value&&I((e=>(e.district.value=null,{...e}))),null!==N.ward.value&&I((e=>(e.ward.value=null,{...e}))),C.province.isError){const e={...C};e.province.isError=!1,e.province.title="",e.province.openTooltip=!1,e.province.focus=!1,v(e)}B((e=>(e.list=[],{...e}))),M((e=>(e.loading=!0,{...e})));const n=await Ve(t.code);M((e=>(e.loading=!1,e.list=n,{...e})))})(0,t),open:N.province.openOption,onFocus:()=>z("Province"),onBlur:e=>Y(e.target.value,"Province"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Th\xe0nh ph\u1ed1",inputRef:e=>e&&"province"===F&&e.focus(),error:!0===C.province.isError}),disableClearable:!0,popupIcon:null})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.district.title}),open:C.district.openTooltip,placement:"top",children:Object(f.jsx)(xe.a,{sx:{width:"20%",mt:2},options:E.list,noOptionsText:E.loading?"\u0110ang t\u1ea3i...":"",filterOptions:G,getOptionLabel:e=>e.name,value:N.district.value,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.fullName}),onChange:(e,t)=>(async(e,t)=>{if("district"===F&&D(null),I((e=>(e.district.value=t,{...e}))),null!==N.ward.value&&I((e=>(e.ward.value=null,{...e}))),C.district.isError){const e={...C};e.district.isError=!1,e.district.title="",e.district.openTooltip=!1,e.district.focus=!1,v(e)}B((e=>(e.loading=!0,{...e})));const n=await Ge(t.code);B((e=>(e.loading=!1,e.list=n,{...e})))})(0,t),open:N.district.openOption,onFocus:()=>z("District"),onBlur:e=>Y(e.target.value,"District"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Qu\u1eadn/huy\u1ec7n",inputRef:e=>e&&"district"===F&&e.focus(),error:!0===C.district.isError,InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(f.Fragment,{children:[E.loading?Object(f.jsx)(W.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.ward.title}),open:C.ward.openTooltip,children:Object(f.jsx)(xe.a,{sx:{width:"20%",mt:2},options:P.list,noOptionsText:P.loading?"\u0110ang t\u1ea3i...":"",filterOptions:G,getOptionLabel:e=>e.name,value:N.ward.value,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.fullName}),onChange:(e,t)=>((e,t)=>{if("ward"===F&&D(null),y((e=>(e.patient.codeWard=t.code,{...e}))),I((e=>(e.ward.value=t,{...e}))),C.ward.isError){const e={...C};e.ward.isError=!1,e.ward.title="",e.ward.openTooltip=!1,e.ward.focus=!1,v(e)}})(0,t),open:N.ward.openOption,onFocus:()=>z("Ward"),onBlur:e=>Y(e.target.value,"Ward"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Ph\u01b0\u1eddng/X\xe3",inputRef:e=>e&&"ward"===F&&e.focus(),error:!0===C.ward.isError,InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(f.Fragment,{children:[P.loading?Object(f.jsx)(W.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.address.title}),open:C.address.openTooltip,placement:"right",children:Object(f.jsx)(pe.a,{error:!0===C.address.isError,label:"\u0110\u1ecba ch\u1ec9",variant:"outlined",sx:{width:"36%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"address"===F&&e.focus(),defaultValue:O.patient.address,onChange:e=>(e=>{"address"===F&&D(null);const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{if(y((e=>(e.patient.address=t,{...e}))),C.address.isError){const e={...C};e.address.isError=!1,e.address.title="",e.address.openTooltip=!1,e.address.focus=!1,v(e)}}),100)})(e.target.value)})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.fullNameMother.title}),open:C.fullNameMother.openTooltip,placement:"left",children:Object(f.jsx)(pe.a,{error:!0===C.fullNameMother.isError,label:"H\u1ecd t\xean m\u1eb9",variant:"outlined",sx:{width:"32%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"fullNameMother"===F&&e.focus(),defaultValue:O.patient.fullNameMother,onChange:e=>(e=>{"fullNameMother"===F&&D(null);const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{if(y((e=>(e.patient.fullNameMother=t,{...e}))),C.fullNameMother.isError){const e={...C};e.fullNameMother.isError=!1,e.fullNameMother.title="",e.fullNameMother.openTooltip=!1,e.fullNameMother.focus=!1,v(e)}}),100)})(e.target.value)})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.phoneMother.title}),open:C.phoneMother.openTooltip,children:Object(f.jsx)(pe.a,{error:!0===C.phoneMother.isError,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",variant:"outlined",sx:{width:"16%","&.MuiTextField-root":{mt:2}},inputProps:{maxLength:10},inputRef:e=>e&&"phoneMother"===F&&e.focus(),defaultValue:O.patient.phoneMother,onChange:e=>(e=>{if("phoneMother"===F&&D(null),""!==e){const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{const e={...C};t.length<10?(e.phoneMother.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",e.phoneMother.openTooltip=!0,e.phoneMother.isError=!0,e.phoneMother.focus=!1,v(e)):(y((e=>(e.patient.phoneMother=t,{...e}))),e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,v(e))}),10)}else{const e={...C};e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,v(e)}})(e.target.value),onKeyDown:H})})}),Object(f.jsx)(pe.a,{label:"H\u1ecd t\xean cha",variant:"outlined",sx:{width:"32%","&.MuiTextField-root":{mt:2}},defaultValue:O.patient.fullNameFather,onChange:e=>(e=>{const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{if(y((e=>(e.patient.fullNameFather=t,{...e}))),C.fullNameMother.isError){const e={...C};e.fullNameMother.isError=!1,e.fullNameMother.title="",e.fullNameMother.openTooltip=!1,e.fullNameMother.focus=!1,v(e)}}),100)})(e.target.value)}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.phoneFather.title}),open:C.phoneFather.openTooltip,placement:"right",children:Object(f.jsx)(pe.a,{error:!0===C.phoneFather.isError,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",variant:"outlined",sx:{width:"16%","&.MuiTextField-root":{mt:2}},inputProps:{maxLength:10},inputRef:e=>e&&"phoneFather"===F&&e.focus(),defaultValue:O.patient.phoneFather,onChange:e=>(e=>{if("phoneFather"===F&&D(null),""!==e){const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{const e={...C};t.length<10?(e.phoneFather.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",e.phoneFather.openTooltip=!0,e.phoneFather.isError=!0,e.phoneFather.focus=!1,v(e)):(y((e=>(e.patient.phoneFather=t,{...e}))),e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,v(e))}),100)}else{const e={...C};e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,v(e)}})(e.target.value),onKeyDown:H})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.height.title}),open:C.height.openTooltip,placement:"left",children:Object(f.jsx)(pe.a,{error:!0===C.height.isError,label:"Chi\u1ec1u cao",sx:{width:"20%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"height"===F&&e.focus(),InputProps:{endAdornment:Object(f.jsx)(ue.a,{position:"end",children:"(cm)"})},defaultValue:O.height,onChange:e=>(e=>{"height"===F&&D(null);const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{if(y((e=>(e.height=t,{...e}))),C.height.isError){const e={...C};e.height.title="",e.height.openTooltip=!1,e.height.isError=!1,e.height.focus=!1,v(e)}}),100)})(e.target.value)})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.weight.title}),open:C.weight.openTooltip,children:Object(f.jsx)(pe.a,{error:!0===C.weight.isError,label:"C\xe2n n\u1eb7ng",sx:{width:"20%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"weight"===F&&e.focus(),InputProps:{endAdornment:Object(f.jsx)(ue.a,{position:"end",children:"(kg)"})},defaultValue:O.weight,onChange:e=>(e=>{"weight"===F&&D(null);const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{if(y((e=>(e.weight=t,{...e}))),C.weight.isError){const e={...C};e.weight.title="",e.weight.openTooltip=!1,e.weight.isError=!1,e.weight.focus=!1,v(e)}}),100)})(e.target.value)})})}),Object(f.jsx)(Fe.a,{theme:L,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:C.headCircumference.title}),open:C.headCircumference.openTooltip,placement:"right",children:Object(f.jsx)(pe.a,{error:!0===C.headCircumference.isError,label:"V\xf2ng \u0111\u1ea7u",sx:{width:"20%","&.MuiTextField-root":{mt:2}},inputRef:e=>e&&"headCircumference"===F&&e.focus(),InputProps:{endAdornment:Object(f.jsx)(ue.a,{position:"end",children:"(cm)"})},defaultValue:O.headCircumference,onChange:e=>(e=>{"headCircumference"===F&&D(null);const t=e;i.current&&clearInterval(i.current),i.current=setTimeout((()=>{if(y((e=>(e.headCircumference=t,{...e}))),C.headCircumference.isError){const e={...C};e.headCircumference.title="",e.headCircumference.openTooltip=!1,e.headCircumference.isError=!1,e.headCircumference.focus=!1,v(e)}}),100)})(e.target.value)})})}),Object(f.jsx)(Me.a,{sx:{width:"30%",mt:2},control:Object(f.jsx)(Ee.a,{checked:O.vaccination}),label:"C\xf3 tham gia ti\xeam ng\u1eeba",onChange:e=>{return t=e.target.checked,void y((e=>(e.vaccination=t,{...e})));var t}})]})}),Object(f.jsxs)(Se.a,{sx:{justifyContent:"center"},children:[Object(f.jsx)(A.a,{variant:"contained",onClick:()=>U(),children:"S\u1eeda (F1)"}),Object(f.jsx)(A.a,{variant:"contained",color:"secondary",onClick:(e,t)=>q(0,t),children:"\u0110\xf3ng (ESC)"})]})]}),Object(f.jsx)(Te,{openAlertProcessing:R,setOpenAlertProcessing:Q})]})},qe=n(466),Ue=n(470),Xe=n(469),_e=n(465),Ze=n(467),$e=n(468),et=n(274),tt=n(451),nt=n(452),ot=n(122),rt=n.n(ot),at=n(140),it=n.n(at);n(239);var ct=function(e){const[t,n]=Object(o.useState)(!1),[r,a]=Object(o.useState)({chipOrder:0,chipLabel:"BN ch\u1edd kh\xe1m"}),[i,c]=Object(o.useState)([{chipLabel:"BN ch\u1edd kh\xe1m",chipContent:0},{chipLabel:"BN \u0111\xe3 kh\xe1m",chipContent:0},{chipLabel:"BN h\u1eb9n kh\xe1m",chipContent:0}]),[s,l]=Object(o.useState)(!1),[d,h]=Object(o.useState)([]),[p,u]=Object(o.useState)([]),[j,m]=Object(o.useState)(""),[O,y]=Object(o.useState)([]),[C,v]=Object(o.useState)([]),[N,I]=Object(o.useState)(),[k,w]=Object(o.useState)(!1),[T,S]=Object(o.useState)(),E=(e,t)=>{const n=t.toLowerCase();return e.filter((e=>{const{patientId:t,fullName:o,phoneMother:r,phoneFather:a}=e.patient;return t.toLowerCase().includes(n)||o.toLowerCase().includes(n)||r.toLowerCase().includes(n)||a.toLowerCase().includes(n)}))},M=async()=>{n(!0);const t=await _(),o=await(async()=>{const e=q();return await V.a.get("".concat(J,"/api/Medical/GetAppointmentsToday"),e).then((function(e){return e.data})).catch((function(e){return e.response.status}))})();let a,i=[{chipLabel:"BN ch\u1edd kh\xe1m",chipContent:0},{chipLabel:"BN \u0111\xe3 kh\xe1m",chipContent:0},{chipLabel:"BN h\u1eb9n kh\xe1m",chipContent:o.length}];if(o.length>0?(a=o.map((e=>({patient:{identifier:e.identifier,patientId:e.patientId,fullName:e.patientFullName,gender:e.gender,dayOfBirth:e.dateOfBirth,fullNameMother:e.fullNameMother,phoneMother:e.phoneMother,fullNameFather:e.fullNameFather,phoneFather:e.phoneFather,address:e.address,fullAddress:e.fullAddress,codeWard:e.codeWard,nextExamId:e.nextExamId}}))),u(a)):u(o),400!==t&&0!==t.list.length)if(h(t.list),0===r.chipOrder){const e=t.list.filter((e=>0===e.state||1===e.state||3===e.state));v(e),y(e),i[0].chipContent=t.listCountState[0],i[1].chipContent=t.listCountState[1]}else if(1===r.chipOrder){const e=d.filter((e=>2===e.state));v(e),y(e),i[0].chipContent=t.listCountState[0],i[1].chipContent=t.listCountState[1]}else 2===r.chipOrder&&(v(a),y(a),i[0].chipContent=t.listCountState[0],i[1].chipContent=t.listCountState[1]);c(i),e.setComponent1Loading(!1),n(!1)};return Object(o.useEffect)((()=>{M()}),[]),Object(o.useEffect)((()=>{if(k){const e=e=>{112===e.keyCode&&(e.preventDefault(),S(!0))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}}),[k,T]),Object(o.useEffect)((()=>{!0===e.completeMedicalRegister&&(M(),e.setCompleteMedicalRegister(!1))}),[e.completeMedicalRegister]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(g.a,{sx:{p:0},children:[Object(f.jsx)(x.a,{variant:"h6",sx:{color:"red",mb:0,fontWeight:"bolder",fontSize:"1.16rem",marginBottom:"5px"},children:t?Object(f.jsx)(ve.a,{}):Object(f.jsx)("div",{style:{display:"flex",height:"30px"},children:""!==e.currentDoctorExamining.userIdDoctor?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x.a,{variant:"subbtitle1",children:"B\xe1c s\u0129 kh\xe1m h\xf4m nay: ".concat(e.currentDoctorExamining.userFullName)})," ",Object(f.jsx)(it.a,{sx:{color:"#2e7d32",fontSize:"26px",ml:1,cursor:"pointer"},onClick:()=>e.setOpenSelectedDoctorExaminingModal(!0),titleAccess:"S\u1eeda"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x.a,{variant:"subbtitle1",children:"Ch\u01b0a ch\u1ecdn b\xe1c s\u0129 kh\xe1m h\xf4m nay"})," ",Object(f.jsx)(it.a,{sx:{color:"#2e7d32",fontSize:"26px",ml:1,cursor:"pointer"},onClick:()=>e.setOpenSelectedDoctorExaminingModal(!0),titleAccess:"Th\xeam"})]})})}),Object(f.jsx)("div",{className:"container",style:{border:"1px solid #fff",borderRadius:"10px",height:"562px",padding:0,boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)"},children:t?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%"},children:[Object(f.jsx)(W.a,{}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ge.a,{direction:"row",spacing:1,sx:{justifyContent:"center",mt:1.4},children:i.map(((e,t)=>Object(f.jsx)(nt.a,{badgeContent:e.chipContent,color:"error",children:Object(f.jsx)(tt.a,{label:e.chipLabel,color:t===r.chipOrder?"primary":"default",onClick:()=>((e,t)=>{if(a({chipOrder:e,chipLabel:t}),0===e){const e=d.filter((e=>0===e.state||1===e.state||3===e.state));v(e),y(e)}else if(1===e){const e=d.filter((e=>2===e.state));v(e),y(e)}else 2===e&&(v(p),y(p))})(t,e.chipLabel)})},"chipPantientState ".concat(t))))}),Object(f.jsxs)(x.a,{variant:"h6",sx:{mt:.2,textAlign:"center",fontSize:"1.12rem"},children:["Danh s\xe1ch ",r.chipLabel," ng\xe0y ",ze()().format("DD/MM/YYYY")]}),Object(f.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",position:"relative"},children:Object(f.jsx)(pe.a,{sx:{mt:.2,mb:1,width:360,"& .MuiInputBase-inputSizeSmall":{textAlign:"center"}},size:"small",variant:"outlined",placeholder:"T\xecm v\u1edbi M\xe3 BN ho\u1eb7c T\xean BN ho\u1eb7c S\u0110T",value:j,onChange:e=>(e=>{const t=e;m(t),v(""===e?O:E(O,t))})(e.target.value),InputProps:{startAdornment:Object(f.jsx)(ue.a,{position:"start",children:Object(f.jsx)(rt.a,{})}),endAdornment:Object(f.jsx)(ue.a,{position:"end",children:""!==j?Object(f.jsx)(b.a,{sx:{cursor:"pointer"},titleAccess:"X\xf3a",onClick:()=>[m(""),v(O)]}):null})}})}),Object(f.jsx)(_e.a,{component:et.a,sx:{height:"438px",overflowX:"scroll",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"},children:Object(f.jsxs)(qe.a,{stickyHeader:!0,sx:{minWidth:1200},children:[Object(f.jsx)(Ze.a,{children:Object(f.jsxs)($e.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[2===r.chipOrder?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem",p:"10px"},children:"Tr\u1ea1ng th\xe1i"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"STT"})]}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"M\xe3 b\u1ec7nh nh\xe2n"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"H\u1ecd t\xean"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"Gi\u1edbi t\xednh"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"Ng\xe0y sinh"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"\u0110\u1ecba ch\u1ec9"})]})}),Object(f.jsx)(Ue.a,{children:0!==C.length?Object(f.jsx)(f.Fragment,{children:C.map(((t,n)=>{return Object(f.jsxs)($e.a,{hover:!0,role:"checkbox",sx:{cursor:"pointer"},onDoubleClick:()=>2===r.chipOrder?(async t=>{l(!0);const n=await $(t.patient.patientId),o={examinationId:t.patient.nextExamId,oldDisease:!0,height:"",weight:"",headCircumference:"",reason:"",vaccination:n.vaccination,medicalTypeId:n.medicalTypeId,userIdDoctor:"",patient:t.patient};e.setDataPantientAppointmentsToday(o),l(!1)})(t):(e=>{I(e),S(!0),w(!0)})(t),children:[2===r.chipOrder?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Xe.a,{align:"center",sx:{width:"90px"},children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)(x.a,{variant:"subtitle2",children:0===t.state||3===t.state?"Ch\u1edd kh\xe1m":2===t.state?"\u0110\xe3 kh\xe1m":"\u0110ang kh\xe1m"}),children:Object(f.jsx)("span",{children:(o=t.state,0===o||3===o?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("span",{className:"dotPantientRegisterWaiting"})}):1===o?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("span",{className:"dotPantientRegisterExamining"})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("span",{className:"dotPantientRegisterDone"})}))})})}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"20px"},children:t.order})]}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"150px"},children:t.patient.patientId}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"200px"},children:t.patient.fullName}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"110px"},children:!0===t.patient.gender?"Nam":"N\u1eef"}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"110px"},children:ze()(t.patient.dayOfBirth).format("DD/MM/YYYY")}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"140px"},children:""!==t.patient.phoneMother?t.patient.phoneMother:t.patient.phoneFather}),Object(f.jsx)(Xe.a,{align:"left",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:120},children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)(x.a,{variant:"subtitle2",children:t.patient.fullAddress}),children:Object(f.jsx)("span",{children:t.patient.fullAddress})})})]},n);var o}))}):null})]})})]})})]}),Object(f.jsx)(Y,{openAlertProcessingBackdrop:s,changeBackground:!0}),Object(f.jsx)(Je,{openModalInfoPantients:k,setOpenModalInfoPantients:w,selectedPantientInfo:N,setSelectedPantientInfo:I,isContinueUpdateMedicalRegister:T,setIsContinueUpdateMedicalRegister:S,setCompleteMedicalRegister:e.setCompleteMedicalRegister})]})},st=n(447),lt=n(443);var dt=function(e){const[t,n]=Object(o.useState)(!1),[r,a]=Object(o.useState)(!1),[i,s]=Object(o.useState)(null),l=async()=>{if(e.dataPatientsRegister.oldDisease){a(!0);const t=await(async(e,t)=>{const n=q();return await V.a.get("".concat(J,"/api/Medical/GetExaminationsGiveRegister?dayOfBirth=").concat(e,"&patientId=").concat(t),n).then((function(e){return e.data})).catch((function(e){return e.response.status}))})(e.dataPatientsRegister.patient.dayOfBirth,e.dataPatientsRegister.patient.patientId);s(t),e.dataPatientsRegister.examinationId=t.exams[0].id,a(!1)}else{a(!0);const t=await Z(e.dataPatientsRegister.patient.dayOfBirth);s(t),e.dataPatientsRegister.examinationId=t.exams[0].id,a(!1)}},d=async()=>{if(!0===e.dataPatientsRegister.oldDisease&&""!==e.dataPatientsRegister.examinationId)if(!1===i.isAppointment&&0===i.oldExams.length){n(!1),a(!0);const t=await U(e.dataPatientsRegister);a(!1),200===t.status?(c.b.success(t.data),s(null),e.setIsContinueSelectedExaminingSession(!1),e.setCompleteMedicalRegister(!0),e.setOpenModalExaminingSession(!1),e.handleResetField()):c.b.error(t.data,{toastId:"error1"})}else{n(!1),a(!0);const t=await U(e.dataPatientsRegister);a(!1),200===t.status?(c.b.success(t.data),s(null),e.setIsContinueSelectedExaminingSession(!1),e.setCompleteMedicalRegister(!0),e.setOpenModalExaminingSession(!1),e.handleResetField()):c.b.error(t.data,{toastId:"error1"})}else{a(!0);const t=await(async e=>{const t=localStorage.getItem("jwt");return await V.a.post("".concat(J,"/api/Medical/Register"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(e.dataPatientsRegister);a(!1),200===t.status?(c.b.success(t.data),s(null),e.handleResetField(),e.setIsContinueSelectedExaminingSession(!1),e.setCompleteMedicalRegister(!0),e.setOpenModalExaminingSession(!1)):c.b.error(t.data,{toastId:"error1"})}},m=()=>{""===e.dataPatientsRegister.examinationId?c.b.error("B\u1ea1n ch\u01b0a ch\u1ecdn k\u1ef3 kh\xe1m",{toastId:"error1"}):d()};return Object(o.useEffect)((()=>{""!==e.dataPatientsRegister.patient.dayOfBirth&&!0===e.openModalExaminingSession&&l()}),[e.openModalExaminingSession]),Object(o.useEffect)((()=>{!0===e.isContinueSelectedExaminingSession&&(m(),e.setIsContinueSelectedExaminingSession(!1))}),[e.isContinueSelectedExaminingSession]),Object(f.jsxs)(f.Fragment,{children:[i?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(h.a,{fullWidth:!0,maxWidth:"sm",open:e.openModalExaminingSession,disableEscapeKeyDown:!0,children:[Object(f.jsx)(p.a,{sx:{fontWeight:"bolder",fontSize:"20px",textAlign:"center",color:"green",textTransform:"uppercase"},children:"".concat(e.dataPatientsRegister.patient.fullName,", \n                            ").concat(!0===e.dataPatientsRegister.patient.gender?"Nam":"N\u1eef",", \n                            ").concat(i.monthsOfAge)}),Object(f.jsx)(j.a,{onClick:()=>[e.setOpenModalExaminingSession(!1),e.dataPatientsRegister.examinationId="",s(null)],sx:{position:"absolute",right:5,top:7},children:Object(f.jsx)(b.a,{fontSize:"medium"})}),Object(f.jsx)(u.a,{dividers:!0,sx:{pl:"0px",pr:"0px"},children:Object(f.jsxs)(Ce.a,{container:!0,rowSpacing:0,children:[Object(f.jsx)(Ce.a,{item:!0,xs:.5}),Object(f.jsx)(Ce.a,{item:!0,xs:5.5,children:Object(f.jsxs)(g.a,{sx:{border:"2px solid black",p:1,height:"50vh",overflow:"auto"},children:[Object(f.jsx)(x.a,{variant:"h6",sx:{fontWeight:"bolder"},children:"L\u1ecbch s\u1eed kh\xe1m"}),i.oldExams?i.oldExams.map(((e,t)=>Object(f.jsx)(x.a,{variant:"subtitle1",children:e.name},t))):null]})}),Object(f.jsx)(Ce.a,{item:!0,xs:5.5,children:Object(f.jsx)(g.a,{sx:{border:"2px solid red",p:1,height:"50vh"},children:Object(f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[Object(f.jsx)(x.a,{variant:"h6",sx:{fontWeight:"bolder",color:"red"},children:"Ch\u1ecdn k\u1ef3 kh\xe1m"}),Object(f.jsx)(st.a,{defaultValue:i.exams[0].id,onChange:t=>{return n=t.target.value,void(e.dataPatientsRegister.examinationId=n);var n},children:i.exams.map(((e,t)=>Object(f.jsx)(Me.a,{value:e.id,control:Object(f.jsx)(lt.a,{}),label:e.name},"".concat(t))))},"".concat(e.dataPatientsRegister.patient.patientId)),Object(f.jsx)(A.a,{variant:"contained",sx:{mt:.5},onClick:()=>m(),children:"Ti\u1ebfp t\u1ee5c (F2)"})]})})})]})})]})}):null,Object(f.jsx)(Te,{openAlertProcessing:r,setOpenAlertProcessing:a})]})};var ht=function(e){const t={patientId:"",phone:"",fullName:"",dayOfBirth:""},n={patientId:{title:"",isError:!1,openTooltip:!1,focus:!1},phone:{title:"",isError:!1,openTooltip:!1,focus:!1},fullName:{title:"",isError:!1,openTooltip:!1,focus:!1},dayOfBirth:{title:"",isError:!1,openTooltip:!1,focus:!1}},r=Object(o.useRef)(null),[a,i]=Object(o.useState)(null),[c,s]=Object(o.useState)(t),[l,d]=Object(o.useState)(n),[m,O]=Object(o.useState)(null),[y,C]=Object(o.useState)(!1),[v,N]=Object(o.useState)(0),I=Object(o.useRef)(null),k=Object(o.useRef)(null),w=Object(o.useRef)(null),T=Object(Be.a)({components:{MuiTooltip:{defaultProps:{placement:"bottom",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:"#d32f2f"}},arrow:{sx:{color:"#d32f2f"}}}}}}}),S=e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||"Enter"===e.key?"Enter"===e.key&&F(e):e.preventDefault()},E=(e,t)=>{if(""===e||"DD/MM/YYYY"===e){const e={...l};"patientId"===t?(r.current&&clearInterval(r.current),r.current=setTimeout((()=>{e.patientId.title="",e.patientId.openTooltip=!1,d(e)}),10),"patientId"===m&&O(null)):"dayOfBirth"===t?(e.dayOfBirth.title="",e.dayOfBirth.openTooltip=!1,d(e),"dayOfBirth"===m&&O(null)):"phone"===t&&(e.phone.title="",e.phone.openTooltip=!1,d(e),"phone"===m&&O(null))}},M=(o,r)=>{r&&"backdropClick"===r||(s(t),d(n),i(null),N(0),e.setOpenModalOldDisease(!1))},P=async()=>{C(!0);const e=await(async(e,t,n,o,r)=>{const a=q();return await V.a.get("".concat(J,"/api/Medical/SearchPatients?patientId=").concat(e,"&phone=").concat(t,"&fullName=").concat(n,"&dayOfBirth=").concat(o,"&gender=").concat(r),a).then((function(e){return e.data})).catch((function(e){return e.response.status}))})(c.patientId,c.phone,c.fullName,c.dayOfBirth,"");C(!1),i(e),s(t),d(n),k.current.reset(),k.current.querySelectorAll("input, textarea").forEach((e=>e.dispatchEvent(new Event("input",{bubbles:!0})))),O(null),e.length>0&&w.current.focus()},B=()=>{(()=>{const e={...l};let t=!0;return""===c.patientId&&""===c.fullName&&""===c.dayOfBirth&&""===c.phone&&(e.patientId.isError=!0,e.fullName.isError=!0,e.dayOfBirth.isError=!0,e.phone.isError=!0,t=!1),""!==l.patientId.title&&(Object.values(l).every((e=>!1===e.focus))&&(e.patientId.isError=!0,e.patientId.focus=!0,O("patientId")),t=!1),""!==l.dayOfBirth.title&&(Object.values(l).every((e=>!1===e.focus))&&(e.dayOfBirth.isError=!0,I.current&&I.current.focus()),t=!1),""!==l.phone.title&&(Object.values(l).every((e=>!1===e.focus))&&(e.phone.isError=!0,e.phone.focus=!0,O("phone")),t=!1),d(e),t})()&&setTimeout((()=>{P()}),200)},F=e=>{13===e.which&&"Enter"===e.code&&B()},D=async t=>{C(!0);const n=await $(t.patientId),o={examinationId:"",oldDisease:!0,height:"",weight:"",headCircumference:"",reason:"",vaccination:n.vaccination,medicalTypeId:n.medicalTypeId,userIdDoctor:"",patient:{patientId:t.patientId,identifier:t.identifier,address:t.address,fullName:t.fullName,dayOfBirth:t.dayOfBirth,codeWard:t.codeWard,gender:t.gender,fullNameMother:t.fullNameMother,phoneMother:t.phoneMother,fullNameFather:t.fullNameFather,phoneFather:t.phoneFather}};e.setDataPatientsRegister(o),C(!1),M()};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(h.a,{fullWidth:!0,maxWidth:"md",open:e.openModalOldDisease,onClose:(e,t)=>M(0,t),disableEscapeKeyDown:!0,sx:{".MuiDialog-paperWidthMd":{maxWidth:"970px"}},children:[Object(f.jsx)(p.a,{sx:{m:0,p:1.4,fontWeight:"bolder",fontSize:"22px",textAlign:"center"},children:"T\xecm b\u1ec7nh c\u0169"}),Object(f.jsx)(j.a,{onClick:()=>M(),sx:{position:"absolute",right:5,top:7},children:Object(f.jsx)(b.a,{fontSize:"medium"})}),Object(f.jsxs)(u.a,{dividers:!0,sx:{p:"10px 24px"},children:[Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-around"},component:"form",ref:k,children:[Object(f.jsx)(Fe.a,{theme:T,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:l.patientId.title}),open:l.patientId.openTooltip,children:Object(f.jsx)(pe.a,{sx:{"&.MuiTextField-root":{marginTop:"7.5px"}},error:!0===l.patientId.isError,label:"M\xe3 BN",variant:"outlined",size:"small",autoFocus:!0,inputRef:e=>e&&"patientId"===m&&e.focus(),inputProps:{maxLength:12},onChange:e=>(e=>{if(""!==e){const t=e;r.current&&clearInterval(r.current),r.current=setTimeout((()=>{const n={...l};e.length<8?(n.patientId.title="M\xe3 b\u1ec7nh nh\xe2n ph\u1ea3i t\u1eeb 8 \u0111\u1ebfn 12 s\u1ed1",n.patientId.isError=!0,n.patientId.openTooltip=!0,d(n)):("patientId"===m&&O(null),s((e=>(e.patientId=t,{...e}))),n.patientId.title="",n.patientId.isError=!1,n.patientId.openTooltip=!1,n.patientId.isError=!1,n.fullName.isError=!1,n.dayOfBirth.isError=!1,n.phone.isError=!1,d(n))}),100)}else{const e={...l};e.patientId.title="",e.patientId.openTooltip=!1,e.patientId.isError=!1,d(e)}})(e.target.value),onBlur:e=>E(e.target.value,"patientId"),onKeyDown:S})})}),Object(f.jsx)(Fe.a,{theme:T,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:l.fullName.title}),open:l.fullName.openTooltip,children:Object(f.jsx)(pe.a,{sx:{"&.MuiTextField-root":{marginTop:"7.5px"}},inputRef:e=>e&&"fullName"===m&&e.focus(),error:!0===l.fullName.isError,label:"H\u1ecd t\xean",variant:"outlined",size:"small",onChange:e=>(e=>{"fullName"===m&&O(null),s((t=>(t.fullName=e,{...t})));const t={...l};t.patientId.isError=!1,t.fullName.isError=!1,t.dayOfBirth.isError=!1,t.phone.isError=!1,d(t)})(e.target.value),onKeyDown:e=>F(e)})})}),Object(f.jsx)(Ae.a,{dateAdapter:Re.a,adapterLocale:"vi",children:Object(f.jsx)(Fe.a,{theme:T,children:Object(f.jsx)(De.a,{components:["DatePicker"],children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:l.dayOfBirth.title}),open:l.dayOfBirth.openTooltip,children:Object(f.jsx)(g.a,{sx:{width:222},children:Object(f.jsx)(Qe.a,{label:"Ng\xe0y sinh",format:"DD/MM/YYYY",disableFuture:!0,disableOpenPicker:!0,renderInput:e=>Object(f.jsx)(pe.a,{...e,size:"small"}),slotProps:{textField:{inputRef:I,error:!0===l.dayOfBirth.isError,size:"small",onBlur:e=>E(e.target.value,"dayOfBirth"),onKeyDown:e=>F(e)}},onChange:e=>(e=>{if(e){const t=e._d,n=new Date,o=n.getFullYear()-t.getFullYear(),r=n.getMonth()-t.getMonth(),a=n.getDate()-t.getDate(),i=n.getFullYear()-t.getFullYear();let c=12*o+r,h=a;a<0&&(c-=1,h+=30);const p={...l};if(n<t||isNaN(i)||c>24||24===c&&h>29)p.dayOfBirth.title="B\u1ec7nh nh\xe2n l\u1edbn h\u01a1n 24 th\xe1ng tu\u1ed5i kh\xf4ng th\u1ec3 kh\xe1m",p.dayOfBirth.openTooltip=!0,p.dayOfBirth.isError=!0,d(p);else{const e=ze()(t).format("YYYY-MM-DD");s((t=>(t.dayOfBirth=e,{...t}))),p.dayOfBirth.title="",p.dayOfBirth.openTooltip=!1,p.patientId.isError=!1,p.fullName.isError=!1,p.dayOfBirth.isError=!1,p.phone.isError=!1,d(p)}}})(e)})})})})})}),Object(f.jsx)(Fe.a,{theme:T,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:l.phone.title}),open:l.phone.openTooltip,children:Object(f.jsx)(pe.a,{sx:{"&.MuiTextField-root":{marginTop:"7.5px"}},inputRef:e=>e&&"phone"===m&&e.focus(),error:!0===l.phone.isError,label:"\u0110i\u1ec7n tho\u1ea1i cha/m\u1eb9",variant:"outlined",size:"small",inputProps:{maxLength:10},onChange:e=>(e=>{if(""!==e){const t={...l};e.length<10?(t.phone.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",t.phone.openTooltip=!0,d(t),s((t=>(t.phone=e,{...t})))):("phone"===m&&O(null),t.phone.title="",t.phone.openTooltip=!1,t.phone.isError=!1,t.patientId.isError=!1,t.fullName.isError=!1,t.dayOfBirth.isError=!1,d(t))}else{const e={...l};e.phone.title="",e.phone.openTooltip=!1,e.phone.isError=!1,d(e)}})(e.target.value),onKeyDown:S,onBlur:e=>E(e.target.value,"phone")})})})]}),Object(f.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",mt:1.6},children:Object(f.jsx)(A.a,{variant:"contained",color:"primary",onClick:()=>B(),children:"T\xecm (Enter)"})}),Object(f.jsx)(g.a,{children:a?0!==a.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(_e.a,{component:et.a,sx:{boxShadow:4,mt:1.4},tabIndex:0,onKeyDown:e=>(e=>{"ArrowDown"===e.key?N((e=>Math.min(e+1,a.length-1))):"ArrowUp"===e.key?N((e=>Math.max(e-1,0))):"Enter"===e.key&&null!==v&&D(a[v])})(e),ref:w,children:Object(f.jsxs)(qe.a,{stickyHeader:!0,children:[Object(f.jsx)(Ze.a,{children:Object(f.jsxs)($e.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"1rem"},children:"M\xe3 BN"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"1rem"},children:"H\u1ecd t\xean"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"1rem"},children:"Ng\xe0y sinh"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"1rem"},children:"Gi\u1edbi t\xednh"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"1rem"},children:"\u0110\u1ecba ch\u1ec9"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"1rem"},children:"Cha/M\u1eb9"})]})}),Object(f.jsx)(Ue.a,{children:a?a.map(((e,t)=>Object(f.jsxs)($e.a,{hover:!0,role:"checkbox",sx:{cursor:"pointer"},selected:v===t,onDoubleClick:()=>D(e),children:[Object(f.jsx)(Xe.a,{align:"left",children:e.patientId}),Object(f.jsx)(Xe.a,{align:"left",children:e.fullName}),Object(f.jsx)(Xe.a,{align:"left",children:ze()(e.dayOfBirth).format("DD/MM/YYYY")}),Object(f.jsx)(Xe.a,{align:"left",children:!0===e.gender?"Nam":"N\u1eef"}),Object(f.jsx)(Xe.a,{align:"left",children:e.fullAddress}),Object(f.jsx)(Xe.a,{align:"left",children:e.fullNameMother||e.fullNameFather})]},t))):null})]})}),Object(f.jsxs)(x.a,{variant:"subtitle1",sx:{textAlign:"center",mt:1.5,fontWeight:"bolder",color:"green"},children:["T\xecm th\u1ea5y ",a.length," b\u1ec7nh nh\xe2n"]})]}):Object(f.jsx)(x.a,{variant:"subtitle1",sx:{textAlign:"center",mt:1.5,fontWeight:"bolder",color:"red"},children:"Kh\xf4ng t\xecm th\u1ea5y b\u1ec7nh nh\xe2n"}):null})]})]}),Object(f.jsx)(Te,{openAlertProcessing:y,setOpenAlertProcessing:C})]})},pt=n(441);var ut=function(e){const t={examinationId:"",oldDisease:!1,height:"",weight:"",headCircumference:"",reason:"",vaccination:!1,medicalTypeId:"",userIdDoctor:"",patient:{patientId:"",identifier:"",address:"",fullName:"",dayOfBirth:"",codeWard:"",gender:"",fullNameMother:"",phoneMother:"",fullNameFather:"",phoneFather:""}},n={dayOfBirth:null,gender:{value:null,openOption:!1},province:{value:null,openOption:!1},district:{value:null,openOption:!1},ward:{value:null,openOption:!1},medicalType:{value:null,openOption:!1},vaccination:!1},r={identifier:{title:"",isError:!1,openTooltip:!1,focus:!1},patientId:{title:"",isError:!1,openTooltip:!1,focus:!1},fullName:{title:"",isError:!1,openTooltip:!1,focus:!1},dayOfBirth:{title:"",isError:!1,openTooltip:!1,focus:!1},gender:{title:"",isError:!1,openTooltip:!1,focus:!1},province:{title:"",isError:!1,openTooltip:!1,focus:!1},district:{title:"",isError:!1,openTooltip:!1,focus:!1},ward:{title:"",isError:!1,openTooltip:!1,focus:!1},address:{title:"",isError:!1,openTooltip:!1,focus:!1},fullNameMother:{title:"",isError:!1,openTooltip:!1,focus:!1},phoneMother:{title:"",isError:!1,openTooltip:!1,focus:!1},phoneFather:{title:"",isError:!1,openTooltip:!1,focus:!1},height:{title:"",isError:!1,openTooltip:!1,focus:!1},weight:{title:"",isError:!1,openTooltip:!1,focus:!1},headCircumference:{title:"",isError:!1,openTooltip:!1,focus:!1},medicalType:{title:"",isError:!1,openTooltip:!1,focus:!1},reason:{title:"",isError:!1,openTooltip:!1,focus:!1}},a=[{genderOrder:1,genderName:"Nam",genderValue:!0},{genderOrder:2,genderName:"N\u1eef",genderValue:!1}],i=[{medicalTypeOrder:1,medicalTypeName:"Kh\xe1m Nhi khoa ph\xe1t tri\u1ec3n",medicalTypeId:1},{medicalTypeOrder:2,medicalTypeName:"Kh\xe1m tr\u1ebb nguy c\u01a1 cao",medicalTypeId:2}],[s,l]=Object(o.useState)(!1),[d,h]=Object(o.useState)(!1),[p,u]=Object(o.useState)(!1),[j,m]=Object(o.useState)(!1),[b,O]=Object(o.useState)(t),[y,C]=Object(o.useState)(r),[v,N]=Object(o.useState)(null),[I,k]=Object(o.useState)(n),[w,T]=Object(o.useState)([]),[S,E]=Object(o.useState)({list:[],loading:!1}),[M,P]=Object(o.useState)({list:[],loading:!1}),B=Object(o.useRef)(null),F=Object(o.useRef)(null),D=Object(o.useRef)(null),R=Object(o.useRef)(null),Q=Object(Be.a)({components:{MuiTooltip:{defaultProps:{placement:"bottom",arrow:!0,componentsProps:{tooltip:{sx:{bgcolor:"#d32f2f"}},arrow:{sx:{color:"#d32f2f"}}},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-7]}}]}}}}}}),L=e=>{/[0-9]/.test(e.key)||"Backspace"===e.key||"Delete"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key||e.preventDefault()},z=(e,t)=>{let{inputValue:n}=t;const o=n.toLowerCase(),r=e=>e.replace(/\u0111/g,"d");return e.filter((e=>{const t=r(e.fullName.toLowerCase()),n=r(e.fullName.split(" ").map((e=>e[0])).join("").toLowerCase()),a=r(o);return t.includes(a)||n.includes(a)}))},Y=e=>{"Gender"===e?k((e=>(e.gender.openOption=!0,{...e}))):"Province"===e?k((e=>(e.province.openOption=!0,{...e}))):"District"===e?k((e=>(e.district.openOption=!0,{...e}))):"Ward"===e?k((e=>(e.ward.openOption=!0,{...e}))):"MedicalType"===e&&k((e=>(e.medicalType.openOption=!0,{...e})))},H=(e,t)=>{if(""===e||"DD/MM/YYYY"===e){const e={...y};"Identifier"===t&&(R.current&&clearInterval(R.current),R.current=setTimeout((()=>{e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,C(e)}),10)),"PhoneFather"===t?(R.current&&clearInterval(R.current),R.current=setTimeout((()=>{e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.patientId.focus=!1,C(e)}),10)):"Gender"===t?k((e=>(e.gender.openOption=!1,{...e}))):"Province"===t?k((e=>(e.province.openOption=!1,{...e}))):"District"===t?k((e=>(e.district.openOption=!1,{...e}))):"Ward"===t?k((e=>(e.ward.openOption=!1,{...e}))):"MedicalType"===t&&k((e=>(e.medicalType.openOption=!1,{...e})))}else""!==e&&("Gender"===t?k((e=>(e.gender.openOption=!1,{...e}))):"Province"===t?k((e=>(e.province.openOption=!1,{...e}))):"District"===t?k((e=>(e.district.openOption=!1,{...e}))):"Ward"===t?k((e=>(e.ward.openOption=!1,{...e}))):"MedicalType"===t&&k((e=>(e.medicalType.openOption=!1,{...e}))))},V=()=>{setTimeout((()=>{(()=>{let t=!0;const n={...y};return""!==y.identifier.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.identifier.focus=!0,N("identifier")),t=!1),""===b.patient.patientId&&(n.patientId.title="B\u1ea1n ch\u01b0a nh\u1eadp m\xe3 b\u1ec7nh nh\xe2n",n.patientId.openTooltip=!0,n.patientId.isError=!0,Object.values(y).every((e=>!1===e.focus))&&(n.patientId.focus=!0,N("patientId")),t=!1),""!==y.patientId.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.patientId.focus=!0,N("patientId")),t=!1),""===b.patient.fullName&&(n.fullName.title="B\u1ea1n ch\u01b0a nh\u1eadp h\u1ecd t\xean",n.fullName.openTooltip=!0,n.fullName.isError=!0,Object.values(y).every((e=>!1===e.focus))&&(n.fullName.focus=!0,N("fullName")),t=!1),""===b.patient.dayOfBirth&&(n.dayOfBirth.title="B\u1ea1n ch\u01b0a nh\u1eadp ng\xe0y sinh",n.dayOfBirth.openTooltip=!0,n.dayOfBirth.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.dayOfBirth.focus=!0,D.current&&D.current.focus()),t=!1),""!==y.dayOfBirth.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.dayOfBirth.focus=!0,D.current&&D.current.focus()),t=!1),""===b.patient.gender&&(n.gender.title="B\u1ea1n ch\u01b0a ch\u1ecdn gi\u1edbi t\xednh",n.gender.openTooltip=!0,n.gender.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.gender.focus=!0,k((e=>(e.gender.openOption=!0,{...e}))),N("gender")),t=!1),null===I.province.value&&(n.province.title="B\u1ea1n ch\u01b0a ch\u1ecdn t\u1ec9nh th\xe0nh",n.province.openTooltip=!0,n.province.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.province.focus=!0,k((e=>(e.province.openOption=!0,{...e}))),N("province")),t=!1),null===I.district.value&&(n.district.title="B\u1ea1n ch\u01b0a ch\u1ecdn qu\u1eadn huy\u1ec7n",n.district.openTooltip=!0,n.district.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.district.focus=!0,k((e=>(e.district.openOption=!0,{...e}))),N("district")),t=!1),null===I.ward.value&&(n.ward.title="B\u1ea1n ch\u01b0a ch\u1ecdn ph\u01b0\u1eddng x\xe3",n.ward.openTooltip=!0,n.ward.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.ward.focus=!0,k((e=>(e.ward.openOption=!0,{...e}))),N("ward")),t=!1),""===b.patient.address&&(n.address.title="B\u1ea1n ch\u01b0a nh\u1eadp \u0111\u1ecba ch\u1ec9",n.address.openTooltip=!0,n.address.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.address.focus=!0,N("address")),t=!1),""===b.patient.fullNameMother&&""===b.patient.fullNameFather&&(n.fullNameMother.title="B\u1ea1n ch\u01b0a nh\u1eadp t\xean ph\u1ee5 huynh",n.fullNameMother.openTooltip=!0,n.fullNameMother.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.fullNameMother.focus=!0,N("fullNameMother")),t=!1),""===b.patient.phoneMother&&""===b.patient.phoneFather&&(n.phoneMother.title="B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",n.phoneMother.openTooltip=!0,n.phoneMother.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.phoneMother.focus=!0,N("phoneMother")),t=!1),""!==y.phoneMother.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.phoneMother.focus=!0,N("phoneMother")),t=!1),""!==y.phoneFather.title&&(Object.values(n).every((e=>!1===e.focus))&&(n.phoneFather.focus=!0,N("phoneFather")),t=!1),""===b.height&&(n.height.title="B\u1ea1n ch\u01b0a nh\u1eadp chi\u1ec1u cao",n.height.openTooltip=!0,n.height.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.height.focus=!0,N("height")),t=!1),""===b.weight&&(n.weight.title="B\u1ea1n ch\u01b0a nh\u1eadp c\xe2n n\u1eb7ng",n.weight.openTooltip=!0,n.weight.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.weight.focus=!0,N("weight")),t=!1),""===b.headCircumference&&(n.headCircumference.title="B\u1ea1n ch\u01b0a nh\u1eadp s\u1ed1 v\xf2ng \u0111\u1ea7u",n.headCircumference.openTooltip=!0,n.headCircumference.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.headCircumference.focus=!0,N("headCircumference")),t=!1),""===b.medicalTypeId&&(n.medicalType.title="B\u1ea1n ch\u01b0a ch\u1ecdn lo\u1ea1i h\xecnh kh\xe1m",n.medicalType.openTooltip=!0,n.medicalType.isError=!0,Object.values(n).every((e=>!1===e.focus))&&(n.medicalType.focus=!0,k((e=>(e.medicalType.openOption=!0,{...e}))),N("medicalType")),t=!1),""===b.userIdDoctor&&(""===e.currentDoctorExamining.userIdDoctor?(c.b.error("B\u1ea1n ch\u01b0a ch\u1ecdn b\xe1c s\u0129 kh\xe1m cho ng\xe0y h\xf4m nay!",{toastId:"error1"}),t=!1):""!==e.currentDoctorExamining.userIdDoctor&&O((t=>(t.userIdDoctor=e.currentDoctorExamining.userIdDoctor,t)))),C(n),t})()&&(F.current.focus(),e.dataPantientAppointmentsToday?G():l(!0))}),100)},G=async()=>{m(!0);const t=await U(b);200===t.status?(c.b.success(t.data,{toastId:"success5"}),e.setCompleteMedicalRegister(!0),K()):c.b.error(t.data,{toastId:"error5"}),m(!1)},K=()=>{B.current.reset();B.current.querySelectorAll("input, textarea").forEach((e=>e.dispatchEvent(new Event("input",{bubbles:!0})))),k(n),E((e=>(e.loading=!1,e.list=[],{...e}))),P((e=>(e.loading=!1,e.list=[],{...e}))),e.dataPantientAppointmentsToday&&e.setDataPantientAppointmentsToday(),N(null),O(t),C(r),F.current.focus()},J=()=>{K(),O(t),k(n),C(r),u(!0)};return Object(o.useEffect)((()=>{(async()=>{const e=await He();400!==e&&T(e)})(),F.current.focus()}),[]),Object(o.useEffect)((()=>{!0===b.oldDisease&&(async()=>{m(!0),document.getElementById("patientIdentifier").value=b.patient.identifier,document.getElementById("patientId").value=b.patient.patientId,document.getElementById("patientFullName").value=b.patient.fullName;const e={...I};e.dayOfBirth=ze()(b.patient.dayOfBirth);const t=await Ke(b.patient.codeWard),n=await Ve(t.provinceCode),o=await Ge(t.districtCode),c=a.findIndex((e=>e.genderValue===b.patient.gender)),s=w.findIndex((e=>e.code===t.provinceCode)),l=n.findIndex((e=>e.code===t.districtCode)),d=o.findIndex((e=>e.code===t.wardCode)),h=i.findIndex((e=>e.medicalTypeId===b.medicalTypeId));e.gender.value=a[c],e.province.value=w[s],e.district.value=n[l],e.ward.value=o[d],e.medicalType.value=i[h],e.vaccination=b.vaccination,k(e),document.getElementById("patientAddress").value=b.patient.address,document.getElementById("patientFullNameMother").value=b.patient.fullNameMother,document.getElementById("patientPhoneMother").value=b.patient.phoneMother,document.getElementById("patientFullNameFather").value=b.patient.fullNameFather,document.getElementById("patientPhoneFather").value=b.patient.phoneFather,C(r),m(!1),N("height")})()}),[b.oldDisease]),Object(o.useEffect)((()=>{e.dataPantientAppointmentsToday&&(O(e.dataPantientAppointmentsToday),(async()=>{m(!0),document.getElementById("patientIdentifier").value=e.dataPantientAppointmentsToday.patient.identifier,document.getElementById("patientId").value=e.dataPantientAppointmentsToday.patient.patientId,document.getElementById("patientFullName").value=e.dataPantientAppointmentsToday.patient.fullName;const t={...I};t.dayOfBirth=ze()(e.dataPantientAppointmentsToday.patient.dayOfBirth);const n=await Ke(e.dataPantientAppointmentsToday.patient.codeWard),o=await Ve(n.provinceCode),c=await Ge(n.districtCode),s=a.findIndex((t=>t.genderValue===e.dataPantientAppointmentsToday.patient.gender)),l=w.findIndex((e=>e.code===n.provinceCode)),d=o.findIndex((e=>e.code===n.districtCode)),h=c.findIndex((e=>e.code===n.wardCode)),p=i.findIndex((t=>t.medicalTypeId===e.dataPantientAppointmentsToday.medicalTypeId));t.gender.value=a[s],t.province.value=w[l],t.district.value=o[d],t.ward.value=c[h],t.medicalType.value=i[p],t.vaccination=e.dataPantientAppointmentsToday.vaccination,k(t),document.getElementById("patientAddress").value=e.dataPantientAppointmentsToday.patient.address,document.getElementById("patientFullNameMother").value=e.dataPantientAppointmentsToday.patient.fullNameMother,document.getElementById("patientPhoneMother").value=e.dataPantientAppointmentsToday.patient.phoneMother,document.getElementById("patientFullNameFather").value=e.dataPantientAppointmentsToday.patient.fullNameFather,document.getElementById("patientPhoneFather").value=e.dataPantientAppointmentsToday.patient.phoneFather,C(r),m(!1),N("height")})())}),[e.dataPantientAppointmentsToday]),Object(o.useEffect)((()=>{e.onF2Press&&(!0===s&&!1===p?(h(!0),e.setOnF2Press(!1)):(V(),e.setOnF2Press(!1))),e.onF4Press&&(!0===s||!0===p||K(),e.setOnF4Press(!1)),e.onF8Press&&(!0===s||!0===p||J(),e.setOnF8Press(!1))}),[e.onF2Press,e.onF4Press,e.onF8Press]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(he.a,{sx:{"&.MuiContainer-maxWidthLg":{pr:0}},children:Object(f.jsxs)(g.a,{sx:{minHeight:"36.4rem",borderRadius:"20px",boxShadow:5,pt:1.2,pb:1.2,pl:2.4,pr:2.4,mt:1.5},children:[Object(f.jsx)(x.a,{variant:"h6",sx:{textAlign:"center",fontWeight:"bolder",color:"blue"},children:"Th\xf4ng tin \u0111\u0103ng k\xfd kh\xe1m"}),Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},component:"form",ref:B,children:[Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.identifier.title}),open:y.identifier.openTooltip,placement:"left",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"18%",marginTop:"20px"},children:Object(f.jsx)(pe.a,{error:!0===y.identifier.isError,disabled:!0===b.oldDisease,label:"M\xe3 \u0111\u1ecbnh danh",variant:"outlined",id:"patientIdentifier",inputRef:"identifier"===v?e=>e&&"identifier"===v&&e.focus():F,onChange:e=>(e=>{if(""!==e){"identifier"===v&&N(null);const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{const e={...y};t.length<12?(e.identifier.title="M\xe3 \u0111\u1ecbnh danh ch\u01b0a \u0111\u1ee7 12 s\u1ed1",e.identifier.openTooltip=!0,e.identifier.isError=!0,e.identifier.focus=!1,C(e)):(O((e=>(e.patient.identifier=t,{...e}))),e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,C(e))}),100)}else{"identifier"===v&&N(null);const e={...y};e.identifier.title="",e.identifier.openTooltip=!1,e.identifier.isError=!1,e.identifier.focus=!1,C(e)}})(e.target.value),onKeyDown:L,onBlur:e=>H(e.target.value,"Identifier"),inputProps:{style:{WebkitTextFillColor:b.oldDisease?"#ff1744":"black"},maxLength:12},InputLabelProps:!0===b.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.patientId.title}),open:y.patientId.openTooltip,placement:"top",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"18%",marginTop:"20px"},children:Object(f.jsx)(pe.a,{error:!0===y.patientId.isError,disabled:!0===b.oldDisease,label:"M\xe3 BN",variant:"outlined",id:"patientId",inputRef:e=>e&&"patientId"===v&&e.focus(),onChange:e=>(e=>{if(""!==e){const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{const e={...y};t.length<8?(e.patientId.title="M\xe3 BN ph\u1ea3i t\u1eeb 8 \u0111\u1ebfn 12 s\u1ed1",e.patientId.openTooltip=!0,e.patientId.isError=!0,e.patientId.focus=!1,C(e)):("patientId"===v&&N(null),O((e=>(e.patient.patientId=t,{...e}))),e.patientId.title="",e.patientId.openTooltip=!1,e.patientId.isError=!1,e.patientId.focus=!1,C(e))}),100)}})(e.target.value),onKeyDown:L,onBlur:e=>H(e.target.value,"PatientId"),inputProps:{style:{WebkitTextFillColor:b.oldDisease?"#ff1744":"black"},maxLength:12},InputLabelProps:!0===b.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.fullName.title}),open:y.fullName.openTooltip,placement:"top",PopperProps:{sx:{zIndex:2}},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[37,-7]}}]}},children:Object(f.jsx)("div",{style:{width:"30%",display:"inline-grid",marginTop:"20px"},children:Object(f.jsx)(pe.a,{error:!0===y.fullName.isError,disabled:!0===b.oldDisease,label:"H\u1ecd t\xean",variant:"outlined",id:"patientFullName",inputRef:e=>e&&"fullName"===v&&e.focus(),onChange:e=>(e=>{const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{if(O((e=>(e.patient.fullName=t,{...e}))),"fullName"===v&&N(null),y.fullName.isError){const e={...y};e.fullName.title="",e.fullName.openTooltip=!1,e.fullName.isError=!1,e.fullName.focus=!1,C(e)}}),100)})(e.target.value),inputProps:{style:{WebkitTextFillColor:b.oldDisease?"#ff1744":"black"}},InputLabelProps:!0===b.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(f.jsx)(Ae.a,{dateAdapter:Re.a,adapterLocale:"vi",children:Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(De.a,{components:["DatePicker"],children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.dayOfBirth.title}),open:y.dayOfBirth.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)(g.a,{sx:{width:142,mt:"12px !important"},children:Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)(pt.a,{label:"Ng\xe0y sinh",format:"DD/MM/YYYY",value:I.dayOfBirth,disabled:!0===b.oldDisease,slotProps:{textField:{inputRef:D,error:!0===y.dayOfBirth.isError,onBlur:e=>H(e.target.value,"dayOfBirth"),sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===b.oldDisease?"#ff1744":""}}}},onChange:e=>(e=>{if(e){const t=e._d;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{const n=new Date,o=n.getFullYear()-t.getFullYear(),r=n.getMonth()-t.getMonth(),a=n.getDate()-t.getDate(),i=n.getFullYear()-t.getFullYear();let c=12*o+r,s=a;a<0&&(c-=1,s+=30);const l={...y};if(n<t||i>2||isNaN(i)||c>24||24===c&&s>29)l.dayOfBirth.title="B\u1ec7nh nh\xe2n l\u1edbn h\u01a1n 24 th\xe1ng tu\u1ed5i kh\xf4ng th\u1ec3 kh\xe1m",l.dayOfBirth.openTooltip=!0,l.dayOfBirth.isError=!0,l.dayOfBirth.focus=!1,C(l),k((t=>(t.dayOfBirth=e,{...t})));else{"dayOfBirth"===v&&N(null);const n=ze()(t).format("YYYY-MM-DD");O((e=>(e.patient.dayOfBirth=n,{...e}))),k((t=>(t.dayOfBirth=e,{...t}))),l.dayOfBirth.title="",l.dayOfBirth.openTooltip=!1,l.dayOfBirth.isError=!1,l.dayOfBirth.focus=!1,C(l)}}),100)}})(e)})})})})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.gender.title}),open:y.gender.openTooltip,placement:"top",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"12%",marginTop:"20px"},children:Object(f.jsx)(xe.a,{disablePortal:!0,id:"patientGender",disabled:!0===b.oldDisease,value:I.gender.value,options:a,getOptionLabel:e=>e.genderName,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.genderName}),onChange:(e,t)=>((e,t)=>{if("gender"===v&&N(null),O((e=>(e.patient.gender=t.genderValue,{...e}))),k((e=>(e.gender.value=t,{...e}))),y.gender.isError){const e={...y};e.gender.title="",e.gender.openTooltip=!1,e.gender.isError=!1,e.gender.focus=!1,C(e)}})(0,t),open:I.gender.openOption,onFocus:()=>Y("Gender"),onBlur:e=>H(e.target.value,"Gender"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Gi\u1edbi t\xednh",inputRef:e=>e&&"gender"===v&&e.focus(),error:!0===y.gender.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===b.oldDisease?"#ff1744":""}}}),disableClearable:!0,popupIcon:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.province.title}),open:y.province.openTooltip,placement:"left",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"19.2%",marginTop:"20px"},children:Object(f.jsx)(xe.a,{disablePortal:!0,disabled:!0===b.oldDisease,value:I.province.value,options:w,noOptionsText:"\u0110ang t\u1ea3i...",filterOptions:z,getOptionLabel:e=>e.name,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.name}),onChange:(e,t)=>(async(e,t)=>{if("province"===v&&N(null),k((e=>(e.province.value=t,{...e}))),null!==I.district.value&&k((e=>(e.district.value=null,{...e}))),null!==I.ward.value&&k((e=>(e.ward.value=null,{...e}))),y.province.isError){const e={...y};e.province.title="",e.province.openTooltip=!1,e.province.isError=!1,e.province.focus=!1,C(e)}P((e=>(e.list=[],{...e}))),E((e=>(e.loading=!0,{...e})));const n=await Ve(t.code);E((e=>(e.loading=!1,e.list=n,{...e})))})(0,t),open:I.province.openOption,onFocus:()=>Y("Province"),onBlur:e=>H(e.target.value,"Province"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Th\xe0nh ph\u1ed1",inputRef:e=>e&&"province"===v&&e.focus(),error:!0===y.province.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===b.oldDisease?"#ff1744":""}}}),disableClearable:!0,popupIcon:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.district.title}),open:y.district.openTooltip,placement:"top",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"24%",marginTop:"20px"},children:Object(f.jsx)(xe.a,{disablePortal:!0,disabled:!0===b.oldDisease,value:I.district.value,options:S.list,noOptionsText:S.loading?"\u0110ang t\u1ea3i...":"",open:I.district.openOption,onFocus:()=>Y("District"),onBlur:e=>H(e.target.value,"District"),filterOptions:z,getOptionLabel:e=>e.name,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.fullName}),onChange:(e,t)=>(async(e,t)=>{if("district"===v&&N(null),k((e=>(e.district.value=t,{...e}))),null!==I.ward.value&&k((e=>(e.ward.value=null,{...e}))),y.district.isError){const e={...y};e.district.title="",e.district.openTooltip=!1,e.district.isError=!1,e.district.focus=!1,C(e)}P((e=>(e.loading=!0,{...e})));const n=await Ge(t.code);P((e=>(e.loading=!1,e.list=n,{...e})))})(0,t),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Qu\u1eadn/Huy\u1ec7n",inputRef:e=>e&&"district"===v&&e.focus(),error:!0===y.district.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===b.oldDisease?"#ff1744":""}},InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(f.Fragment,{children:[S.loading?Object(f.jsx)(W.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.ward.title}),open:y.ward.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"23.5%",marginTop:"20px"},children:Object(f.jsx)(xe.a,{disablePortal:!0,disabled:!0===b.oldDisease,value:I.ward.value,options:M.list,noOptionsText:M.loading?"\u0110ang t\u1ea3i...":"",filterOptions:z,getOptionLabel:e=>e.name,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.fullName}),onChange:(e,t)=>((e,t)=>{if("ward"===v&&N(null),O((e=>(e.patient.codeWard=t.code,{...e}))),k((e=>(e.ward.value=t,{...e}))),y.ward.isError){const e={...y};e.ward.title="",e.ward.openTooltip=!1,e.ward.isError=!1,e.ward.focus=!1,C(e)}})(0,t),open:I.ward.openOption,onFocus:()=>Y("Ward"),onBlur:e=>H(e.target.value,"Ward"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Ph\u01b0\u1eddng/X\xe3",inputRef:e=>e&&"ward"===v&&e.focus(),error:!0===y.ward.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===b.oldDisease?"#ff1744":""}},InputProps:{...e.InputProps,endAdornment:Object(f.jsxs)(f.Fragment,{children:[M.loading?Object(f.jsx)(W.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),disableClearable:!0,popupIcon:null})})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.address.title}),open:y.address.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"30%",display:"inline-grid",marginTop:"20px"},children:Object(f.jsx)(pe.a,{error:!0===y.address.isError,disabled:!0===b.oldDisease,label:"\u0110\u1ecba ch\u1ec9",variant:"outlined",id:"patientAddress",inputRef:e=>e&&"address"===v&&e.focus(),onChange:e=>(e=>{const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{if("address"===v&&N(null),O((e=>(e.patient.address=t,{...e}))),y.address.isError){const e={...y};e.address.title="",e.address.openTooltip=!1,e.address.isError=!1,e.address.focus=!1,C(e)}}),100)})(e.target.value),inputProps:{style:{WebkitTextFillColor:b.oldDisease?"#ff1744":"black"}},InputLabelProps:!0===b.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.fullNameMother.title}),open:y.fullNameMother.openTooltip,placement:"left",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"30%",display:"inline-grid",marginTop:"20px"},children:Object(f.jsx)(pe.a,{error:!0===y.fullNameMother.isError,disabled:!0===b.oldDisease,label:"H\u1ecd t\xean m\u1eb9",variant:"outlined",id:"patientFullNameMother",inputRef:e=>e&&"fullNameMother"===v&&e.focus(),autoFocus:y.fullNameMother.focus,onChange:e=>(e=>{const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{if("fullNameMother"===v&&N(null),O((e=>(e.patient.fullNameMother=t,{...e}))),y.fullNameMother.isError){const e={...y};e.fullNameMother.title="",e.fullNameMother.openTooltip=!1,e.fullNameMother.isError=!1,e.fullNameMother.focus=!1,C(e)}}),100)})(e.target.value),inputProps:{style:{WebkitTextFillColor:b.oldDisease?"#ff1744":"black"}},InputLabelProps:!0===b.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.phoneMother.title}),open:y.phoneMother.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"18%",marginTop:"20px"},children:Object(f.jsx)(pe.a,{error:!0===y.phoneMother.isError,disabled:!0===b.oldDisease,label:"\u0110i\u1ec7n tho\u1ea1i",variant:"outlined",id:"patientPhoneMother",inputRef:e=>e&&"phoneMother"===v&&e.focus(),onChange:e=>(e=>{if(""!==e){const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{"phoneMother"===v&&N(null);const e={...y};t.length<10?(e.phoneMother.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",e.phoneMother.openTooltip=!0,e.phoneMother.isError=!0,e.phoneMother.focus=!1,C(e)):(O((e=>(e.patient.phoneMother=t,{...e}))),e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,C(e))}),100)}else{const e={...y};e.phoneMother.title="",e.phoneMother.openTooltip=!1,e.phoneMother.isError=!1,e.phoneMother.focus=!1,C(e)}})(e.target.value),onKeyDown:L,onBlur:e=>H(e.target.value,"PhoneMother"),inputProps:{style:{WebkitTextFillColor:b.oldDisease?"#ff1744":"black"},maxLength:10},InputLabelProps:!0===b.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(f.jsx)(pe.a,{label:"H\u1ecd t\xean cha",disabled:!0===b.oldDisease,variant:"outlined",id:"patientFullNameFather",sx:{width:"30.4%","&.MuiTextField-root":{marginTop:"20px"}},onChange:e=>(e=>{"fullNameFather"===v&&N(null);const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{if(O((e=>(e.patient.fullNameFather=t,{...e}))),y.fullNameMother.isError){const e={...y};e.fullNameMother.title="",e.fullNameMother.openTooltip=!1,e.fullNameMother.isError=!1,e.fullNameMother.focus=!1,C(e)}}),100)})(e.target.value),inputProps:{style:{WebkitTextFillColor:b.oldDisease?"#ff1744":"black"}},InputLabelProps:!0===b.oldDisease?{shrink:Boolean(!0)}:null}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.phoneFather.title}),open:y.phoneFather.openTooltip,children:Object(f.jsx)("div",{style:{width:"18%",marginTop:"20px"},children:Object(f.jsx)(pe.a,{label:"\u0110i\u1ec7n tho\u1ea1i",disabled:!0===b.oldDisease,inputRef:e=>e&&"phoneFather"===v&&e.focus(),variant:"outlined",id:"patientPhoneFather",onChange:e=>((e,t)=>{if("phoneFather"===v&&N(null),""!==t){const e=t;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{const t={...y};e.length<10?(t.phoneFather.title="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u01b0a \u0111\u1ee7 10 s\u1ed1",t.phoneFather.openTooltip=!0,t.phoneFather.isError=!0,t.phoneFather.focus=!1,C(t)):(O((t=>(t.patient.phoneFather=e,{...t}))),t.phoneFather.title="",t.phoneFather.openTooltip=!1,t.phoneFather.isError=!1,t.phoneFather.focus=!1,t.phoneMother.title="",t.phoneMother.openTooltip=!1,t.phoneMother.isError=!1,t.phoneMother.focus=!1,C(t))}),100)}else{"phoneFather"===v&&N(null);const e={...y};e.phoneFather.title="",e.phoneFather.openTooltip=!1,e.phoneFather.isError=!1,e.phoneFather.focus=!1,C(e)}})(0,e.target.value),onKeyDown:L,onBlur:e=>H(e.target.value,"PhoneFather"),inputProps:{style:{WebkitTextFillColor:b.oldDisease?"#ff1744":"black"},maxLength:10},InputLabelProps:!0===b.oldDisease?{shrink:Boolean(!0)}:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.height.title}),open:y.height.openTooltip,placement:"left",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"22%",marginTop:"20px"},children:Object(f.jsx)(pe.a,{label:"Chi\u1ec1u cao b\xe9",variant:"outlined",id:"patientHeight",error:!0===y.height.isError,inputRef:e=>e&&"height"===v&&e.focus(),InputProps:{endAdornment:Object(f.jsx)(ue.a,{position:"end",children:"(cm)"})},onChange:e=>(e=>{const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{if("height"===v&&N(null),O((e=>(e.height=t,{...e}))),y.height.isError){const e={...y};e.height.title="",e.height.openTooltip=!1,e.height.isError=!1,e.height.focus=!1,C(e)}}),100)})(e.target.value)})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.weight.title}),open:y.weight.openTooltip,PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"22%",marginTop:"20px"},children:Object(f.jsx)(pe.a,{label:"C\xe2n n\u1eb7ng b\xe9",variant:"outlined",id:"patientWeight",error:!0===y.weight.isError,inputRef:e=>e&&"weight"===v&&e.focus(),InputProps:{endAdornment:Object(f.jsx)(ue.a,{position:"end",children:"(kg)"})},onChange:e=>(e=>{const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{if("weight"===v&&N(null),O((e=>(e.weight=t,{...e}))),y.weight.isError){const e={...y};e.weight.title="",e.weight.openTooltip=!1,e.weight.isError=!1,e.weight.focus=!1,C(e)}}),100)})(e.target.value)})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.headCircumference.title}),open:y.headCircumference.openTooltip,placement:"top-start",PopperProps:{sx:{zIndex:2}},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[70,-7]}}]}},children:Object(f.jsx)("div",{style:{width:"22%",marginTop:"20px"},children:Object(f.jsx)(pe.a,{label:"V\xf2ng \u0111\u1ea7u b\xe9",variant:"outlined",id:"patientHeadCircumference",error:!0===y.headCircumference.isError,inputRef:e=>e&&"headCircumference"===v&&e.focus(),InputProps:{endAdornment:Object(f.jsx)(ue.a,{position:"end",children:"(cm)"})},onChange:e=>(e=>{const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{if("headCircumference"===v&&N(null),O((e=>(e.headCircumference=t,{...e}))),y.headCircumference.isError){const e={...y};e.headCircumference.title="",e.headCircumference.openTooltip=!1,e.headCircumference.isError=!1,e.headCircumference.focus=!1,C(e)}}),100)})(e.target.value)})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.medicalType.title}),open:y.medicalType.openTooltip,placement:"bottom",PopperProps:{sx:{zIndex:2}},children:Object(f.jsx)("div",{style:{width:"30.5%",marginTop:"20px"},children:Object(f.jsx)(xe.a,{disablePortal:!0,id:"patientMedicalType",disabled:!0===b.oldDisease,value:I.medicalType.value,options:i,getOptionLabel:e=>e.medicalTypeName,renderOption:(e,t)=>Object(f.jsx)("li",{...e,children:t.medicalTypeName}),onChange:(e,t)=>((e,t)=>{if("medicalType"===v&&N(null),O((e=>(e.medicalTypeId=t.medicalTypeId,{...e}))),k((e=>(e.medicalType.value=t,{...e}))),y.medicalType.isError){const e={...y};e.medicalType.title="",e.medicalType.openTooltip=!1,e.medicalType.isError=!1,e.medicalType.focus=!1,C(e)}})(0,t),open:I.medicalType.openOption,onFocus:()=>Y("MedicalType"),onBlur:e=>H(e.target.value,"MedicalType"),renderInput:e=>Object(f.jsx)(pe.a,{...e,label:"Lo\u1ea1i h\xecnh kh\xe1m",inputRef:e=>e&&"medicalType"===v&&e.focus(),error:!0===y.medicalType.isError,sx:{"& .MuiInputBase-input":{WebkitTextFillColor:!0===b.oldDisease?"#ff1744":""},"& .MuiInputBase-root.MuiOutlinedInput-root.MuiInputBase-colorPrimary.Mui-disabled.MuiInputBase-fullWidth.MuiInputBase-formControl.MuiInputBase-adornedEnd.MuiAutocomplete-inputRoot.css-154xyx0-MuiInputBase-root-MuiOutlinedInput-root":{paddingLeft:"4px",paddingRight:"0px"},"& .MuiInputBase-root.MuiOutlinedInput-root.MuiInputBase-colorPrimary.MuiInputBase-fullWidth.MuiInputBase-formControl.MuiInputBase-adornedEnd.MuiAutocomplete-inputRoot.css-154xyx0-MuiInputBase-root-MuiOutlinedInput-root":{paddingLeft:"4px",paddingRight:"0px"}}}),disableClearable:!0,popupIcon:null})})})}),Object(f.jsx)(Fe.a,{theme:Q,children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)("h6",{style:{margin:"0px"},children:y.reason.title}),open:y.reason.openTooltip,children:Object(f.jsx)("div",{style:{width:"100%"},children:Object(f.jsx)(pe.a,{fullWidth:!0,label:"L\xfd do kh\xe1m",multiline:!0,rows:3,variant:"outlined",id:"patientReason",error:!0===y.reason.isError,sx:{"&.MuiTextField-root":{marginTop:"20px"}},onChange:e=>(e=>{const t=e;R.current&&clearInterval(R.current),R.current=setTimeout((()=>{O((e=>(e.reason=t,{...e})))}),100)})(e.target.value)})})})}),Object(f.jsx)(Me.a,{control:Object(f.jsx)(Ee.a,{checked:I.vaccination}),sx:{width:"100%"},label:"B\u1ec7nh nh\xe2n c\xf3 tham gia ti\xeam ng\u1eeba",onChange:e=>{return t=e.target.checked,O((e=>(e.vaccination=t,{...e}))),void k((e=>(e.vaccination=t,{...e})));var t}}),Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",mt:1,width:"100%"},children:[Object(f.jsx)(A.a,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>V(),children:"\u0110\u0103ng k\xfd (f2)"}),Object(f.jsx)(A.a,{variant:"contained",color:"warning",onClick:()=>K(),children:"L\xe0m m\u1edbi (f4)"}),Object(f.jsx)(A.a,{variant:"contained",color:"error",sx:{ml:1},onClick:()=>J(),children:"B\u1ec7nh c\u0169 (f8)"})]})]})]})}),Object(f.jsx)(dt,{openModalExaminingSession:s,setOpenModalExaminingSession:l,handleResetField:K,setCompleteMedicalRegister:e.setCompleteMedicalRegister,isContinueSelectedExaminingSession:d,setIsContinueSelectedExaminingSession:h,dataPatientsRegister:b}),Object(f.jsx)(ht,{openModalOldDisease:p,setOpenModalOldDisease:u,dataPatientsRegister:b,setDataPatientsRegister:O}),Object(f.jsx)(Te,{openAlertProcessing:j,setOpenAlertProcessing:m})]})};var gt=function(){const{user:e,loading:t}=Object(o.useContext)(ie),n=Object(d.useHistory)(),[r,a]=Object(o.useState)(!0),i={userFullName:"",userIdDoctor:""},[c,s]=Object(o.useState)(!1),[l,h]=Object(o.useState)(),[p,u]=Object(o.useState)(!1),[x,j]=Object(o.useState)(!1),[m,b]=Object(o.useState)(!1),[O,y]=Object(o.useState)(),[C,v]=Object(o.useState)(!1);return Object(o.useEffect)((()=>{!1===t&&e&&("Nursing"!==e.positionName&&e.isLogin?n.push("/404"):(async()=>{const e=await ee();200===e.status?y({userIdDoctor:e.data.userIdDoctor,userFullName:e.data.userFullName}):y(i)})())}),[t,e]),Object(o.useEffect)((()=>{const e=e=>{113===e.keyCode?(e.preventDefault(),j(!0)):115===e.keyCode?(e.preventDefault(),u(!0)):119===e.keyCode&&(e.preventDefault(),b(!0))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(he.a,{maxWidth:"xl",sx:{mt:11},children:Object(f.jsx)(g.a,{sx:{bgcolor:"#fff",height:"auto"},children:Object(f.jsx)(Ce.a,{container:!0,spacing:0,sx:{marginLeft:0},children:O?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:5,children:Object(f.jsx)(ct,{completeMedicalRegister:c,setCompleteMedicalRegister:s,currentDoctorExamining:O,setOpenSelectedDoctorExaminingModal:v,component1Loading:r,setComponent1Loading:a,dataPantientAppointmentsToday:l,setDataPantientAppointmentsToday:h})}),Object(f.jsx)(Ce.a,{item:!0,xs:7,children:r?Object(f.jsx)("div",{style:{marginTop:"20px",marginLeft:"18px"},children:Object(f.jsx)(ve.a,{variant:"rectangular",width:"100%",height:576})}):Object(f.jsx)(ut,{onF2Press:x,setOnF2Press:j,onF4Press:p,setOnF4Press:u,onF8Press:m,setOnF8Press:b,completeMedicalRegister:c,setCompleteMedicalRegister:s,currentDoctorExamining:O,dataPantientAppointmentsToday:l,setDataPantientAppointmentsToday:h})})]}):null})})}),Object(f.jsx)(we,{openSelectedDoctorExaminingModal:C,setOpenSelectedDoctorExaminingModal:v,currentDoctorExamining:O,setCurrentDoctorExamining:y})]})},xt=n(439),jt=n(207),mt=n.n(jt),bt=n(141),ft=n.n(bt);var Ot=function(){const[e,t]=Object(o.useState)({chipOrder:0,chipLabel:"BN ch\u01b0a nh\u1eafc h\u1eb9n kh\xe1m"}),[n,r]=Object(o.useState)([{chipLabel:"BN ch\u01b0a nh\u1eafc h\u1eb9n kh\xe1m",chipContent:0},{chipLabel:"BN x\xe1c nh\u1eadn h\u1eb9n kh\xe1m",chipContent:0},{chipLabel:"BN t\u1eeb ch\u1ed1i h\u1eb9n kh\xe1m",chipContent:0}]),[a,i]=Object(o.useState)(),[s,l]=Object(o.useState)(""),[d,h]=Object(o.useState)([]),[p,u]=Object(o.useState)(),[j,m]=Object(o.useState)([]),[O,y]=Object(o.useState)(!1),[C,v]=Object(o.useState)(1),[N,I]=Object(o.useState)(),k=e=>{if(e){const t=Math.ceil(e.length/5),n=5*(C-1),o=e.slice(n,n+5);u(o),m(o),I(t)}else{const e=Math.ceil(d.length/5),t=5*(C-1),n=d.slice(t,t+5);u(n),m(n),I(e)}},w=(e,t)=>{const n=t.toLowerCase();return e.filter((e=>{const{patientId:t,patientFullName:o,phoneMother:r,phoneFather:a}=e;return t.toLowerCase().includes(n)||o.toLowerCase().includes(n)||r.toLowerCase().includes(n)||a.toLowerCase().includes(n)}))},T=async(t,n)=>{y(!0);const o=await ae(t,n,1);if(200===o.status){const t=await oe();i(t);const n=t.filter((e=>0===e.stateAppointment)),a=t.filter((e=>1===e.stateAppointment)),s=t.filter((e=>2===e.stateAppointment)),l=[{chipLabel:"BN ch\u01b0a nh\u1eafc h\u1eb9n kh\xe1m",chipContent:n.length},{chipLabel:"BN x\xe1c nh\u1eadn h\u1eb9n kh\xe1m",chipContent:a.length},{chipLabel:"BN t\u1eeb ch\u1ed1i h\u1eb9n kh\xe1m",chipContent:s.length}];r(l),0===e.chipOrder?(h(n),k(n)):1===e.chipOrder?(h(a),k(a)):(h(s),k(s)),c.b.success(o.data,{toastId:"handleAcceptReExaminingSuccess"})}else c.b.error(o.data,{toastId:"handleAcceptReExaminingError"});y(!1)},S=async(t,n)=>{y(!0);const o=await ae(t,n,2);if(200===o.status){const t=await oe();i(t);const n=t.filter((e=>0===e.stateAppointment)),a=t.filter((e=>1===e.stateAppointment)),s=t.filter((e=>2===e.stateAppointment)),l=[{chipLabel:"BN ch\u01b0a nh\u1eafc h\u1eb9n kh\xe1m",chipContent:n.length},{chipLabel:"BN x\xe1c nh\u1eadn h\u1eb9n kh\xe1m",chipContent:a.length},{chipLabel:"BN t\u1eeb ch\u1ed1i h\u1eb9n kh\xe1m",chipContent:s.length}];r(l),0===e.chipOrder?(h(n),k(n)):1===e.chipOrder?(h(a),k(a)):(h(s),k(s)),c.b.success(o.data,{toastId:"handleAcceptReExaminingSuccess"})}else c.b.error(o.data,{toastId:"handleAcceptReExaminingError"});y(!1)};return Object(o.useEffect)((()=>{(async()=>{y(!0);const t=await oe();i(t);const n=t.filter((e=>0===e.stateAppointment)),o=t.filter((e=>1===e.stateAppointment)),a=t.filter((e=>2===e.stateAppointment)),c=[{chipLabel:"BN ch\u01b0a nh\u1eafc h\u1eb9n kh\xe1m",chipContent:n.length},{chipLabel:"BN x\xe1c nh\u1eadn h\u1eb9n kh\xe1m",chipContent:o.length},{chipLabel:"BN t\u1eeb ch\u1ed1i h\u1eb9n kh\xe1m",chipContent:a.length}];r(c),0===e.chipOrder?(h(n),k(n)):1===e.chipOrder?(h(o),k(o)):(h(a),k(a)),y(!1)})()}),[]),Object(o.useEffect)((()=>{k()}),[C]),Object(f.jsx)(he.a,{maxWidth:"xl",sx:{mt:11,p:0},children:Object(f.jsx)(_e.a,{component:et.a,sx:{boxShadow:3,height:"38rem",position:"relative"},children:O?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#e0e0e0",height:"100%"},children:[Object(f.jsx)(W.a,{}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(g.a,{children:[Object(f.jsx)(ge.a,{direction:"row",spacing:1,sx:{justifyContent:"center",mt:1.4},children:n.map(((n,o)=>Object(f.jsx)(nt.a,{badgeContent:n.chipContent,color:"error",children:Object(f.jsx)(tt.a,{label:n.chipLabel,color:o===e.chipOrder?"primary":"default",onClick:()=>((e,n)=>{if(t({chipOrder:e,chipLabel:n}),0===e){const e=a.filter((e=>0===e.stateAppointment));h(e),k(e)}else if(1===e){const e=a.filter((e=>1===e.stateAppointment));h(e),k(e)}else{const e=a.filter((e=>2===e.stateAppointment));h(e),k(e)}})(o,n.chipLabel)})},"chipPantientState ".concat(o))))}),Object(f.jsxs)(x.a,{variant:"h6",sx:{textAlign:"center",fontSize:"1.15rem",fontWeight:"bolder"},children:["Danh s\xe1ch ",e.chipLabel," trong 7 ng\xe0y t\u1edbi"]}),Object(f.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",mb:1},children:Object(f.jsx)(pe.a,{sx:{width:500,"& .MuiInputBase-inputSizeSmall":{textAlign:"center"}},size:"small",variant:"outlined",placeholder:"T\xecm v\u1edbi M\xe3 BN ho\u1eb7c T\xean BN ho\u1eb7c S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:s,onChange:e=>(e=>{const t=e;l(t),m(""===e?p:w(p,t))})(e.target.value),InputProps:{startAdornment:Object(f.jsx)(ue.a,{position:"start",children:Object(f.jsx)(rt.a,{})}),endAdornment:Object(f.jsx)(ue.a,{position:"end",children:""!==s?Object(f.jsx)(b.a,{sx:{cursor:"pointer"},titleAccess:"X\xf3a",onClick:()=>[l(""),m(p)]}):null})}})})]}),Object(f.jsxs)(qe.a,{stickyHeader:!0,children:[Object(f.jsx)(Ze.a,{children:Object(f.jsxs)($e.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"M\xe3 b\u1ec7nh nh\xe2n"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"H\u1ecd t\xean"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"Ng\xe0y sinh"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"Gi\u1edbi t\xednh"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"\u0110\u1ecba ch\u1ec9"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"H\u1ecd t\xean Cha/M\u1eb9"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"K\u1ef3 kh\xe1m c\u0169"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"K\u1ef3 kh\xe1m ti\u1ebfp theo"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"Ng\xe0y h\u1eb9n kh\xe1m"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"Thao t\xe1c"})]})}),Object(f.jsx)(Ue.a,{children:j.map(((e,t)=>Object(f.jsxs)($e.a,{hover:!0,role:"checkbox",sx:{":hover":{backgroundColor:"rgba(0, 0, 0, 0.1) !important"}},children:[Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:e.patientId}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:e.patientFullName}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:ze()(e.dateOfBirth).format("DD/MM/YYYY")}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:!0===e.gender?"Nam":"N\u1eef"}),Object(f.jsx)(Xe.a,{align:"left",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:240,fontSize:"0.9rem"},children:Object(f.jsx)(Pe.a,{title:Object(f.jsx)(x.a,{variant:"subtitle2",children:e.fullAddress}),children:Object(f.jsx)("span",{children:e.fullAddress})})}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:""!==e.fullNameFather?e.fullNameFather:e.fullNameMother}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:""!==e.phoneFather?e.phoneFather:e.phoneMother}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:e.examNameOld}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:e.nextExamName}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto",fontSize:"0.95rem"},children:ze()(e.appointmentDate).format("DD/MM/YYYY")}),Object(f.jsx)(Xe.a,{align:0===e.stateAppointment?"left":"center",sx:{width:"auto",fontSize:"0.9rem"},children:0===e.stateAppointment?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(mt.a,{titleAccess:"\u0110\u1ed3ng \xfd h\u1eb9n kh\xe1m",sx:{color:"green",cursor:"pointer",mr:.5},onClick:()=>T(e.medicalBookId,e.appointmentDate)}),Object(f.jsx)(ft.a,{titleAccess:"T\u1eeb ch\u1ed1i h\u1eb9n kh\xe1m",sx:{color:"red",cursor:"pointer"},onClick:()=>S(e.medicalBookId,e.appointmentDate)})]}):Object(f.jsx)(f.Fragment,{children:1===e.stateAppointment?Object(f.jsx)(ft.a,{titleAccess:"T\u1eeb ch\u1ed1i h\u1eb9n kh\xe1m",sx:{color:"red",cursor:"pointer"},onClick:()=>S(e.medicalBookId,e.appointmentDate)}):Object(f.jsx)(mt.a,{titleAccess:"\u0110\u1ed3ng \xfd h\u1eb9n kh\xe1m",sx:{color:"green",cursor:"pointer",mr:.5},onClick:()=>T(e.medicalBookId,e.appointmentDate)})})})]},t)))})]}),0!==j.length?Object(f.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",position:"absolute",bottom:4,width:"100%"},children:Object(f.jsx)(xt.a,{count:N,page:C,onChange:(e,t)=>{v(t)},color:"primary"})}):null]})})})},yt=n(461),Ct=n(437),vt=n(102),Nt=n.n(vt),It=n(57);n(331);var kt=function(e){const[t,n]=Object(o.useState)(),[r,a]=Object(o.useState)(!1),i=Object(o.useRef)(null),s=Object(o.useRef)(null),l=Object(o.useRef)(null),d=Object(Ct.a)({root:{"&.Mui-disabled":{color:"#d32f2f"},"&.Mui-checked.Mui-disabled":{color:"#d32f2f"}}})(),m=(t,o)=>{o&&"backdropClick"===o||(n(),e.setOpenModalCompleteExamining(!1))},O=async()=>{const t=Ie.a.clone(e.dataExaminingForConclusion);if(t.categories=t.categories.map((e=>({...e,categoryContents:e.categoryContents.filter((e=>e.categoryContentQuestions.length>0))}))).filter((e=>e.categoryContents.length>0)),0!==t.categories.length){a(!0);const o=await(async e=>{const t=q();return await V.a.get("".concat(J,"/api/Medical/GetAppointmentDate/").concat(e),t).then((function(e){return e})).catch((function(e){return e.response}))})(e.dataExaminingForConclusion.medicalRegisterId);if(200===o.status?(t.appointmentDate=o.data.appointmentDate,t.nextExamId=o.data.nextExamId,t.nextExamName=o.data.nextExamName,t.isVaccination&&(t.nextVaccination=o.data.nextVaccination,t.reminder=o.data.reminder,t.vaccination=o.data.vaccination)):c.b.error(o.data,{toastId:"error1"}),n(t),a(!1),""!==e.dataExaminingForConclusion.conclusion){const e=s.current.value.length;s.current.setSelectionRange(e,e),s.current.focus()}else s.current.focus()}},y=async()=>{if(C()){if(a(!0),t.categories.some((e=>!0===e.isPredecessor))){const e=t.categories.filter((e=>!0===e.isPredecessor)),n={patientId:t.patientId,categoryPres:e};await X(n)}const o=t.categories.filter((e=>!0===e.isHealthRecord));t.categories=o;const r=await(async e=>{const t=localStorage.getItem("jwt");return await V.a.post("".concat(J,"/api/Medical/AddMedicalBook"),e,{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e})).catch((function(e){return e.response}))})(t);200===r.status?(c.b.success(r.data,{toastId:"success3"}),e.handleCompleteExaminingForPantient(),n(),e.setOpenModalCompleteExamining(!1)):c.b.error(r.data,{toastId:"error1"})}a(!1)},C=()=>{let e=!0;return null===t.conclusion&&(s.current.focus(),c.b.error("B\u1ea1n ch\u01b0a nh\u1eadp k\u1ebft lu\u1eadn kh\xe1m",{toastId:"error1"}),e=!1),"Invalid date"===t.appointmentDate&&(l.current.focus(),c.b.error("Ng\xe0y t\xe1i kh\xe1m kh\xf4ng h\u1ee3p l\u1ec7",{toastId:"error1"}),e=!1),""===t.appointmentDate&&(l.current.focus(),c.b.error("B\u1ea1n ch\u01b0a ch\u1ecdn ng\xe0y t\xe1i kh\xe1m",{toastId:"error1"}),e=!1),e};return Object(o.useEffect)((()=>{e.openModalCompleteExamining&&O()}),[e.openModalCompleteExamining]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(h.a,{fullWidth:!0,maxWidth:"md",open:e.openModalCompleteExamining,onClose:(e,t)=>m(0,t),disableEscapeKeyDown:!0,children:[Object(f.jsx)(p.a,{sx:{fontWeight:"bolder",fontSize:"20px",textAlign:"center",color:"red",textTransform:"uppercase"},children:"T\xf3m t\u1eaft qu\xe1 tr\xecnh kh\xe1m"}),Object(f.jsx)(j.a,{onClick:()=>m(),sx:{position:"absolute",right:5,top:7},children:Object(f.jsx)(b.a,{fontSize:"large"})}),Object(f.jsx)(u.a,{dividers:!0,sx:{pl:"15px",pr:"15px"},children:Object(f.jsx)(g.a,{sx:{pl:6,pr:6},children:Object(f.jsx)(yt.a,{sx:{p:0},children:Object(f.jsx)(g.a,{children:t&&0!==t.categories.length?Object(f.jsx)("div",{className:"category-complete-examining",children:t.categories.map(((e,t)=>Object(f.jsxs)("div",{children:[Object(f.jsx)(x.a,{sx:{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"},children:e.categoryName}),e.categoryContents.map(((e,t)=>Object(f.jsxs)("div",{className:"table-category-complete-examining",style:{marginBottom:"10px"},children:[Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontWeight:"bolder",fontSize:"20px",textAlign:"center"},children:e.categoryContentTitle}),e.categoryContentQuestions.map(((t,n)=>Object(f.jsx)("div",{children:Object(f.jsxs)(Ce.a,{container:!0,rowSpacing:0,children:[0===n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentName})}),"check"===t.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Ce.a,{item:!0,xs:2.5,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.5,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)(Nt.a,{sx:{fontSize:"1.2rem",color:"gray",mr:.4}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",lineHeight:"1.6"},children:e.categoryContentCheck})]}),Object(f.jsx)(Ce.a,{item:!0,xs:5.5,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:e.categoryContentText})})]}):Object(f.jsx)(Ce.a,{item:!0,xs:8,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentText})})]}):null,Object(f.jsxs)(g.a,{style:{display:"flex",width:"100%"},children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:t.categoryContentQuestionName})}),"check"===t.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:2.5,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(f.jsx)(Ee.a,{disabled:!0,checked:t.categoryContentAnswer,classes:{root:d.root},sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}},color:"error"})}),Object(f.jsx)(Ce.a,{item:!0,xs:5.5,children:Object(f.jsx)("div",{className:"note-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,disabled:!0,defaultValue:t.categoryContentNote})})})})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ce.a,{item:!0,xs:8,children:Object(f.jsx)("div",{className:"note-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,disabled:!0,defaultValue:t.categoryContentNote})})})})})]},"questionItem ".concat(n))]})},"questionItem ".concat(n))))]},"categoryContents ".concat(t))))]},"categoriesItem ".concat(t))))}):Object(f.jsx)(x.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder",textAlign:"center"},children:"Kh\xf4ng c\xf3 n\u1ed9i dung n\xe0o \u0111\u01b0\u1ee3c kh\xe1m."})})})})}),Object(f.jsx)(Se.a,{sx:{borderTop:"1px solid black"},children:t&&0!==t.categories.length?Object(f.jsxs)("div",{style:{width:"100%",padding:"8px 50px 8px 50px"},children:[Object(f.jsx)(It.a,{placeholder:"K\u1ebft lu\u1eadn c\u1ee7a b\xe1c s\u0129",style:{width:"100%",padding:"15px",fontSize:"17px"},onChange:e=>{return t=e.target.value,void(i.current=setTimeout((()=>{n((e=>(e.conclusion=t,{...e})))}),300));var t},ref:s,defaultValue:t.conclusion},"pantientId ".concat(t.patientId)),t.isVaccination?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{mb:.4},children:[""===t.vaccination||null===t.vaccination?null:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(x.a,{variant:"h6",sx:{color:"deeppink",fontWeight:"bolder",fontSize:"1.2rem"},children:" ".concat(t.vaccination)})}),""===t.nextVaccination||null===t.nextVaccination?null:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(x.a,{variant:"h6",sx:{color:"deeppink",fontWeight:"bolder",fontSize:"1.2rem"},children:" ".concat(t.nextVaccination)})}),""===t.reminder||null===t.reminder?null:Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(x.a,{variant:"h6",sx:{color:"deeppink",fontWeight:"bolder",fontSize:"1.2rem"},children:" ".concat(t.reminder)})})]})}):null,t.appointmentDate?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",mb:2},children:[Object(f.jsxs)(x.a,{variant:"h6",sx:{mt:"auto",mb:"auto",mr:2},children:["K\u1ef3 kh\xe1m ti\u1ebfp theo: ",Object(f.jsx)("span",{style:{fontWeight:"bolder",color:"#ff1744"},children:t.nextExamName})]}),Object(f.jsx)(Ae.a,{dateAdapter:Re.a,adapterLocale:"vi",children:Object(f.jsx)(De.a,{components:["DatePicker"],children:Object(f.jsx)(Qe.a,{label:"Ng\xe0y kh\xe1m d\u1ef1 ki\u1ebfn",disablePast:!0,format:"DD/MM/YYYY",defaultValue:ze()(t.appointmentDate),onChange:e=>(e=>{e&&(i.current&&clearInterval(i.current),i.current=setTimeout((()=>{const t=e._d,o=ze()(t).format("YYYY-MM-DD");"Invalid date"!==o&&n((e=>(e.appointmentDate=o,{...e})))}),200))})(e),slotProps:{textField:{inputRef:l}}})})})]})}):null,Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(f.jsxs)(ge.a,{spacing:1,direction:"row",children:[Object(f.jsx)(A.a,{sx:{fontSize:"15px",textTransform:"none"},variant:"contained",onClick:()=>y(),children:"L\u01b0u"}),Object(f.jsx)(A.a,{sx:{fontSize:"15px",textTransform:"none"},variant:"contained",color:"error",onClick:()=>m(),children:"\u0110\xf3ng"})]})})]}):null})]}),Object(f.jsx)(Te,{openAlertProcessing:r,setOpenAlertProcessing:a})]})},wt=n(432),Tt=n(433),St=n(434),Et=n(471),Mt=n(110),Pt=n.n(Mt);n(332),n(333);ze.a.locale("vi");var Bt=function(e){const[t,n]=Object(o.useState)({categoryPres:[],healthRecords:{examinationName:"",timeUpdateState:"",conclusion:"",medicakBook:[]},nutritionals:[],vaccinationBook:[]}),[r,a]=Object(o.useState)(!1),[i,c]=Object(o.useState)([]),[s,l]=Object(o.useState)([]),d=Object(Ct.a)({root:{"&.Mui-disabled":{color:"#d32f2f"},"&.Mui-checked.Mui-disabled":{color:"#d32f2f"}}})();return Object(o.useEffect)((()=>{e.prevDataExamining&&(async()=>{a(!0);const t=await te(e.prevDataExamining.healthRecords[e.prevDataExamining.healthRecords.some((e=>null===e.medicalBookId))?1:0].medicalRegisterId);if(e.prevDataExamining.newPredecessor){const o={...e.prevDataExamining.healthRecords[e.prevDataExamining.healthRecords.some((e=>null===e.medicalBookId))?1:0],newMedicalBook:t.medicakBook.newMedicalBook,appointmentDate:t.medicakBook.appointmentDate,nextExamName:t.medicakBook.nextExamName,medicakBook:t.medicakBook.categories};n({categoryPres:[],healthRecords:o,medicalBookIdRecently:e.prevDataExamining.medicalBookIdRecently,nutritionals:e.prevDataExamining.nutritionals,vaccinationBook:e.prevDataExamining.vaccinationBook})}else{e.prevDataExamining.categoryPres.length>1&&(e.prevDataExamining.categoryPres=e.prevDataExamining.categoryPres.sort(((e,t)=>e.categoryOrder-t.categoryOrder)));const o={...e.prevDataExamining.healthRecords[e.prevDataExamining.healthRecords.some((e=>null===e.medicalBookId))?1:0],newMedicalBook:t.medicakBook.newMedicalBook,appointmentDate:t.medicakBook.appointmentDate,nextExamName:t.medicakBook.nextExamName,medicakBook:t.medicakBook.categories};n({categoryPres:e.prevDataExamining.categoryPres,healthRecords:o,medicalBookIdRecently:e.prevDataExamining.medicalBookIdRecently,nutritionals:e.prevDataExamining.nutritionals,vaccinationBook:e.prevDataExamining.vaccinationBook})}a(!1)})()}),[e.prevDataExamining]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(g.a,{sx:{height:"100%",position:"relative"},children:r?Object(f.jsxs)(g.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(f.jsx)(W.a,{}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u s\u1ed5 kh\xe1m b\u1ec7nh g\u1ea7n nh\u1ea5t, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"preview-last-examining-contents",children:[Object(f.jsxs)(x.a,{variant:"h6",sx:{fontWeight:"bolder",textAlign:"center",fontSize:"1.2rem"},children:["Th\xf4ng tin t\xf3m t\u1eaft ",Object(f.jsx)("span",{style:{color:"red"},children:t.healthRecords.examinationName})]}),Object(f.jsxs)(yt.a,{sx:{p:0},children:[t.categoryPres.map(((e,t)=>Object(f.jsxs)("div",{children:[Object(f.jsx)(wt.a,{sx:{pt:"0px",pb:"0px",borderRadius:"8px",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},onClick:()=>(e=>{c((t=>{const n=[...t];return n[e]=!n[e],n}))})(t),children:Object(f.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(Tt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1rem",color:"#2962ff",transform:!0===i[t]?"rotate(90deg)":"rotate(0deg)"}},children:Object(f.jsx)(Pt.a,{})}),Object(f.jsx)(St.a,{primary:e.categoryName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]})}),Object(f.jsx)(Et.a,{in:i[t],timeout:"auto",unmountOnExit:!0,children:Object(f.jsx)("div",{children:e.categoryContents.map(((e,t)=>Object(f.jsxs)("div",{className:"container-item-table-preview-examining",style:{paddingLeft:"18px",paddingRight:"18px",marginBottom:"6px"},children:[Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontWeight:"bolder",fontSize:"18px",textAlign:"center",mb:e.categoryContentTitle?0:2},children:e.categoryContentTitle}),Object(f.jsx)(g.a,{sx:{mb:2},children:e.categoryContentQuestions.map(((t,n)=>Object(f.jsx)(g.a,{children:Object(f.jsxs)(Ce.a,{container:!0,rowSpacing:0,children:[0===n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentName})}),"check"===t.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Ce.a,{item:!0,xs:1.5,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.5,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)(Nt.a,{sx:{fontSize:"1.2rem",color:"gray",mr:.4}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",lineHeight:"1.6"},children:e.categoryContentCheck})]}),Object(f.jsx)(Ce.a,{item:!0,xs:6.5,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:e.categoryContentText})})]}):Object(f.jsx)(Ce.a,{item:!0,xs:8,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentText})})]}):null,Object(f.jsxs)(g.a,{style:{display:"flex",width:"100%"},children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:t.categoryContentQuestionName})}),"check"===t.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:1.5,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(f.jsx)(Ee.a,{disabled:!0,checked:t.categoryContentAnswer,classes:{root:d.root},sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}}})}),Object(f.jsx)(Ce.a,{item:!0,xs:6.5,children:Object(f.jsx)("div",{className:"note-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,disabled:!0,value:t.categoryContentNote})})})})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ce.a,{item:!0,xs:8,children:Object(f.jsx)("div",{className:"note-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,disabled:!0,value:t.categoryContentNote})})})})})]},"questionItem ".concat(n))]})},"questionItem ".concat(n))))})]},"predecessorItemCategoryContentsIndex ".concat(t))))})})]},"predecessorItem ".concat(t)))),t.healthRecords.medicakBook.map(((e,t)=>Object(f.jsxs)("div",{children:[Object(f.jsx)(wt.a,{sx:{pt:"0px",pb:"0px",borderRadius:"8px",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},onClick:()=>(e=>{l((t=>{const n=[...t];return n[e]=!n[e],n}))})(t),children:Object(f.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(Tt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1rem",color:"#2962ff",transform:!0===s[t]?"rotate(90deg)":"rotate(0deg)"}},children:Object(f.jsx)(Pt.a,{})}),Object(f.jsx)(St.a,{primary:e.categoryName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]})}),Object(f.jsx)(Et.a,{in:s[t],timeout:"auto",unmountOnExit:!0,children:Object(f.jsx)("div",{children:e.categoryContents.map(((e,t)=>Object(f.jsxs)("div",{className:"container-item-table-preview-examining",style:{paddingLeft:"18px",paddingRight:"18px",marginBottom:"6px"},children:[Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontWeight:"bolder",fontSize:"18px",textAlign:"center",mb:e.categoryContentTitle?0:2},children:e.categoryContentTitle}),Object(f.jsx)(g.a,{sx:{mb:2},children:e.categoryContentQuestions.map(((t,n)=>Object(f.jsx)(g.a,{children:Object(f.jsxs)(Ce.a,{container:!0,rowSpacing:0,children:[0===n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentName})}),"check"===t.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Ce.a,{item:!0,xs:2.5,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.5,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)(Nt.a,{sx:{fontSize:"1.2rem",color:"gray",mr:.4}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",lineHeight:"1.6"},children:e.categoryContentCheck})]}),Object(f.jsx)(Ce.a,{item:!0,xs:5.5,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:e.categoryContentText})})]}):Object(f.jsx)(Ce.a,{item:!0,xs:8,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentText})})]}):null,Object(f.jsxs)(g.a,{style:{display:"flex",width:"100%"},children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:t.categoryContentQuestionName})}),"check"===t.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:2.5,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(f.jsx)(Ee.a,{disabled:!0,checked:t.categoryContentAnswer,classes:{root:d.root},sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}}})}),Object(f.jsx)(Ce.a,{item:!0,xs:5.5,children:Object(f.jsx)("div",{className:"note-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,disabled:!0,value:t.categoryContentNote})})})})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ce.a,{item:!0,xs:8,children:Object(f.jsx)("div",{className:"note-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,disabled:!0,value:t.categoryContentNote})})})})})]},"questionItem ".concat(n))]})},"questionItem ".concat(n))))})]},"medicakBookCategoryContentsIndex ".concat(t))))})})]},"medicakBookItems ".concat(t))))]}),Object(f.jsx)("div",{className:"conclusion",style:{marginLeft:"16px",marginTop:"4px"},children:Object(f.jsx)(x.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"K\u1ebft lu\u1eadn: ".concat(t.healthRecords.conclusion)})})]}),Object(f.jsx)("div",{className:"time-examining",style:{marginLeft:"16px",marginTop:"4px",width:"99%"},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"#009688",fontWeight:"bolder",fontSize:"1.08rem"},children:"".concat(t.healthRecords.doctorFullName,", ").concat(ze()(t.healthRecords.timeUpdateState).format("LLLL"))})})]})})})},Ft=n(259),Dt=n.n(Ft),Rt=n(260),At=n.n(Rt),Qt=n(263),Lt=n.n(Qt),zt=n(261),Wt=n.n(zt),Yt=n(262),Ht=n.n(Yt),Vt=n(265),Gt=n.n(Vt),Kt=n(264),Jt=n.n(Kt),qt=n(256),Ut=n.n(qt),Xt=n(268),_t=n.n(Xt),Zt=n(267),$t=n.n(Zt),en=n(173),tn=n(258),nn=n.n(tn),on=n(266),rn=n(257),an=n.n(rn);n(334);var cn=function(){const e={stt:"",id:"",patientsId:"",patientsName:"",patientsDOB:"",patientsMonthsOld:"",patientsGender:"",patientsHeight:"",patientsWeight:"",patientsHeadCircumference:"",patientsPhone:"",patientsAddress:""},{user:t,loading:n,alertVisible:r,confirmAlert:a,resetAlert:i,isLogOutClick:s}=Object(o.useContext)(ie),l=Object(d.useHistory)(),[h,p]=Object(o.useState)(!1),[u,m]=Object(o.useState)(e),[O,y]=Object(o.useState)([]),[C,v]=Object(o.useState)(),[N,I]=Object(o.useState)(!1),[k,w]=Object(o.useState)([]),[T,S]=Object(o.useState)({}),[E,M]=Object(o.useState)([]),[P,B]=Object(o.useState)([]),[F,D]=Object(o.useState)(),[R,Q]=Object(o.useState)(),[L,z]=Object(o.useState)({}),[H,G]=Object(o.useState)(),[K,U]=Object(o.useState)(),[Z,$]=Object(o.useState)(),[ee,oe]=Object(o.useState)(!1),[ae,ce]=Object(o.useState)(!1),[se,le]=Object(o.useState)(!0),[de,xe]=Object(o.useState)(!0),[je,me]=Object(o.useState)(!1),[be,fe]=Object(o.useState)(!1),[Oe,ye]=Object(o.useState)([]),[ve,Ne]=Object(o.useState)(""),[ke,we]=Object(o.useState)([]),[Te,Se]=Object(o.useState)([]),[Me,Pe]=Object(o.useState)({chipOrder:0,chipLabel:"BN ch\u1edd kh\xe1m"}),[Be,Fe]=Object(o.useState)([{chipLabel:"BN ch\u1edd kh\xe1m",chipContent:0},{chipLabel:"BN \u0111\xe3 kh\xe1m",chipContent:0}]),[De,Re]=Object(o.useState)(!1),Ae=(e,t)=>{const n=t.toLowerCase();return e.filter((e=>{const{patientId:t,fullName:o,phoneMother:r,phoneFather:a}=e.patient;return t.toLowerCase().includes(n)||o.toLowerCase().includes(n)||r.toLowerCase().includes(n)||a.toLowerCase().includes(n)}))},Qe=async()=>{le(!0),xe(!0),me(!0),fe(!0);const t=await re(u.id,[!0===u.editExamining?2:!0===u.backRegister?3:0]);200===t.status?(c.b.success("\u0110\xe3 h\u1ee7y kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(u.patientsName),{toastId:"success2"}),m(e),y([]),I(!1),w([]),S({}),M([]),B([]),D(),z({}),$(),D(),G(),Q(),Le()):400===t.status&&c.b.error("B\u1ea1n kh\xf4ng ph\u1ea3i b\xe1c s\u0129 kh\xe1m h\xf4m nay, kh\xf4ng th\u1ec3 d\xf9ng ch\u1ee9c n\u0103ng n\xe0y",{toastId:"error1"}),me(!1),fe(!1)},Le=async()=>{const e=await _();if(400!==e&&0!==e.list.length)if(ye(e.list),0===Me.chipOrder||!0===u.editExamining){const t=e.list.filter((e=>0===e.state||1===e.state||3===e.state));Se(t),we(t);const n=Be.map(((t,n)=>({...t,chipContent:e.listCountState[n]})));Fe(n),sessionStorage.dataPantientsReadyExamining&&(async()=>{Re(!0);const e=JSON.parse(sessionStorage.dataPantientsReadyExamining),t=JSON.parse(sessionStorage.mainDataExamining),n=JSON.parse(sessionStorage.dataExaminingForConclusion);if(m(Ie.a.cloneDeep(e)),y(Ie.a.cloneDeep(t)),z(Ie.a.cloneDeep(n)),sessionStorage.currentHealthRecordExamining){const e=JSON.parse(sessionStorage.currentHealthRecordExamining);D(Ie.a.cloneDeep(e))}if(sessionStorage.prevDataPredecessor){const e=JSON.parse(sessionStorage.prevDataPredecessor);$(Ie.a.cloneDeep(e))}if(sessionStorage.oldDataPredecessor){const e=JSON.parse(sessionStorage.oldDataPredecessor);G(Ie.a.cloneDeep(e))}U({patientId:u.patientsId,categoryPres:[]}),sessionStorage.clear(),Re(!1)})()}else if(1===Me.chipOrder){const t=e.list.filter((e=>2===e.state));Se(t),we(t);const n=Be.map(((t,n)=>({...t,chipContent:e.listCountState[n]})));Fe(n)}le(!1),xe(!1)},We=async e=>{Re(!0),xe(!0),ce(!0),R&&0!==R.length&&Q(),await st(e.id);const t={...u};t.stt=e.order,t.id=e.id,t.status=0,t.patientsId=e.patient.patientId,t.patientsName=e.patient.fullName,t.patientsDOB=e.patient.dayOfBirth,t.patientsMonthsOld=e.patient.monthsOfAge,t.patientsGender=e.patient.gender,t.patientsHeight=e.height,t.patientsWeight=e.weight,t.patientsHeadCircumference=e.headCircumference,t.patientsHeadCircumference=e.headCircumference,t.patientsPhone=e.patient.phoneMother?e.patient.phoneMother:e.patient.phoneFather,t.patientsAddress=e.patient.fullAddress,t.vaccination=!0===e.vaccination,t.editExamining=2===e.state,t.backRegister=3===e.state,m(t),xe(!1),ce(!1),Re(!1)},Ye=async()=>{le(!0);const e=await re(u.id,1);if(200===e.status){const e={...u};e.status=1,m(e),C.healthRecords.some((e=>null===e.medicalBookId))?(u.backRegister&&($(Ie.a.cloneDeep(C.categoryPres)),G(Ie.a.cloneDeep(C.categoryPres))),await Le(),await He(),c.b.success("\u0110ang kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(u.patientsName),{toastId:"success1"})):(await Ge(),await Le())}else 400===e.status&&c.b.error(e.data,{toastId:"error1"});le(!1)},He=async()=>{if(me(!0),C.healthRecords.forEach((e=>{null===e.medicalBookId&&(e.state=1)})),!0===u.backRegister&&!1===C.newPredecessor){const e=(await ne(u.patientsId)).data.map((e=>{const t=C.categoryPres.find((t=>t.categoryOrder===e.categoryOrder));return{...e,isLock:!0,categoryContents:e.categoryContents.filter((e=>t&&t.categoryContents.some((t=>t.categoryContentOrder===e.categoryContentOrder)))).map((e=>{const n=t.categoryContents.find((t=>t.categoryContentOrder===e.categoryContentOrder));return{...e,isNullCategoryPres:!n,isLock:!0,categoryContentQuestions:n?n.categoryContentQuestions:[]}}))}}));C.categoryPres=e,U({patientId:u.patientsId,categoryPres:[]});const t=await te(C.healthRecords[0].medicalRegisterId);C.healthRecords[0].categories=t.medicakBook.categories;const n=C.healthRecords[0].categories.map((e=>({categoryName:e.categoryName,isHealthRecord:!0,categoryContents:e.categoryContents.map((e=>({...e,categoryContentQuestions:[]})))}))),o={patientId:u.patientsId,isVaccination:C.vaccination,medicalRegisterId:C.healthRecords[0].medicalRegisterId,conclusion:C.healthRecords[0].conclusion,categories:n};B({healthRecordsName:C.healthRecords[0].examinationName,categoryPatients:C.healthRecords[0].categories}),D({healthRecordsName:C.healthRecords[0].examinationName,categoryPatients:C.healthRecords[0].categories}),y(C),z(Ie.a.cloneDeep(o)),v()}else if(!0===u.backRegister&&!0===C.newPredecessor){const e=await te(C.healthRecords[0].medicalRegisterId);C.healthRecords[0].categories=e.medicakBook.categories;const t=C.healthRecords[0].categories.map((e=>({categoryName:e.categoryName,isHealthRecord:!0,categoryContents:e.categoryContents.map((e=>({...e,categoryContentQuestions:[]})))}))),n={patientId:u.patientsId,isVaccination:C.vaccination,medicalRegisterId:C.healthRecords[0].medicalRegisterId,conclusion:C.healthRecords[0].conclusion,categories:t};B({healthRecordsName:C.healthRecords[0].examinationName,categoryPatients:C.healthRecords[0].categories}),D({healthRecordsName:C.healthRecords[0].examinationName,categoryPatients:C.healthRecords[0].categories});let o=Ie.a.cloneDeep(C.categoryPres);o=o.map((e=>{const t=e.categoryContents.map((e=>({categoryContentCheck:e.categoryContentCheck,categoryContentName:e.categoryContentName,categoryContentOrder:e.categoryContentOrder,categoryContentText:e.categoryContentText,categoryContentTitle:e.categoryContentTitle,categoryContentQuestions:[]})));return{categoryName:e.categoryName,categoryOrder:e.categoryOrder,categoryContents:t,isPredecessor:!0}}));const r=o.concat(n.categories);n.categories=r,y(C),z(Ie.a.cloneDeep(n)),v()}else{const e=C.categoryPres.map((e=>{const t=e.categoryContents.map((e=>({categoryContentTitle:e.categoryContentTitle,categoryContentName:e.categoryContentName,categoryContentCheck:e.categoryContentCheck,categoryContentText:e.categoryContentText,categoryContentOrder:e.categoryContentOrder,categoryContentQuestions:[]})));return{categoryName:e.categoryName,isPredecessor:!0,categoryOrder:e.categoryOrder,categoryContents:t}})),t=C.healthRecords.find((e=>e.patientId===u.patientsId));z({patientId:u.patientsId,isVaccination:C.vaccination,medicalRegisterId:t.medicalRegisterId,conclusion:t.conclusion,categories:e}),C.categoryPres.forEach(((e,t)=>(e.categoryContents=e.categoryContents.map((e=>({...e,categoryPresOrder:t}))),{...e}))),y(C),v()}me(!1)},Ve=async()=>{le(!0);if(200===(await re(u.id,1)).status){const e={...u};e.status=1,m(e),await Ge(),await Le(),Pe({chipOrder:0,chipLabel:"BN ch\u1edd kh\xe1m"})}},Ge=async()=>{me(!0);const e=await(async e=>{const t=q();return await V.a.get("".concat(J,"/api/Medical/GetUpdateMedicalBook/").concat(e),t).then((function(e){return e})).catch((function(e){return e.response}))})(C.healthRecords[0].medicalBookId);if(200===e.status){const t={...u};t.status=1,m(t),!1===C.newPredecessor&&($(Ie.a.cloneDeep(C.categoryPres)),G(Ie.a.cloneDeep(C.categoryPres))),await Ke(e.data),c.b.success("\u0110ang m\u1edf kh\xe1m l\u1ea1i cho b\u1ec7nh nh\xe2n ".concat(u.patientsName),{toastId:"success1"})}else 400===e.status&&c.b.error("B\u1ea1n kh\xf4ng ph\u1ea3i b\xe1c s\u0129 kh\xe1m h\xf4m nay, kh\xf4ng th\u1ec3 d\xf9ng ch\u1ee9c n\u0103ng n\xe0y",{toastId:"error1"});me(!1)},Ke=async e=>{C.healthRecords[0].state=1,C.healthRecords[0].categories=e.categories;const t=C.healthRecords[0].categories.map((e=>({categoryName:e.categoryName,isHealthRecord:!0,categoryContents:e.categoryContents.map((e=>({...e,categoryContentQuestions:[]})))}))),n={patientId:u.patientsId,isVaccination:C.vaccination,medicalRegisterId:u.id!==C.healthRecords[0].medicalRegisterId?u.id:C.healthRecords[0].medicalRegisterId,conclusion:C.healthRecords[0].conclusion,categories:t};B({healthRecordsName:C.healthRecords[0].examinationName,categoryPatients:C.healthRecords[0].categories}),D({healthRecordsName:C.healthRecords[0].examinationName,categoryPatients:C.healthRecords[0].categories});let o=Ie.a.cloneDeep(C.healthRecords[0].categories);o=o.map((e=>(e.categoryContents=e.categoryContents.map((e=>{const t=e.categoryContentQuestions,n=t.every((e=>null===e.categoryContentAnswer&&null===e.categoryContentNote));return e.categoryContentQuestions=n?[]:t.filter((e=>null!==e.categoryContentAnswer||null!==e.categoryContentNote)),e})),e.isHealthRecord=!0,e))),n.categories=o;const r=await ne(u.patientsId);if(200===r.status){const e=r.data.map((e=>{const t=C.categoryPres.find((t=>t.categoryOrder===e.categoryOrder));return{...e,isLock:!0,categoryContents:e.categoryContents.filter((e=>t&&t.categoryContents.some((t=>t.categoryContentOrder===e.categoryContentOrder)))).map((e=>{const n=t.categoryContents.find((t=>t.categoryContentOrder===e.categoryContentOrder));return{...e,isNullCategoryPres:!n,isLock:!0,categoryContentQuestions:n?n.categoryContentQuestions:[]}}))}}));C.categoryPres=e,U({patientId:u.patientsId,categoryPres:[]}),y(C),v()}else{let e=Ie.a.cloneDeep(C.categoryPres);e=e.map((e=>{const t=e.categoryContents.map((e=>({categoryContentCheck:e.categoryContentCheck,categoryContentName:e.categoryContentName,categoryContentOrder:e.categoryContentOrder,categoryContentText:e.categoryContentText,categoryContentTitle:e.categoryContentTitle,categoryContentQuestions:[]})));return{categoryName:e.categoryName,categoryOrder:e.categoryOrder,categoryContents:t,isPredecessor:!0}}));const t=e.concat(n.categories);n.categories=t,y(C),v()}z(Ie.a.cloneDeep(n))},Je=(e,t,n)=>{const o=n;ht.current&&clearInterval(ht.current),ht.current=setTimeout((()=>{const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentNote=o,S(n),ot(e,n.categoryContents[e].categoryContentOrder,n.categoryContents[e].categoryContentQuestions[t],o)}),300)},ot=(e,t,n,o)=>{const r=K.categoryPres.find((e=>e.categoryOrder===T.categoryOrder));if(r){const a=r.categoryContents.find((e=>e.categoryContentOrder===t));if(a){const e=a.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder&&""!==o)),t=a.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder&&""===o));-1!==e?a.categoryContentQuestions[e].categoryContentNote=o:-1!==t?a.categoryContentQuestions.splice(t,1):a.categoryContentQuestions.push(n)}else{const t={categoryContentCheck:T.categoryContents[e].categoryContentCheck,categoryContentName:T.categoryContents[e].categoryContentName,categoryContentOrder:T.categoryContents[e].categoryContentOrder,categoryContentQuestions:[n],categoryContentText:T.categoryContents[e].categoryContentText,categoryContentTitle:T.categoryContents[e].categoryContentTitle};r.categoryContents.push(t)}}else{const t={categoryContentCheck:T.categoryContents[e].categoryContentCheck,categoryContentName:T.categoryContents[e].categoryContentName,categoryContentOrder:T.categoryContents[e].categoryContentOrder,categoryContentQuestions:[n],categoryContentText:T.categoryContents[e].categoryContentText,categoryContentTitle:T.categoryContents[e].categoryContentTitle},o={categoryOrder:T.categoryOrder,categoryName:T.categoryName,newCategoryPre:T.newCategoryPre,categoryContents:[t]};K.categoryPres.push(o)}},at=(e,t,n,o,r)=>{if(r){if(!0===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType&&0!==o.length){const e=K.categoryPres.find((e=>e.categoryOrder===T.categoryOrder));if(e){const r=e.categoryContents.find((e=>e.categoryContentOrder===t));if(r){const e=r.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder));-1!==e&&(r.categoryContentQuestions[e].categoryContentNote=o)}}}if(!0===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType&&0===o.length){const e=K.categoryPres.find((e=>e.categoryOrder===T.categoryOrder));if(e){const o=e.categoryContents.find((e=>e.categoryContentOrder===t));if(o){const e=o.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder));-1!==e&&(o.categoryContentQuestions[e].categoryContentNote=null)}}}if(null===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType&&0!==o.length){const r=K.categoryPres.find((e=>e.categoryOrder===T.categoryOrder));if(r){const a=r.categoryContents.find((e=>e.categoryContentOrder===t));if(a){const e=a.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder));-1!==e?a.categoryContentQuestions[e].categoryContentNote=o:a.categoryContentQuestions.push(n)}else{const t={categoryContentCheck:T.categoryContents[e].categoryContentCheck,categoryContentName:T.categoryContents[e].categoryContentName,categoryContentOrder:T.categoryContents[e].categoryContentOrder,categoryContentQuestions:[n],categoryContentText:T.categoryContents[e].categoryContentText,categoryContentTitle:T.categoryContents[e].categoryContentTitle};r.categoryContents.push(t)}}else{const t={categoryContentCheck:T.categoryContents[e].categoryContentCheck,categoryContentName:T.categoryContents[e].categoryContentName,categoryContentOrder:T.categoryContents[e].categoryContentOrder,categoryContentQuestions:[n],categoryContentText:T.categoryContents[e].categoryContentText,categoryContentTitle:T.categoryContents[e].categoryContentTitle},o={categoryOrder:T.categoryOrder,categoryName:T.categoryName,newCategoryPre:T.newCategoryPre,categoryContents:[t]};K.categoryPres.push(o)}}if(null===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType&&0===o.length){const e=K.categoryPres.find((e=>e.categoryOrder===T.categoryOrder));if(e){const o=e.categoryContents.find((e=>e.categoryContentOrder===t));if(o){const e=o.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder));-1!==e&&o.categoryContentQuestions.splice(e,1)}}}}else{if(!0===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType){const o=K.categoryPres.find((e=>e.categoryOrder===T.categoryOrder));if(o){const r=o.categoryContents.find((e=>e.categoryContentOrder===t));if(r){const e=r.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder&&""!==e.categoryContentNote));-1!==e?r.categoryContentQuestions[e].categoryContentAnswer=!0:r.categoryContentQuestions.push(n)}else{const t={categoryContentCheck:T.categoryContents[e].categoryContentCheck,categoryContentName:T.categoryContents[e].categoryContentName,categoryContentOrder:T.categoryContents[e].categoryContentOrder,categoryContentQuestions:[n],categoryContentText:T.categoryContents[e].categoryContentText,categoryContentTitle:T.categoryContents[e].categoryContentTitle};o.categoryContents.push(t)}}else{const t={categoryContentCheck:T.categoryContents[e].categoryContentCheck,categoryContentName:T.categoryContents[e].categoryContentName,categoryContentOrder:T.categoryContents[e].categoryContentOrder,categoryContentQuestions:[n],categoryContentText:T.categoryContents[e].categoryContentText,categoryContentTitle:T.categoryContents[e].categoryContentTitle},o={categoryOrder:T.categoryOrder,categoryName:T.categoryName,newCategoryPre:T.newCategoryPre,categoryContents:[t]};K.categoryPres.push(o)}}if(null===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType){const e=K.categoryPres.find((e=>e.categoryOrder===T.categoryOrder));if(e){const o=e.categoryContents.find((e=>e.categoryContentOrder===t));if(o){const e=o.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder&&null===e.categoryContentNote));if(-1!==e)o.categoryContentQuestions.splice(e,1);else{const e=o.categoryContentQuestions.findIndex((e=>e.categoryContentQuestionOrder===n.categoryContentQuestionOrder));o.categoryContentQuestions[e].categoryContentAnswer=null}}}}}},ct=async(e,t)=>{const n=await X(e);if(200===n.status){const e={...O};e.categoryPres.forEach((e=>{e.categoryOrder===t.categoryOrder&&(e.categoryContents=t.categoryContents,e.categoryContents.forEach((e=>{e.isLock=!0})),0===t.categoryContents.length?e.newCategoryPre=!0:e.newCategoryPre=!1,e.isLock=!0),e.categoryContents=e.categoryContents.filter((e=>0!==e.categoryContentQuestions.length))})),y(e);const n=e.categoryPres.find((e=>e.categoryOrder===t.categoryOrder));c.b.success("\u0110\xe3 c\u1eadp nh\u1eadt l\u1ea1i ti\u1ec1n c\u0103n",{toastId:"handleSaveNewDataPredecessorSuccess"}),lt(n)}else c.b.error(n.data,{toastId:"handleSaveNewDataPredecessorError"});Re(!1)},st=async e=>{const t=await(async e=>{const t=q();return await V.a.get("".concat(J,"/api/Medical/DetailPatient/").concat(e),t).then((function(e){return e.data})).catch((function(e){return e.response.status}))})(e);if(v(t),!1===t.newPredecessor){const e=t.categoryPres.filter((e=>!1===e.newCategoryPre)).flatMap((e=>e.categoryContents)).flatMap((e=>e.categoryContentQuestions)).filter((e=>!0===e.categoryContentAnswer||null!==e.categoryContentNote));Q(e)}},lt=async e=>{!0===N&&I(!N),"tree"===E.healthRecordsContentsType&&0!==P.length&&M([]),0!==P.length&&B([]),S({...e}),M([])},dt=async(e,t,n)=>{const o=await te(e);if(B({healthRecordsName:t,newMedicalBook:o.medicakBook.newMedicalBook,conclusion:o.medicakBook.conclusion,categoryPatients:o.medicakBook.categories}),D({healthRecordsName:t,newMedicalBook:o.medicakBook.newMedicalBook,conclusion:o.medicakBook.conclusion,categoryPatients:o.medicakBook.categories}),1===n&&1===O.healthRecords.length&&null===O.healthRecords[0].medicalBookId){const e=o.medicakBook.categories.map(((e,t)=>{const n=e.categoryContents.map((e=>({categoryContentTitle:e.categoryContentTitle,categoryContentName:e.categoryContentName,categoryContentCheck:e.categoryContentCheck,categoryContentText:e.categoryContentText,categoryContentQuestions:[]})));return{categoryName:e.categoryName,isHealthRecord:!0,categoryContents:n}})),t={...L};e.map((e=>t.categories.push(e))),z(t)}},ht=Object(o.useRef)(null),pt=(e,t,n)=>{const o=n;ht.current&&clearInterval(ht.current),ht.current=setTimeout((()=>{const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentNote=o,S(n);gt(n.categoryName,!0,n.categoryContents[e].categoryContentQuestions[t],n.categoryContents[e].categoryContentQuestions[t].categoryContentQuestionOrder,n.categoryContents[e].categoryContentTitle)}),300)},ut=(e,t,n,o)=>{const r=o;ht.current&&clearInterval(ht.current),ht.current=setTimeout((()=>{const o={...P};o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n].categoryContentNote=r,B(o);gt(o.categoryPatients[e].categoryName,!1,o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n],o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n].categoryContentQuestionOrder,o.categoryPatients[e].categoryContents[t].categoryContentTitle,!0)}),2e3)},gt=(e,t,n,o,r,a)=>{if("check"===n.categoryContentQuestionType){if(a){if(""!==n.categoryContentNote){const t={...L};t.categories.forEach((t=>{t.categoryName===e&&t.categoryContents.forEach((e=>{if(e.categoryContentTitle===r)if(e.categoryContentQuestions.length>0){const t=e.categoryContentQuestions.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName));t?t.categoryContentNote=n.categoryContentNote:e.categoryContentQuestions.push(n)}else e.categoryContentQuestions.push(n)}))})),z(t)}else if(""===n.categoryContentNote){const t={...L};t.categories.forEach((t=>{t.categoryName===e&&t.categoryContents.forEach((e=>{e.categoryContentTitle===r&&e.categoryContentQuestions.forEach((t=>{null!==t.categoryContentAnswer&&!1!==t.categoryContentAnswer||(e.categoryContentQuestions=e.categoryContentQuestions.filter((e=>e.categoryContentQuestionOrder!==n.categoryContentQuestionOrder)))}))}))})),z(t)}}else if(!0===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType){const t={...L};t.categories.forEach((t=>{t.categoryName===e&&t.categoryContents.forEach((e=>{if(e.categoryContentTitle===r)if(e.categoryContentQuestions.length>0){const t=e.categoryContentQuestions.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName));t?t.categoryContentAnswer=n.categoryContentAnswer:e.categoryContentQuestions.push(n)}else e.categoryContentQuestions.push(n)}))})),z(t)}else if(!1===n.categoryContentAnswer&&"check"===n.categoryContentQuestionType){const t={...L};t.categories.forEach(((t,o)=>{t.categoryName===e&&t.categoryContents.forEach((e=>{e.categoryContentTitle===r&&e.categoryContentQuestions.forEach((t=>{null!==t.categoryContentNote&&""!==t.categoryContentNote||(e.categoryContentQuestions=e.categoryContentQuestions.filter((e=>e.categoryContentQuestionOrder!==n.categoryContentQuestionOrder)))}))}))})),z(t)}}else if(""!==n.categoryContentNote&&"string"===n.categoryContentQuestionType){const t={...L};t.categories.forEach((t=>{t.categoryName===e&&t.categoryContents.forEach((e=>{if(e.categoryContentTitle===r)if(e.categoryContentQuestions.length>0){const t=e.categoryContentQuestions.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName));t?t.categoryContentNote=n.categoryContentNote:e.categoryContentQuestions.push(n)}else e.categoryContentQuestions.push(n)}))})),z(t)}else if(""===n.categoryContentNote&&"string"===n.categoryContentQuestionType){const t={...L};t.categories.forEach((t=>{t.categoryName===e&&t.categoryContents.forEach((e=>{e.categoryContentTitle===r&&(e.categoryContentQuestions=e.categoryContentQuestions.filter((e=>e.categoryContentQuestionName!==n.categoryContentQuestionName)))}))})),z(t)}if(t&&R&&0!==R.length){let e=[...R];e.forEach((t=>{const o=e.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName));if(o){if("string"===o.categoryContentQuestionType){if(""===n.categoryContentAnswer)e=R.filter((e=>e.categoryContentQuestionName!==n.categoryContentQuestionName));else if(""!==n.categoryContentAnswer){const t=R.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName));t?t.categoryContentNote=n.categoryContentNote:e.push(n)}}else if("check"===o.categoryContentQuestionType)if(a){if(""===n.categoryContentNote){const t=R.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName&&!0===e.categoryContentAnswer));t?t.categoryContentNote=n.categoryContentNote:null!==n.categoryContentAnswer&&!1!==n.categoryContentAnswer||(e=e.filter((e=>e.categoryContentQuestionName!==n.categoryContentQuestionName)))}else if(""!==n.categoryContentNote){const t=R.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName));t?t.categoryContentNote=n.categoryContentNote:e.push(n)}}else if(!1===n.categoryContentAnswer){const t=R.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName&&""!==e.categoryContentNote));t?t.categoryContentAnswer=n.categoryContentAnswer:e=e.filter((e=>e.categoryContentQuestionName!==n.categoryContentQuestionName&&""===e.categoryContentNote))}else if(!0===n.categoryContentAnswer){const t=R.find((e=>e.categoryContentQuestionName===n.categoryContentQuestionName&&""!==e.categoryContentNote));t?t.categoryContentAnswer=n.categoryContentAnswer:e.push(n)}}else e.push(n)})),Q(e)}else Q([n])},xt=Object(Ct.a)({root:{"&.Mui-disabled":{color:"#d32f2f"},"&.Mui-checked.Mui-disabled":{color:"#d32f2f"}}})();return Object(o.useEffect)((()=>{if(1===u.status&&r){window.confirm("B\u1ea1n \u0111ang kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(u.patientsName,", c\xf3 ch\u1eafc l\xe0 mu\u1ed1n \u0111\u0103ng xu\u1ea5t kh\xf4ng?"))?(sessionStorage.setItem("dataPantientsReadyExamining",JSON.stringify(u)),sessionStorage.setItem("dataExaminingForConclusion",JSON.stringify(L)),sessionStorage.setItem("mainDataExamining",JSON.stringify(O)),F&&sessionStorage.setItem("currentHealthRecordExamining",JSON.stringify(F)),Z&&sessionStorage.setItem("prevDataPredecessor",JSON.stringify(Z)),H&&sessionStorage.setItem("oldDataPredecessor",JSON.stringify(H)),a()):i()}else{if(u.status){p(!0);const e=e=>{const t="B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y?";return e.returnValue=t,t},t=l.block(((e,n)=>{if(h){if(!window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y? Nh\u1eefng thay \u0111\u1ed5i s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c l\u01b0u...."))return!1;sessionStorage.setItem("dataPantientsReadyExamining",JSON.stringify(u)),sessionStorage.setItem("dataExaminingForConclusion",JSON.stringify(L)),sessionStorage.setItem("mainDataExamining",JSON.stringify(O)),F&&sessionStorage.setItem("currentHealthRecordExamining",JSON.stringify(F)),Z&&sessionStorage.setItem("prevDataPredecessor",JSON.stringify(Z)),H&&sessionStorage.setItem("oldDataPredecessor",JSON.stringify(H)),t(),l.push(e.pathname)}return!0})),n=()=>{sessionStorage.setItem("dataPantientsReadyExamining",JSON.stringify(u)),sessionStorage.setItem("dataExaminingForConclusion",JSON.stringify(L)),sessionStorage.setItem("mainDataExamining",JSON.stringify(O)),F&&sessionStorage.setItem("currentHealthRecordExamining",JSON.stringify(F)),Z&&sessionStorage.setItem("prevDataPredecessor",JSON.stringify(Z)),H&&sessionStorage.setItem("oldDataPredecessor",JSON.stringify(H))};return window.addEventListener("beforeunload",e),window.addEventListener("unload",n),()=>{window.removeEventListener("beforeunload",e),t(),window.removeEventListener("unload",n)}}r&&a()}}),[u,O,F,L,r,a,i,s,l,h]),Object(o.useEffect)((()=>{!1===n&&t&&("Doctor"!==t.positionName&&t.isLogin?l.push("/404"):!0===t.isCurrentDoctorExamining?Le():!1===t.isCurrentDoctorExamining&&c.b.error("B\u1ea1n kh\xf4ng ph\u1ea3i b\xe1c s\u0129 kh\xe1m h\xf4m nay, kh\xf4ng th\u1ec3 d\xf9ng ch\u1ee9c n\u0103ng n\xe0y",{toastId:"error10"}))}),[n,t]),Object(o.useEffect)((()=>{const e=e=>{112===e.keyCode&&e.preventDefault(),""!==u.patientsId&&!1===De&&!1===ee&&116!==e.keyCode&&(112===e.keyCode&&1===u.status?(e.preventDefault(),Qe()):113===e.keyCode&&C?0===u.status&&!1===u.editExamining?Ye():1===u.status?alert("B\u1ea1n \u0111ang trong qu\xe1 tr\xecnh kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(u.patientsName,", vui l\xf2ng k\u1ebft th\xfac \u0111\u1ee3t kh\xe1m hi\u1ec7n t\u1ea1i \u0111\u1ec3 b\u1eaft \u0111\u1ea7u \u0111\u1ee3t kh\xe1m m\u1edbi!")):0===u.status&&!0===u.editExamining&&Ve():115===e.keyCode&&1===u.status&&setTimeout((()=>{oe(!0)}),2e3))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[u,ee,De,ee]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(he.a,{maxWidth:"xl",sx:{mt:11},children:Object(f.jsx)(g.a,{sx:{bgcolor:"#fff",height:"auto"},children:Object(f.jsxs)(Ce.a,{container:!0,spacing:2,sx:{pl:.6,pr:.6},children:[Object(f.jsxs)(Ce.a,{item:!0,xs:5,children:[Object(f.jsx)(_e.a,{component:et.a,sx:{height:"330px",boxShadow:5,borderRadius:"10px"},children:se?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#e0e0e0",height:"100%"},children:[Object(f.jsx)(W.a,{}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(g.a,{children:[Object(f.jsx)(ge.a,{direction:"row",spacing:1,sx:{justifyContent:"center",mt:1.4},children:Be.map(((e,t)=>Object(f.jsx)(nt.a,{badgeContent:e.chipContent,color:"error",children:Object(f.jsx)(tt.a,{label:e.chipLabel,color:t===Me.chipOrder?"primary":"default",onClick:()=>((e,t)=>{if(Pe({chipOrder:e,chipLabel:t}),0===e){const e=Oe.filter((e=>0===e.state||1===e.state||3===e.state));Se(e),we(e)}else if(1===e){const e=Oe.filter((e=>2===e.state));Se(e),we(e)}})(t,e.chipLabel)})},"chipPantientState ".concat(t))))}),Object(f.jsxs)(x.a,{variant:"h6",sx:{mt:.2,textAlign:"center",fontSize:"1.12rem"},children:["Danh s\xe1ch ",Me.chipLabel," ng\xe0y ",ze()().format("DD/MM/YYYY")]}),Object(f.jsx)(g.a,{sx:{display:"flex",justifyContent:"center",position:"relative"},children:Object(f.jsx)(pe.a,{sx:{mb:.6,width:360,"& .MuiInputBase-inputSizeSmall":{textAlign:"center"}},size:"small",variant:"outlined",placeholder:"T\xecm v\u1edbi M\xe3 BN ho\u1eb7c T\xean BN",value:ve,onChange:e=>(e=>{const t=e;Ne(t),Se(""===e?ke:Ae(ke,t))})(e.target.value),InputProps:{startAdornment:Object(f.jsx)(ue.a,{position:"start",children:Object(f.jsx)(rt.a,{})}),endAdornment:Object(f.jsx)(ue.a,{position:"end",children:""!==ve?Object(f.jsx)(b.a,{sx:{cursor:"pointer"},titleAccess:"X\xf3a",onClick:()=>[Ne(""),Se(ke)]}):null})}})})]}),Object(f.jsxs)(qe.a,{stickyHeader:!0,children:[Object(f.jsx)(Ze.a,{children:Object(f.jsxs)($e.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"STT"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"M\xe3 b\u1ec7nh nh\xe2n"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.95rem"},children:"H\u1ecd t\xean"})]})}),Object(f.jsx)(Ue.a,{children:Te.map(((e,t)=>Object(f.jsxs)($e.a,{hover:!0,role:"checkbox",sx:{cursor:"pointer",backgroundColor:1===e.state?"#26c6da":"#fff",":hover":{backgroundColor:1===e.state?"#00bcd4 !important":"rgba(0, 0, 0, 0.1) !important"}},onClick:()=>(async e=>{0===e.state&&u.patientsName!==e.patient.fullName||3===e.state&&u.patientsName!==e.patient.fullName?""===u.patientsId||""!==u.patientsId&&0===u.status?await We(e):alert("B\u1ea1n \u0111ang trong qu\xe1 tr\xecnh kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(u.patientsName,", vui l\xf2ng k\u1ebft th\xfac \u0111\u1ee3t kh\xe1m \u0111\u1ec3 b\u1eaft \u0111\u1ea7u \u0111\u1ee3t kh\xe1m m\u1edbi!")):2===e.state&&u.patientsName!==e.patient.fullName&&(""!==u.patientsId&&1===u.status?alert("B\u1ea1n \u0111ang trong qu\xe1 tr\xecnh kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(u.patientsName,", vui l\xf2ng k\u1ebft th\xfac \u0111\u1ee3t kh\xe1m \u0111\u1ec3 b\u1eaft \u0111\u1ea7u \u0111\u1ee3t kh\xe1m m\u1edbi!")):await We(e))})(e),children:[Object(f.jsx)(Xe.a,{align:"left",sx:{width:"20px"},children:e.order}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"150px"},children:e.patient.patientId}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"240px"},children:e.patient.fullName})]},e.order)))})]})]})}),Object(f.jsx)(g.a,{style:{width:"100%",marginTop:"10px",borderRadius:"10px",border:"2px solid red",height:"300px",overflow:"auto"},children:0===O.length&&!1===je||!1===C?null:Object(f.jsx)(f.Fragment,{children:je?Object(f.jsxs)(g.a,{sx:{backgroundColor:"#e0e0e0",borderRadius:"10px",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(f.jsx)(W.a,{}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u c\xe2y th\u01b0 m\u1ee5c kh\xe1m, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"category-scrollbar",children:Object(f.jsxs)(yt.a,{sx:{p:0,display:"inline-grid"},children:[O.categoryPres.map(((e,t)=>Object(f.jsxs)(g.a,{sx:{display:"inline-flex"},children:[Object(f.jsx)(wt.a,{sx:{width:"fitContent",pt:"4px",pb:"4px",borderRadius:"8px",":hover":{backgroundColor:T.categoryName===e.categoryName?"#ffc107":"rgba(0, 0, 0, 0.1)"},backgroundColor:T.categoryName===e.categoryName?"#ffd54f":""},onClick:()=>lt(e),children:Object(f.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(Tt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem",color:"#2962ff"}},children:Object(f.jsx)(Pt.a,{})}),Object(f.jsx)(St.a,{primary:e.categoryName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]})}),!0===e.newCategoryPre&&!0===e.newPredecessor?null:Object(f.jsxs)(f.Fragment,{children:[!1===e.newCategoryPre?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ut.a,{sx:{color:"green",fontSize:"1.4rem",margin:"auto"},titleAccess:"\u0111\xe3 theo d\xf5i"})}):null,O.newPredecessor?null:!0===e.isLock?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(j.a,{edge:"end",sx:{ml:.5,zIndex:100},onClick:()=>(async(e,t)=>{Re(!0);const n=(await ne(u.patientsId)).data.find((e=>e.categoryOrder===t));O.categoryPres.forEach((e=>{e.categoryOrder===n.categoryOrder&&(e.categoryContents=n.categoryContents,e.categoryContents.forEach((e=>{e.isLock=!1})),e.isLock=!1)}));const o=O.categoryPres.find((e=>e.categoryOrder===t));K.categoryPres.some((t=>t.categoryName===e))||(K.categoryPres=Z),lt(o),Re(!1)})(e.categoryName,e.categoryOrder),children:Object(f.jsx)(it.a,{sx:{color:"blue",fontSize:"1.6rem"},titleAccess:"S\u1eeda"})})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.a,{edge:"end",sx:{ml:.5,zIndex:100},onClick:()=>{return t=e.categoryOrder,Re(!0),void setTimeout((()=>{const e=K.categoryPres.find((e=>e.categoryOrder===t)),n=H.find((t=>t.categoryOrder===e.categoryOrder));n?e.categoryContents.forEach((e=>{let t=n.categoryContents.find((t=>t.categoryContentOrder===e.categoryContentOrder));t?(t.categoryContentQuestions=t.categoryContentQuestions.filter((t=>e.categoryContentQuestions.some((e=>e.categoryContentQuestionOrder===t.categoryContentQuestionOrder)))),0!==e.categoryContentQuestions.length?e.categoryContentQuestions.forEach((e=>{if(null===e.categoryContentAnswer&&null===e.categoryContentNote&&"check"===e.categoryContentQuestionType)t.categoryContentQuestions=t.categoryContentQuestions.filter((t=>t.categoryContentQuestionOrder!==e.categoryContentQuestionOrder));else if(null===e.categoryContentNote&&"string"===e.categoryContentQuestionType)t.categoryContentQuestions=t.categoryContentQuestions.filter((t=>t.categoryContentQuestionOrder!==e.categoryContentQuestionOrder));else{const n=t.categoryContentQuestions.findIndex((t=>t.categoryContentQuestionOrder===e.categoryContentQuestionOrder));-1!==n?t.categoryContentQuestions[n]=e:t.categoryContentQuestions.push(e)}})):n.categoryContents=n.categoryContents.filter((t=>t.categoryContentOrder!==e.categoryContentOrder))):n.categoryContents.push(e)})):H.push(e),H.forEach((e=>{e.categoryContents=e.categoryContents.filter((e=>0!==e.categoryContentQuestions.length))}));const o=H.findIndex((e=>0===e.categoryContents.length));-1!==o&&H.splice(o,1);const r={patientId:K.patientId,categoryPres:H};ct(r,e)}),500);var t},children:Object(f.jsx)(an.a,{sx:{color:"red",fontSize:"1.6rem"},titleAccess:"L\u01b0u"})}),Object(f.jsx)(j.a,{edge:"end",sx:{ml:.5,zIndex:100},onClick:()=>{return e.categoryName,t=e.categoryOrder,Re(!0),void setTimeout((()=>{const e=H.find((e=>e.categoryOrder===t));if(e)O.categoryPres.forEach((t=>{t.categoryOrder===e.categoryOrder&&(t.categoryContents=e.categoryContents,t.categoryContents.forEach((e=>{e.isLock=!0})),t.isLock=!0)})),K.categoryPres.forEach((t=>{t.categoryOrder===e.categoryOrder&&(t.categoryContents=e.categoryContents)}));else{O.categoryPres.forEach((e=>{e.categoryOrder===t&&(e.categoryContents=[],e.isLock=!0)}));const e={...K}.categoryPres.filter((e=>e.categoryOrder!==t));K.categoryPres=e}$(Ie.a.cloneDeep(H));const n=O.categoryPres.find((e=>e.categoryOrder===t));lt(n),Re(!1)}),300);var t},children:Object(f.jsx)(ft.a,{sx:{color:"red",fontSize:"1.6rem"},titleAccess:"H\u1ee7y"})})]})]})]},"category ".concat(t)))),Object(f.jsxs)(wt.a,{sx:{pt:"4px",pb:"4px",borderRadius:"8px",backgroundColor:"S\u1ed5 s\u1ee9c kh\u1ecfe"===T.categoryName?"#ffd54f":"",":hover":{backgroundColor:"S\u1ed5 s\u1ee9c kh\u1ecfe"===T.categoryName?"#ffc107":"rgba(0, 0, 0, 0.1)"}},onClick:()=>{return e=O.healthRecords,!1===N&&I(!N),0!==P.length&&B([]),S({categoryName:"S\u1ed5 s\u1ee9c kh\u1ecfe",categoryContents:e}),void M({healthRecordsContentsType:"tree",categoryContents:e});var e},children:[Object(f.jsx)(Tt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem",color:"#2962ff"}},children:Object(f.jsx)(Pt.a,{sx:{transform:"S\u1ed5 s\u1ee9c kh\u1ecfe"===T.categoryName?"rotate(90deg)":"rotate(0deg)"}})}),Object(f.jsx)(St.a,{primary:"S\u1ed5 s\u1ee9c kh\u1ecfe",sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]}),Object(f.jsx)(Et.a,{in:N,timeout:"auto",unmountOnExit:!0,children:Object(f.jsx)("div",{style:{paddingLeft:"24px"},children:O.healthRecords.map(((e,t)=>Object(f.jsxs)(wt.a,{sx:{pt:"0px",pb:"0px",width:"auto",borderRadius:"8px",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},onClick:()=>(async(e,t,n)=>{Re(!0),fe(!0),F?P.healthRecordsName!==t&&(2===n?await dt(e,t,n):1===n&&u.editExamining?(B({healthRecordsName:t,newMedicalBook:!0,conclusion:O.healthRecords[0].conclusion,categoryPatients:O.healthRecords[0].categories}),D({healthRecordsName:t,newMedicalBook:!0,conclusion:O.healthRecords[0].conclusion,categoryPatients:O.healthRecords[0].categories})):await dt(e,t,n)):await dt(e,t,n),fe(!1),Re(!1)})(e.medicalRegisterId,e.examinationName,e.state),children:[Object(f.jsx)(Tt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem",color:1===e.state?"red":"#009688"}},children:Object(f.jsx)(nn.a,{sx:{transform:"S\u1ed5 s\u1ee9c kh\u1ecfe"===T.categoryName?"rotate(90deg)":"rotate(0deg)"}})}),Object(f.jsx)(St.a,{primary:e.examinationName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]},"healthRecords ".concat(t))))})})]})})})})}),Object(f.jsxs)("div",{className:"instruction",style:{display:"flex",justifyContent:"space-between",marginTop:"4.5px"},children:[Object(f.jsx)(A.a,{variant:"contained",color:"error",onClick:()=>Qe(),children:"H\u1ee7y kh\xe1m (f1)"}),Object(f.jsx)(A.a,{variant:"contained",color:"secondary",onClick:()=>{0===u.status&&!1===u.editExamining?Ye():1===u.status?alert("B\u1ea1n \u0111ang trong qu\xe1 tr\xecnh kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(u.patientsName,", vui l\xf2ng k\u1ebft th\xfac \u0111\u1ee3t kh\xe1m hi\u1ec7n t\u1ea1i \u0111\u1ec3 b\u1eaft \u0111\u1ea7u \u0111\u1ee3t kh\xe1m m\u1edbi!")):0===u.status&&!0===u.editExamining&&Ve()},children:"B\u1eaft \u0111\u1ea7u kh\xe1m (f2)"}),Object(f.jsx)(A.a,{variant:"contained",color:"primary",onClick:()=>{1===u.status&&setTimeout((()=>{oe(!0)}),2e3)},children:"K\u1ebft th\xfac kh\xe1m (f4)"})]})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:7,children:[Object(f.jsxs)(g.a,{sx:{boxShadow:4,borderRadius:"20px",border:"2px solid blue",height:"230px",mb:"8px",overflow:"auto"},children:[Object(f.jsx)(x.a,{variant:"h6",sx:{color:"blue",mt:.6,mb:.6,fontWeight:"bolder",fontSize:"1.2rem",textAlign:"center"},children:"Th\xf4ng tin b\u1ec7nh nh\xe2n"}),Object(f.jsx)(g.a,{sx:{pl:2.8,pr:2.8,mt:1},children:de?Object(f.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:4},children:[Object(f.jsx)(W.a,{color:"inherit"}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i th\xf4ng tin b\u1ec7nh nh\xe2n, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(Ce.a,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:4},children:[Object(f.jsxs)(Ce.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(f.jsx)(Dt.a,{sx:{color:"tomato"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:1},children:"M\xe3 BN: ".concat(u.patientsId||"")})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:5,sx:{display:"inline-flex"},children:[Object(f.jsx)(At.a,{sx:{color:"tomato"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:1},children:"H\u1ecd t\xean: ".concat(u.patientsName||"")})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:3,sx:{display:"inline-flex"},children:[!0===u.patientsGender?Object(f.jsx)(Wt.a,{sx:{color:"coral",fontSize:"27px"}}):Object(f.jsx)(Ht.a,{sx:{color:"coral",fontSize:"27px"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:1},children:"Gi\u1edbi t\xednh: ".concat(""!==u.patientsGender?!0===u.patientsGender?"Nam":"N\u1eef":"")})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(f.jsx)(Lt.a,{sx:{color:"tomato"}}),Object(f.jsxs)(x.a,{variant:"subtitle1",sx:{ml:1},children:["Ng\xe0y sinh: ",u.patientsDOB?ze()(u.patientsDOB).format("DD/MM/YYYY"):""]})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:5,sx:{display:"inline-flex"},children:[Object(f.jsx)(Jt.a,{sx:{color:"tomato"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:1},children:"Th\xe1ng tu\u1ed5i: ".concat(u.patientsMonthsOld||"")})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:3,sx:{display:"inline-flex"},children:[Object(f.jsx)(Gt.a,{sx:{color:"tomato"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:1},children:"Sdt: ".concat(u.patientsPhone||"")})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(f.jsx)(en.a,{style:{color:"tomato",fontSize:"1.42rem",marginLeft:"2px"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:.8},children:"Chi\u1ec1u cao: ".concat(u.patientsHeight?u.patientsHeight+" cm":"")})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(f.jsx)(en.b,{style:{color:"tomato",fontSize:"1.42rem"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:1},children:"C\xe2n n\u1eb7ng: ".concat(u.patientsWeight?u.patientsWeight+" kg":"")})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:4,sx:{display:"inline-flex"},children:[Object(f.jsx)(on.a,{style:{color:"tomato",fontSize:"1.42rem"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:1},children:"V\xf2ng \u0111\u1ea7u: ".concat(u.patientsHeadCircumference?u.patientsHeadCircumference+" cm":"")})]}),Object(f.jsxs)(Ce.a,{item:!0,xs:12,sx:{display:"inline-flex"},children:[Object(f.jsx)($t.a,{sx:{color:"tomato"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:1},children:"\u0110\u1ecba ch\u1ec9: ".concat(u.patientsAddress||"")})]}),R?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ce.a,{item:!0,xs:12,children:Object(f.jsx)(g.a,{sx:{display:"flex",flexWrap:"wrap"},children:R.map(((e,t)=>Object(f.jsx)(x.a,{variant:"subtitle1",sx:{ml:.5,fontSize:"1.1rem",color:"mediumblue",fontWeight:"bolder"},children:"".concat(e.categoryContentQuestionName,": ").concat(e.categoryContentAnswer?"c\xf3":""," ").concat(null!==e.categoryContentNote?"".concat(e.categoryContentNote):"",", ")},t)))})})}):null]})})})]}),Object(f.jsxs)("div",{className:"container-content-examining",children:[ae?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(f.jsx)(W.a,{}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u k\u1ef3 kh\xe1m g\u1ea7n nh\u1ea5t, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):C?1===C.healthRecords.length&&null===C.healthRecords[0].medicalBookId?Object(f.jsx)(g.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:Object(f.jsx)(x.a,{variant:"h6",children:"B\u1ec7nh nh\xe2n kh\xf4ng c\xf3 k\u1ef3 kh\xe1m tr\u01b0\u1edbc"})}):Object(f.jsx)("div",{className:"content-examining",children:Object(f.jsx)(Bt,{prevDataExamining:C})}):null,T.categoryContents?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"content-examining",children:be?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(f.jsx)(W.a,{}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{mt:1},children:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u s\u1ed5 kh\xe1m b\u1ec7nh, h\xe3y ch\u1edd m\u1ed9t ch\xfat..."})]})}):Object(f.jsx)(f.Fragment,{children:!0===T.newCategoryPre&&!0===T.isLock?Object(f.jsx)(g.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:Object(f.jsx)(x.a,{variant:"h6",children:"B\u1ec7nh nh\xe2n kh\xf4ng c\xf3 ti\u1ec1n c\u0103n \u0111ang \u0111\u01b0\u1ee3c theo d\xf5i \u1edf m\u1ee5c n\xe0y"})}):"tree"!==E.healthRecordsContentsType&&0===P.length?T.categoryContents.map(((e,t)=>Object(f.jsxs)(g.a,{sx:null===e.categoryContentTitle?{marginTop:"30px"}:{},children:[Object(f.jsx)(x.a,{variant:"h6",sx:{fontWeight:"bolder",textAlign:"center",fontSize:"1.2rem",mb:.2},children:e.categoryContentTitle||""}),e.categoryContentQuestions.map(((n,o)=>Object(f.jsx)(g.a,{children:Object(f.jsxs)(Ce.a,{container:!0,rowSpacing:0,children:[0===o?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentName})}),"check"===n.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Ce.a,{item:!0,xs:1,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)(Nt.a,{sx:{fontSize:"1.22rem",color:"gray"}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",margin:"auto",lineHeight:"1.6"},children:e.categoryContentCheck})]}),Object(f.jsx)(Ce.a,{item:!0,xs:7,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:e.categoryContentText})})]}):Object(f.jsx)(Ce.a,{item:!0,xs:8,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:e.categoryContentText})})]}):null,Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontSize:"1.2rem"},children:n.categoryContentQuestionName})}),"check"===n.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:1,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(f.jsx)(Ee.a,{disabled:!0===T.isLock,checked:!0===n.categoryContentAnswer,classes:{root:xt.root},color:"error",sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}},onClick:()=>!0===u.editExamining&&!1===T.newCategoryPre||!0===u.backRegister&&!1===T.newCategoryPre?((e,t,n)=>{if(null===n){const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentAnswer=!0,S(n),at(e,n.categoryContents[e].categoryContentOrder,n.categoryContents[e].categoryContentQuestions[t])}else if(!0===n){const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentAnswer=null,S(n),at(e,n.categoryContents[e].categoryContentOrder,n.categoryContents[e].categoryContentQuestions[t])}})(t,o,n.categoryContentAnswer):((e,t,n)=>{if(null===n){const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentAnswer=!0,S(n);const o=!0;gt(n.categoryName,o,n.categoryContents[e].categoryContentQuestions[t],n.categoryContents[e].categoryContentQuestions[t].categoryContentQuestionOrder,n.categoryContents[e].categoryContentTitle)}else if(!0===n){const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentAnswer=!1,S(n);const o=!0;gt(n.categoryName,o,n.categoryContents[e].categoryContentQuestions[t],n.categoryContents[e].categoryContentQuestions[t].categoryContentQuestionOrder,n.categoryContents[e].categoryContentTitle)}else{const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentAnswer=!0,S(n);const o=!0;gt(n.categoryName,n.categoryName,o,n.categoryContents[e].categoryContentQuestions[t],n.categoryContents[e].categoryContentQuestions[t].categoryContentQuestionOrder,n.categoryContents[e].categoryContentTitle)}})(t,o,n.categoryContentAnswer)})}),Object(f.jsx)(Ce.a,{item:!0,xs:7,children:Object(f.jsx)("div",{className:"textfield-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,disabled:!0===T.isLock,style:{fontSize:"1.2rem"},onChange:e=>!0===u.editExamining&&!1===T.newCategoryPre||!0===u.backRegister&&!1===T.newCategoryPre?((e,t,n)=>{const o=n;ht.current&&clearInterval(ht.current),ht.current=setTimeout((()=>{const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentNote=o,S(n),at(e,n.categoryContents[e].categoryContentOrder,n.categoryContents[e].categoryContentQuestions[t],o,!0)}),300)})(t,o,e.target.value):((e,t,n)=>{const o=n;ht.current&&clearInterval(ht.current),ht.current=setTimeout((()=>{const n={...T};n.categoryContents[e].categoryContentQuestions[t].categoryContentNote=o,S(n),gt(n.categoryName,!0,n.categoryContents[e].categoryContentQuestions[t],n.categoryContents[e].categoryContentQuestions[t].categoryContentQuestionOrder,n.categoryContents[e].categoryContentTitle,!0)}),2e3)})(t,o,e.target.value),defaultValue:n.categoryContentNote})},"question ".concat(o," - category ").concat(T.categoryOrder," - categoryPresOrder ").concat(E.categoryPresOrder," - categoryContentOrder ").concat(t," - isLock ").concat(E.isLock," - questionOrder ").concat(n.categoryContentQuestionOrder))})})]}):Object(f.jsx)(f.Fragment,{children:4===T.categoryOrder?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ce.a,{item:!0,xs:8,children:Object(f.jsx)("div",{className:"textfield-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,disabled:!0===T.isLock,style:{fontSize:"1.2rem"},onChange:e=>!0===u.editExamining&&!1===T.newCategoryPre||!0===u.backRegister&&!1===T.newCategoryPre?Je(t,o,e.target.value):pt(t,o,e.target.value),defaultValue:n.categoryContentNote})},"question ".concat(o," - category ").concat(T.categoryOrder," - categoryPresOrder ").concat(E.categoryPresOrder," - categoryContentOrder ").concat(t," - isLock ").concat(E.isLock," - questionOrder ").concat(n.categoryContentQuestionOrder))})})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ce.a,{item:!0,xs:8,children:Object(f.jsx)("div",{className:"textfield-for-answer",children:Object(f.jsx)("input",{type:"text",disabled:!0===T.isLock,className:"value-for-answer",onChange:e=>!0===u.editExamining&&!1===T.newCategoryPre||!0===u.backRegister&&!1===T.newCategoryPre?Je(t,o,e.target.value):pt(t,o,e.target.value),defaultValue:n.categoryContentNote})},"question ".concat(o," - category ").concat(T.categoryOrder," - categoryPresOrder ").concat(E.categoryPresOrder," - isLock ").concat(E.isLock," - questionOrder ").concat(n.categoryContentQuestionOrder))})})})]})},"categoryContentQuestionName ".concat(o))))]},t))):"tree"===E.healthRecordsContentsType&&0===P.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x.a,{variant:"h6",sx:{fontWeight:"bolder",textAlign:"center",fontSize:"1.2rem",mb:.2},children:"Kh\xe1m v\xe0 theo d\xf5i s\u1ee9c kh\u1ecfe \u0111\u1ecbnh k\u1ef3"}),Object(f.jsx)(_e.a,{component:et.a,children:Object(f.jsxs)(qe.a,{stickyHeader:!0,children:[Object(f.jsx)(Ze.a,{children:Object(f.jsxs)($e.a,{sx:{"& th":{color:"rgba(96, 96, 96)",backgroundColor:"pink"}},children:[Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.9rem",color:"black"},children:"K\u1ef3 kh\xe1m"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.9rem"},children:"Tr\u1ea1ng th\xe1i"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.9rem"},children:"Ng\xe0y kh\xe1m"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.9rem"},children:"B\xe1c s\u0129 kh\xe1m"}),Object(f.jsx)(Xe.a,{align:"left",sx:{fontSize:"0.9rem"},children:"K\u1ebft lu\u1eadn"})]})}),Object(f.jsx)(Ue.a,{sx:{borderRadius:"0px"},children:E.categoryContents.map(((e,t)=>{return Object(f.jsxs)($e.a,{hover:!0,role:"checkbox",children:[Object(f.jsxs)(Xe.a,{align:"left",sx:{width:"158px"},children:[Object(f.jsx)(_t.a,{sx:{mr:.5,mb:.4,color:"dodgerblue"}}),e.examinationName]}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"144px"},children:(n=e.state,0===n?Object(f.jsx)("div",{className:"chipUnDoneExamms",children:Object(f.jsx)("p",{className:"chipLabel",children:"Ch\u01b0a th\u1ef1c hi\u1ec7n"})}):1===n?Object(f.jsx)("div",{className:"chipDoingExamms",children:Object(f.jsx)("p",{className:"chipLabel",children:"\u0110ang th\u1ef1c hi\u1ec7n"})}):Object(f.jsx)("div",{className:"chipDoneExamms",children:Object(f.jsx)("p",{className:"chipLabel",children:"\u0110\xe3 th\u1ef1c hi\u1ec7n"})}))}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"108px"},children:ze()(e.timeRegister).format("DD/MM/YYYY")}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"115px"},children:e.doctorFullName}),Object(f.jsx)(Xe.a,{align:"left",sx:{width:"auto"},children:e.conclusion})]},t);var n}))})]})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x.a,{variant:"h6",sx:{fontWeight:"bolder",textAlign:"center",fontSize:"1.2rem",lineHeight:1,mt:1},children:F.healthRecordsName}),Object(f.jsxs)("div",{className:"health-record-content",children:[Object(f.jsx)(yt.a,{sx:{p:0},children:F.categoryPatients.map(((e,t)=>Object(f.jsxs)("div",{children:[Object(f.jsx)(wt.a,{sx:{pt:"0px",pb:"0px",borderRadius:"8px",":hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},onClick:()=>(e=>{w((t=>{const n=[...t];return n[e]=!n[e],n}))})(t),children:Object(f.jsxs)(g.a,{sx:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(Tt.a,{sx:{minWidth:"30px","& .MuiSvgIcon-fontSizeMedium":{fontSize:"1rem",color:"#2962ff",transform:!0===k[t]?"rotate(90deg)":"rotate(0deg)"}},children:Object(f.jsx)(Pt.a,{})}),Object(f.jsx)(St.a,{primary:e.categoryName,sx:{"& .MuiListItemText-primary":{fontSize:"1.25rem",fontWeight:"bolder",color:"deeppink"}}})]})}),Object(f.jsx)(Et.a,{in:k[t],timeout:"auto",unmountOnExit:!0,children:e.categoryContents.map(((n,o)=>Object(f.jsxs)("div",{className:"header-health-record",style:{marginTop:"15px",marginBottom:"15px",border:"2px solid #00bcd4",borderRadius:"20px"},children:[Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontWeight:"bolder",textAlign:"center"},children:n.categoryContentTitle}),Object(f.jsx)("div",{className:"content-health-record",style:{padding:"10px"},children:Object(f.jsxs)(Ce.a,{container:!0,rowSpacing:0,children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder"},children:n.categoryContentName})}),Object(f.jsxs)(Ce.a,{item:!0,xs:3,sx:{border:"2px solid rgb(218,220,224)",borderRight:"0px",p:.7,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)(Nt.a,{sx:{fontSize:"1.2rem",color:"gray",mr:.4}}),Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",lineHeight:"1.6"},children:n.categoryContentCheck})]}),Object(f.jsx)(Ce.a,{item:!0,xs:5,sx:{border:"2px solid rgb(218,220,224)",p:.7},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{color:"blue",fontWeight:"bolder",ml:.5},children:n.categoryContentText})}),n.categoryContentQuestions.map(((n,r)=>Object(f.jsxs)(g.a,{style:{display:"flex",width:"100%"},children:[Object(f.jsx)(Ce.a,{item:!0,xs:4,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",alignItems:"center"},children:Object(f.jsx)(x.a,{variant:"subtitle1",sx:{fontSize:"1rem"},children:n.categoryContentQuestionName})}),"check"===n.categoryContentQuestionType?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ce.a,{item:!0,xs:3,sx:{border:"2px solid rgb(218,220,224)",borderTop:"0px",borderRight:"0px",p:.5,display:"flex",justifyContent:"center"},children:Object(f.jsx)(Ee.a,{classes:{root:xt.root},checked:!0===n.categoryContentAnswer,disabled:!1===F.newMedicalBook,sx:{"& .MuiSvgIcon-fontSizeMedium":{fontSize:"1.2rem"}},color:"error",onClick:e=>((e,t,n,o)=>{if(null===o){const o={...P};o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n].categoryContentAnswer=!0,B(o);const r=!1;gt(o.categoryPatients[e].categoryName,r,o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n],o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n].categoryContentQuestionOrder,o.categoryPatients[e].categoryContents[t].categoryContentTitle)}else if(!0===o){const o={...P};o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n].categoryContentAnswer=!1,B(o);const r=!1;gt(o.categoryPatients[e].categoryName,r,o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n],o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n].categoryContentQuestionOrder,o.categoryPatients[e].categoryContents[t].categoryContentTitle)}else{const o={...P};o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n].categoryContentAnswer=!0,B(o);const r=!1;gt(o.categoryPatients[e].categoryName,r,o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n],o.categoryPatients[e].categoryContents[t].categoryContentQuestions[n].categoryContentQuestionOrder,o.categoryPatients[e].categoryContents[t].categoryContentTitle)}})(t,o,r,n.categoryContentAnswer)})}),Object(f.jsx)(Ce.a,{item:!0,xs:5,children:Object(f.jsx)("div",{className:"note-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,defaultValue:n.categoryContentNote,disabled:!1===F.newMedicalBook,onChange:e=>ut(t,o,r,e.target.value)})},"current ".concat(e.currentHealthRecordsContent,"-").concat(r," examinationName ").concat(F.healthRecordsName))})})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ce.a,{item:!0,xs:8,children:Object(f.jsx)("div",{className:"note-for-answer",children:Object(f.jsx)("div",{className:"suggest-note",children:Object(f.jsx)(It.a,{className:"textarea-autosize",rows:1,defaultValue:n.categoryContentNote,disabled:!1===F.newMedicalBook,onChange:e=>ut(t,o,r,e.target.value)})},"current ".concat(e.currentHealthRecordsContent,"-").concat(r," examinationName ").concat(F.healthRecordsName))})})})]},"questionItem ".concat(r," healthRecordsName ").concat(E.healthRecordsName))))]})})]},o)))})]},"categoryPatients ".concat(t))))}),null!==F.conclusion?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"conclusion",style:{marginLeft:"16px",marginTop:"4px"},children:Object(f.jsx)(x.a,{variant:"h6",sx:{color:"blue",fontWeight:"bolder"},children:"K\u1ebft lu\u1eadn c\u1ee7a b\xe1c s\u0129: ".concat(F.conclusion)})})}):null]})]})})})}):null]})]})]})})}),Object(f.jsx)(kt,{openModalCompleteExamining:ee,setOpenModalCompleteExamining:oe,handleCompleteExaminingForPantient:()=>{c.b.success("\u0110\xe3 k\u1ebft th\xfac kh\xe1m cho b\u1ec7nh nh\xe2n ".concat(u.patientsName),{toastId:"success1"}),m(e),y([]),I(!1),w([]),S({}),M([]),B([]),D(),z({}),$(),D(),G(),Q(),Le()},dataExaminingForConclusion:L}),Object(f.jsx)(Y,{openAlertProcessingBackdrop:De,changeBackground:!0})]})};var sn=e=>Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(s.a,{children:Object(f.jsxs)(d.Switch,{children:[Object(f.jsxs)(d.Route,{exact:!0,path:"/",children:["home"," "]}),Object(f.jsx)(d.Route,{path:"/login",children:Object(f.jsx)(ye,{})}),Object(f.jsx)(le,{path:"/medicalregister",component:gt}),Object(f.jsx)(le,{path:"/doctor-examining",component:cn}),Object(f.jsx)(le,{path:"/remind-examining",component:Ot}),Object(f.jsxs)(d.Route,{path:"*",children:[Object(f.jsx)(de,{})," "]})]})})});var ln=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(s.a,{children:[Object(f.jsx)("div",{className:"header-container",children:Object(f.jsx)(se,{})}),Object(f.jsx)("div",{className:"app-container",children:Object(f.jsx)(sn,{})})]}),Object(f.jsx)(c.a,{position:"bottom-center",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})};var dn=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,475)).then((t=>{let{getCLS:n,getFID:o,getFCP:r,getLCP:a,getTTFB:i}=t;n(e),o(e),r(e),a(e),i(e)}))};n(335),n(336);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(ce,{children:Object(f.jsx)(ln,{})})}),document.getElementById("root")),dn()}},[[337,1,2]]]);
//# sourceMappingURL=main.979b85f4.chunk.js.map